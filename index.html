<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Docebo Project Management</title>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"/>
  <style>
    :root {
      /* ── Docebo Official Brand Colors ───────────────────── */
      /* Extracted from logo PNG #03032A and brand slide #883DE6 */
      --dcb-navy:        #03032A;   /* logo midnight navy — sidebar bg */
      --dcb-navy-mid:    #0A0A40;   /* sidebar row hover */
      --dcb-navy-border: #1A1A50;   /* sidebar dividers */
      --dcb-navy-text:   rgba(255,255,255,0.60); /* muted sidebar text */
      --dcb-purple:      #883DE6;   /* Docebo brand purple — primary CTA */
      --dcb-purple-dark: #6B2EC2;   /* purple hover */
      --dcb-purple-light:#F3ECFD;   /* purple tint bg */
      --dcb-purple-mid:  #D5B8F7;   /* purple tint for badges */
      --dcb-text:        #03032A;   /* primary text — same as logo navy */
      --dcb-text-mid:    #4A4A6A;   /* secondary text */
      --dcb-text-light:  #9090B0;   /* placeholder / muted */
      --dcb-bg:          #F5F5FA;   /* page background — cool near-white */
      --dcb-surface:     #FFFFFF;   /* cards / panels */
      --dcb-border:      #E0E0EC;   /* dividers */
      --dcb-border-dark: #C8C8E0;   /* stronger borders */
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: 'Nunito Sans', system-ui, -apple-system, sans-serif; }
    html, body, #root { height: 100%; overflow: hidden; }
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button { opacity: 0.5; }
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    /* Tailwind extras not in CDN */
    .rounded-2xl { border-radius: 1rem; }
    .rounded-xl  { border-radius: 0.75rem; }
    .tracking-wide { letter-spacing: 0.025em; }
    .tracking-wider { letter-spacing: 0.05em; }
    .font-mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
    .gap-1 { gap: 0.25rem; } .gap-1\.5 { gap: 0.375rem; }
    .gap-2 { gap: 0.5rem; } .gap-3 { gap: 0.75rem; }
    .gap-4 { gap: 1rem; } .gap-6 { gap: 1.5rem; }
    .space-y-1 > * + * { margin-top: 0.25rem; }
    .space-y-1\.5 > * + * { margin-top: 0.375rem; }
    .space-y-4 > * + * { margin-top: 1rem; }
    .space-y-6 > * + * { margin-top: 1.5rem; }
    .w-1 { width: 0.25rem; } .w-1\.5 { width: 0.375rem; }
    .w-2 { width: 0.5rem; } .w-2\.5 { width: 0.625rem; }
    .w-3 { width: 0.75rem; } .w-5 { width: 1.25rem; }
    .w-6 { width: 1.5rem; } .w-7 { width: 1.75rem; }
    .w-8 { width: 2rem; } .w-10 { width: 2.5rem; }
    .w-12 { width: 3rem; } .w-20 { width: 5rem; }
    .w-28 { width: 7rem; } .w-32 { width: 8rem; }
    .w-44 { width: 11rem; } .w-48 { width: 12rem; }
    .w-56 { width: 14rem; } .w-px { width: 1px; }
    .h-1 { height: 0.25rem; } .h-1\.5 { height: 0.375rem; }
    .h-2 { height: 0.5rem; } .h-3 { height: 0.75rem; }
    .h-4 { height: 1rem; } .h-5 { height: 1.25rem; }
    .h-6 { height: 1.5rem; } .h-7 { height: 1.75rem; }
    .h-8 { height: 2rem; } .h-9 { height: 2.25rem; }
    .h-10 { height: 2.5rem; } .h-12 { height: 3rem; }
    .h-full { height: 100%; } .h-px { height: 1px; }
    .min-w-0 { min-width: 0; } .min-w-24 { min-width: 6rem; }
    .min-w-28 { min-width: 7rem; } .min-w-48 { min-width: 12rem; }
    .min-w-52 { min-width: 13rem; } .min-w-max { min-width: max-content; }
    .max-w-xs  { max-width: 20rem; } .max-w-32 { max-width: 8rem; }
    .max-w-36 { max-width: 9rem; } .max-w-48 { max-width: 12rem; }
    .max-w-52 { max-width: 13rem; }
    .max-h-32 { max-height: 8rem; } .max-h-48 { max-height: 12rem; }
    .max-h-\[90vh\] { max-height: 90vh; }
    .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .text-xl  { font-size: 1.25rem; line-height: 1.75rem; }
    .text-lg  { font-size: 1.125rem; line-height: 1.75rem; }
    .text-base { font-size: 1rem; line-height: 1.5rem; }
    .text-sm  { font-size: 0.875rem; line-height: 1.25rem; }
    .text-xs  { font-size: 0.75rem; line-height: 1rem; }
    .font-medium { font-weight: 500; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .leading-none { line-height: 1; }
    .select-none { user-select: none; }
    .cursor-pointer { cursor: pointer; }
    .cursor-not-allowed { cursor: not-allowed; }
    .resize-none { resize: none; }
    .overflow-hidden { overflow: hidden; }
    .overflow-y-auto { overflow-y: auto; }
    .overflow-x-auto { overflow-x: auto; }
    .transition-all { transition: all 0.15s ease; }
    .transition-colors { transition: color 0.15s ease, background-color 0.15s ease; }
    .transition-shadow { transition: box-shadow 0.15rem ease; }
    .scale-110 { transform: scale(1.1); }
    .shrink-0, .flex-shrink-0 { flex-shrink: 0; }
    .flex-1 { flex: 1 1 0%; }
    .flex-wrap { flex-wrap: wrap; }
    .flex-col { flex-direction: column; }
    .items-start { align-items: flex-start; }
    .items-center { align-items: center; }
    .items-stretch { align-items: stretch; }
    .items-end { align-items: flex-end; }
    .justify-between { justify-content: space-between; }
    .justify-end { justify-content: flex-end; }
    .justify-center { justify-content: center; }
    .self-center { align-self: center; }
    .sticky { position: sticky; }
    .top-0 { top: 0; }
    .border-collapse { border-collapse: collapse; }
    .border-separate { border-collapse: separate; }
    .table-auto { table-layout: auto; }
    .align-top { vertical-align: top; }
    .uppercase { text-transform: uppercase; }
    .capitalize { text-transform: capitalize; }
    .truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .whitespace-nowrap { white-space: nowrap; }
    .break-words { word-break: break-word; }
    .opacity-50 { opacity: 0.5; }
    .opacity-60 { opacity: 0.6; }
    .z-5 { z-index: 5; }
    .z-10 { z-index: 10; }
    .z-20 { z-index: 20; }
    .z-50 { z-index: 50; }
    .inset-0 { top:0; right:0; bottom:0; left:0; }
    .bottom-full { bottom: 100%; }
    .divide-y > * + * { border-top-width: 1px; border-top-style: solid; }
    .divide-slate-50 > * + * { border-color: #f8fafc; }
    .divide-slate-100 > * + * { border-color: #f1f5f9; }
    .grid-cols-1 { grid-template-columns: repeat(1, minmax(0,1fr)); }
    .grid-cols-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
    .grid-cols-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
    .grid-cols-4 { grid-template-columns: repeat(4, minmax(0,1fr)); }
    .grid-cols-6 { grid-template-columns: repeat(6, minmax(0,1fr)); }
    .col-span-2 { grid-column: span 2 / span 2; }
    .col-span-3 { grid-column: span 3 / span 3; }
    @media (min-width: 768px) {
      .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
      .md\:grid-cols-5 { grid-template-columns: repeat(5, minmax(0,1fr)); }
    }
    @media (min-width: 1280px) {
      .xl\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
      .xl\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
    }
    /* Color utilities needed */
    .bg-teal-50 docebo-teal-tint  { background-color: #eef2ff; }
    .bg-teal-100 { background-color: #e0e7ff; }
    .bg-teal-600 docebo-teal-bg { background-color: #4f46e5; }
    .bg-indigo-700 { background-color: #4338ca; }
    .bg-indigo-900 { background-color: #312e81; }
    .bg-teal-50 docebo-teal-tint\/40 { background-color: rgba(238,242,255,0.4); }
    .bg-teal-50 docebo-teal-tint\/50 { background-color: rgba(238,242,255,0.5); }
    .hover\:bg-teal-50 docebo-teal-tint:hover { background-color: #eef2ff; }
    .hover\:bg-indigo-700:hover { background-color: #4338ca; }
    .focus\:bg-teal-50 docebo-teal-tint:focus { background-color: #eef2ff; }
    .focus\:ring-teal-500:focus { --tw-ring-color: #818cf8; box-shadow: 0 0 0 2px var(--tw-ring-color); }
    .text-teal-600 { color: #4f46e5; }
    .text-teal-700 { color: #4338ca; }
    .hover\:text-teal-600:hover { color: #4f46e5; }
    .bg-slate-50  { background-color: #f8fafc; }
    .bg-slate-50\/30 { background-color: rgba(248,250,252,0.3); }
    .bg-slate-50\/50 { background-color: rgba(248,250,252,0.5); }
    .bg-slate-100 { background-color: #f1f5f9; }
    .bg-slate-200 { background-color: #e2e8f0; }
    .bg-slate-800 { background-color: #1e293b; }
    .bg-slate-900 { background-color: #0f172a; }
    .hover\:bg-slate-50:hover { background-color: #f8fafc; }
    .hover\:bg-slate-100:hover { background-color: #f1f5f9; }
    .hover\:bg-slate-200:hover { background-color: #e2e8f0; }
    .hover\:bg-slate-700:hover { background-color: #334155; }
    .hover\:bg-slate-800:hover { background-color: #1e293b; }
    .text-slate-300 { color: #cbd5e1; }
    .text-slate-400 { color: #94a3b8; }
    .text-slate-500 { color: #64748b; }
    .text-slate-600 { color: #475569; }
    .text-slate-700 { color: #334155; }
    .text-slate-800 { color: #1e293b; }
    .text-slate-900 { color: #0f172a; }
    .hover\:text-slate-600:hover { color: #475569; }
    .hover\:text-slate-800:hover { color: #1e293b; }
    .hover\:text-slate-900:hover { color: #0f172a; }
    .hover\:text-white:hover { color: #fff; }
    .border-slate-50  { border-color: #f8fafc; }
    .border-slate-100 { border-color: #f1f5f9; }
    .border-slate-200 { border-color: #e2e8f0; }
    .border-slate-300 { border-color: #cbd5e1; }
    .border-slate-600 { border-color: #475569; }
    .border-slate-700 { border-color: #334155; }
    .border-slate-800 { border-color: #1e293b; }
    .border-l-2 { border-left-width: 2px; }
    .border-t-2 { border-top-width: 2px; }
    .bg-green-50  { background-color: #f0fdf4; }
    .bg-green-100 { background-color: #dcfce7; }
    .text-green-400 { color: #4ade80; }
    .text-green-600 { color: #16a34a; }
    .text-green-700 { color: #15803d; }
    .hover\:bg-green-700:hover { background-color: #15803d; }
    .bg-green-600 { background-color: #16a34a; }
    .bg-red-50  { background-color: #fef2f2; }
    .bg-red-100 { background-color: #fee2e2; }
    .bg-red-600 { background-color: #dc2626; }
    .text-red-400 { color: #f87171; }
    .text-red-500 { color: #ef4444; }
    .text-red-600 { color: #dc2626; }
    .text-red-700 { color: #b91c1c; }
    .hover\:text-red-600:hover { color: #dc2626; }
    .hover\:bg-red-700:hover { background-color: #b91c1c; }
    .bg-amber-50  { background-color: #fffbeb; }
    .bg-amber-100 { background-color: #fef3c7; }
    .text-amber-300 { color: #fcd34d; }
    .text-amber-600 { color: #d97706; }
    .text-amber-700 { color: #b45309; }
    .bg-blue-50  { background-color: #eff6ff; }
    .bg-blue-100 { background-color: #dbeafe; }
    .text-blue-700 { color: #1d4ed8; }
    .bg-sky-50  { background-color: #f0f9ff; }
    .text-sky-700 { color: #0369a1; }
    .bg-violet-50 { background-color: #f5f3ff; }
    .text-violet-700 { color: #6d28d9; }
    .bg-rose-50 { background-color: #fff1f2; }
    .text-rose-700 { color: #be123c; }
    .text-rose-600 { color: #e11d48; }
    .bg-teal-100 { background-color: #ccfbf1; }
    .text-teal-700 { color: #0f766e; }
    .shadow-sm { box-shadow: 0 1px 2px 0 rgba(0,0,0,0.05); }
    .shadow-md { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); }
    .shadow-2xl { box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); }
    .hover\:shadow-md:hover { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
    .hover\:shadow-2xl:hover { box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); }
    .focus\:outline-none:focus { outline: none; }
    .focus\:ring-2:focus { box-shadow: 0 0 0 2px; }
    .border { border-width: 1px; }
    .border-l { border-left-width: 1px; }
    .border-r { border-right-width: 1px; }
    .border-b { border-bottom-width: 1px; }
    .border-t { border-top-width: 1px; }
    .border-2 { border-width: 2px; }
    .border-transparent { border-color: transparent; }
    .border-dashed { border-style: dashed; }
    .rounded { border-radius: 0.25rem; }
    .rounded-md { border-radius: 0.375rem; }
    .rounded-lg { border-radius: 0.5rem; }
    .rounded-full { border-radius: 9999px; }
    .p-0 { padding: 0; }
    .p-1 { padding: 0.25rem; }
    .p-2 { padding: 0.5rem; }
    .p-3 { padding: 0.75rem; }
    .p-4 { padding: 1rem; }
    .p-5 { padding: 1.25rem; }
    .p-6 { padding: 1.5rem; }
    .px-0 { padding-left:0; padding-right:0; }
    .px-2 { padding-left:0.5rem; padding-right:0.5rem; }
    .px-2\.5 { padding-left:0.625rem; padding-right:0.625rem; }
    .px-3 { padding-left:0.75rem; padding-right:0.75rem; }
    .px-4 { padding-left:1rem; padding-right:1rem; }
    .px-5 { padding-left:1.25rem; padding-right:1.25rem; }
    .px-6 { padding-left:1.5rem; padding-right:1.5rem; }
    .py-0 { padding-top:0; padding-bottom:0; }
    .py-0\.5 { padding-top:0.125rem; padding-bottom:0.125rem; }
    .py-1 { padding-top:0.25rem; padding-bottom:0.25rem; }
    .py-1\.5 { padding-top:0.375rem; padding-bottom:0.375rem; }
    .py-2 { padding-top:0.5rem; padding-bottom:0.5rem; }
    .py-2\.5 { padding-top:0.625rem; padding-bottom:0.625rem; }
    .py-3 { padding-top:0.75rem; padding-bottom:0.75rem; }
    .py-4 { padding-top:1rem; padding-bottom:1rem; }
    .py-5 { padding-top:1.25rem; padding-bottom:1.25rem; }
    .py-6 { padding-top:1.5rem; padding-bottom:1.5rem; }
    .py-8 { padding-top:2rem; padding-bottom:2rem; }
    .py-10 { padding-top:2.5rem; padding-bottom:2.5rem; }
    .py-12 { padding-top:3rem; padding-bottom:3rem; }
    .py-20 { padding-top:5rem; padding-bottom:5rem; }
    .pl-8 { padding-left: 2rem; }
    .pt-4 { padding-top: 1rem; }
    .mt-0 { margin-top: 0; } .mt-0\.5 { margin-top: 0.125rem; }
    .mt-1 { margin-top: 0.25rem; } .mt-1\.5 { margin-top: 0.375rem; }
    .mt-2 { margin-top: 0.5rem; } .mt-3 { margin-top: 0.75rem; }
    .mt-4 { margin-top: 1rem; } .mt-6 { margin-top: 1.5rem; }
    .mb-1 { margin-bottom: 0.25rem; } .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; } .mb-4 { margin-bottom: 1rem; }
    .mb-5 { margin-bottom: 1.25rem; } .mb-6 { margin-bottom: 1.5rem; }
    .ml-0\.5 { margin-left: 0.125rem; } .ml-1 { margin-left: 0.25rem; }
    .ml-2 { margin-left: 0.5rem; } .ml-auto { margin-left: auto; }
    .mr-1 { margin-right: 0.25rem; }
    .text-center { text-align: center; }
    .text-left { text-align: left; }
    .text-right { text-align: right; }
    .text-white { color: white; }
    .bg-white { background-color: white; }
    .bg-transparent { background-color: transparent; }
    .hidden { display: none; }
    .block { display: block; }
    .flex { display: flex; }
    .inline-flex { display: inline-flex; }
    .grid { display: grid; }
    .relative { position: relative; }
    .absolute { position: absolute; }
    .fixed { position: fixed; }
    .w-full { width: 100%; }
    .h-screen { height: 100vh; }
    .max-w-2xl { max-width: 42rem; }
    .max-w-3xl { max-width: 48rem; }
    .text-5xl { font-size: 3rem; line-height: 1; }

    /* ═══════════════════════════════════════════════════════════
       DOCEBO BRAND THEME — Official brand colors from assets
       Logo navy: #03032A | CTA Purple: #883DE6
       Font: Nunito Sans
       ═══════════════════════════════════════════════════════════ */
    * { font-family: 'Nunito Sans', system-ui, sans-serif; }

    /* Purple replaces teal (which replaced indigo) */
    .bg-teal-600, .docebo-teal-bg, .bg-purple-600 {
      background-color: var(--dcb-purple) !important;
    }
    .bg-teal-700, .bg-purple-700 { background-color: var(--dcb-purple-dark) !important; }
    .bg-teal-500, .bg-purple-500 { background-color: var(--dcb-purple) !important; }
    .bg-teal-100, .bg-purple-100 { background-color: var(--dcb-purple-mid) !important; }
    .bg-teal-50, .docebo-teal-tint, .bg-purple-50 { background-color: var(--dcb-purple-light) !important; }

    .text-teal-700, .text-purple-700 { color: var(--dcb-purple-dark) !important; }
    .text-teal-600, .text-purple-600 { color: var(--dcb-purple) !important; }
    .text-teal-500, .text-purple-500 { color: var(--dcb-purple) !important; }
    .text-teal-400, .text-purple-400 { color: #A870F0 !important; }
    .text-teal-200, .text-purple-200 { color: var(--dcb-purple-mid) !important; }
    .text-teal-800, .text-purple-800 { color: #4A1A8A !important; }

    .border-teal-500, .border-teal-400,
    .border-purple-500, .border-purple-400 { border-color: var(--dcb-purple) !important; }
    .ring-teal-500, .ring-teal-400,
    .ring-purple-500, .ring-purple-400 { --tw-ring-color: var(--dcb-purple) !important; }

    .hover\:bg-teal-700:hover, .hover\:bg-purple-700:hover {
      background-color: var(--dcb-purple-dark) !important;
    }
    .hover\:bg-teal-50:hover  { background-color: var(--dcb-purple-light) !important; }
    .hover\:text-teal-800:hover { color: #4A1A8A !important; }
    .hover\:text-teal-700:hover { color: var(--dcb-purple-dark) !important; }
    .hover\:text-teal-600:hover { color: var(--dcb-purple) !important; }

    .accent-teal-600 { accent-color: var(--dcb-purple); }
    .focus\:ring-teal-400:focus, .focus\:ring-teal-500:focus {
      box-shadow: 0 0 0 2px var(--dcb-purple) !important;
    }
    /* Table headers — Docebo midnight navy */
    thead tr { background: var(--dcb-navy) !important; }

    /* Sidebar active nav glow */
    .dcb-nav-active {
      background: var(--dcb-purple) !important;
      box-shadow: 0 2px 12px rgba(136, 61, 230, 0.35) !important;
    }

    /* Primary button style */
    .dcb-btn { background: var(--dcb-purple); color: #fff; border-radius: 8px; transition: background 0.15s; }
    .dcb-btn:hover { background: var(--dcb-purple-dark); }
  </style>
  <style>
  </style>
</head>
<body>


  <!-- Root for React app (hidden until auth) -->
  <div id="root"></div>

  
  <script>
(() => {
  var __defProp = Object.defineProperty;
  var __defProps = Object.defineProperties;
  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
  var __getOwnPropSymbols = Object.getOwnPropertySymbols;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __propIsEnum = Object.prototype.propertyIsEnumerable;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues = (a, b) => {
    for (var prop in b || (b = {}))
      if (__hasOwnProp.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    if (__getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(b)) {
        if (__propIsEnum.call(b, prop))
          __defNormalProp(a, prop, b[prop]);
      }
    return a;
  };
  var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
  const { useState, useEffect, useMemo, useRef, useCallback } = React;
  const SEED_USERS = [
    {
        "id": "u_johndoe",
        "name": "John",
        "lastName": "Doe",
        "email": "john.doe@acme.corp",
        "role": "Project Manager",
        "org": "Acme Corp",
        "country": "Canada",
        "tz": "EST",
        "color": "#6366f1",
        "initials": "JD",
        "isClient": false,
        "isPartner": false,
        "isManager": true,
        "isSuperAdmin": true,
        "managerId": null
    },
    {
        "id": "u_janedoe",
        "name": "Jane",
        "lastName": "Doe",
        "email": "jane.doe@tollbrothers.com",
        "role": "Project Manager",
        "org": "Toll Brothers",
        "country": "US",
        "tz": "EST",
        "color": "#0ea5e9",
        "initials": "JD",
        "isClient": false,
        "isPartner": false,
        "isManager": true,
        "isSuperAdmin": false,
        "managerId": "u_johndoe"
    },
    {
        "id": "u_dkim",
        "name": "David",
        "lastName": "Kim",
        "email": "d.kim@acme.corp",
        "role": "Foreman",
        "org": "Acme Corp",
        "country": "Canada",
        "tz": "EST",
        "color": "#f59e0b",
        "initials": "DK",
        "isClient": false,
        "isPartner": false,
        "isManager": true,
        "isSuperAdmin": false,
        "managerId": "u_johndoe"
    },
    {
        "id": "u_ewright",
        "name": "Emily",
        "lastName": "Wright",
        "email": "e.wright@acme.corp",
        "role": "Architect",
        "org": "Acme Corp",
        "country": "Canada",
        "tz": "EST",
        "color": "#8b5cf6",
        "initials": "EW",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_johndoe"
    },
    {
        "id": "u_mturner",
        "name": "Mike",
        "lastName": "Turner",
        "email": "m.turner@acme.corp",
        "role": "Carpenter",
        "org": "Acme Corp",
        "country": "Canada",
        "tz": "EST",
        "color": "#d97706",
        "initials": "MT",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_dkim"
    },
    {
        "id": "u_schen",
        "name": "Sarah",
        "lastName": "Chen",
        "email": "s.chen@acme.corp",
        "role": "Electrician",
        "org": "Acme Corp",
        "country": "Canada",
        "tz": "EST",
        "color": "#ec4899",
        "initials": "SC",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_dkim"
    },
    {
        "id": "u_rgarcia",
        "name": "Roberto",
        "lastName": "Garcia",
        "email": "r.garcia@acme.corp",
        "role": "Plumber",
        "org": "Acme Corp",
        "country": "US",
        "tz": "CST",
        "color": "#14b8a6",
        "initials": "RG",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_dkim"
    },
    {
        "id": "u_tbradley",
        "name": "Tom",
        "lastName": "Bradley",
        "email": "t.bradley@acme.corp",
        "role": "Safety Officer",
        "org": "Acme Corp",
        "country": "Canada",
        "tz": "EST",
        "color": "#ef4444",
        "initials": "TB",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_johndoe"
    },
    {
        "id": "u_dhall",
        "name": "Derek",
        "lastName": "Hall",
        "email": "d.hall@acme.corp",
        "role": "HVAC Technician",
        "org": "Acme Corp",
        "country": "Canada",
        "tz": "EST",
        "color": "#06b6d4",
        "initials": "DH",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_dkim"
    },
    {
        "id": "u_cmendoza",
        "name": "Carlos",
        "lastName": "Mendoza",
        "email": "c.mendoza@tollbrothers.com",
        "role": "Mason",
        "org": "Toll Brothers",
        "country": "US",
        "tz": "CST",
        "color": "#a855f7",
        "initials": "CM",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_janedoe"
    },
    {
        "id": "u_jsteel",
        "name": "James",
        "lastName": "Steel",
        "email": "j.steel@tollbrothers.com",
        "role": "Welder",
        "org": "Toll Brothers",
        "country": "US",
        "tz": "EST",
        "color": "#64748b",
        "initials": "JS",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_janedoe"
    },
    {
        "id": "u_lpark",
        "name": "Lisa",
        "lastName": "Park",
        "email": "l.park@tollbrothers.com",
        "role": "Heavy Equipment Operator",
        "org": "Toll Brothers",
        "country": "US",
        "tz": "PST",
        "color": "#f97316",
        "initials": "LP",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_janedoe"
    },
    {
        "id": "u_npatel",
        "name": "Nina",
        "lastName": "Patel",
        "email": "n.patel@tollbrothers.com",
        "role": "Surveyor",
        "org": "Toll Brothers",
        "country": "US",
        "tz": "EST",
        "color": "#10b981",
        "initials": "NP",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_janedoe"
    },
    {
        "id": "u_afoster",
        "name": "Amy",
        "lastName": "Foster",
        "email": "a.foster@tollbrothers.com",
        "role": "Painter",
        "org": "Toll Brothers",
        "country": "US",
        "tz": "EST",
        "color": "#84cc16",
        "initials": "AF",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_janedoe"
    },
    {
        "id": "u_btorres",
        "name": "Ben",
        "lastName": "Torres",
        "email": "b.torres@tollbrothers.com",
        "role": "Roofer",
        "org": "Toll Brothers",
        "country": "US",
        "tz": "CST",
        "color": "#e11d48",
        "initials": "BT",
        "isClient": false,
        "isPartner": false,
        "isManager": false,
        "isSuperAdmin": false,
        "managerId": "u_janedoe"
    }
];
  const SEED_PROJECTS = [
    {
        "id": "p_acme",
        "name": "Acme Corp HQ Expansion",
        "clientName": "Acme Corp",
        "description": "Major 6-storey headquarters expansion including new east wing, underground parking, and rooftop terrace. Total 42,000 sq ft.",
        "status": "Active",
        "color": "#f59e0b",
        "startDate": "2025-08-04",
        "endDate": "2026-07-31",
        "pmId": "u_johndoe",
        "resourceIds": [
            "u_johndoe",
            "u_dkim",
            "u_ewright",
            "u_mturner",
            "u_schen",
            "u_rgarcia",
            "u_tbradley",
            "u_dhall",
            "u_npatel"
        ]
    },
    {
        "id": "p_toll",
        "name": "Riverside Condominiums",
        "clientName": "Toll Brothers",
        "description": "Luxury 4-block residential condominium development with 120 units, underground parking, and shared amenities.",
        "status": "Active",
        "color": "#0ea5e9",
        "startDate": "2025-10-06",
        "endDate": "2026-11-30",
        "pmId": "u_janedoe",
        "resourceIds": [
            "u_janedoe",
            "u_cmendoza",
            "u_jsteel",
            "u_lpark",
            "u_npatel",
            "u_afoster",
            "u_btorres",
            "u_tbradley",
            "u_rgarcia"
        ]
    }
];
  const SEED_TASKS = [
    {
        "id": "t_a1",
        "projectId": "p_acme",
        "title": "Site Survey & Geotechnical Assessment",
        "type": "milestone",
        "status": "Completed",
        "priority": "high",
        "startDate": "2025-08-04",
        "dueDate": "2025-08-15",
        "assigneeIds": [
            "u_npatel",
            "u_ewright"
        ],
        "percentDone": 100,
        "estimatedHours": 40,
        "parentId": null,
        "description": "Complete topographic survey, soil testing, and geotechnical report before breaking ground."
    },
    {
        "id": "t_a2",
        "projectId": "p_acme",
        "title": "Demolition & Site Clearing",
        "type": "task",
        "status": "Completed",
        "priority": "high",
        "startDate": "2025-08-18",
        "dueDate": "2025-09-05",
        "assigneeIds": [
            "u_lpark",
            "u_dkim"
        ],
        "percentDone": 100,
        "estimatedHours": 120,
        "parentId": null,
        "description": "Remove existing structures, clear site, and prepare for excavation."
    },
    {
        "id": "t_a3",
        "projectId": "p_acme",
        "title": "Foundation Excavation",
        "type": "task",
        "status": "Completed",
        "priority": "high",
        "startDate": "2025-09-08",
        "dueDate": "2025-09-26",
        "assigneeIds": [
            "u_lpark",
            "u_rgarcia",
            "u_dkim"
        ],
        "percentDone": 100,
        "estimatedHours": 200,
        "parentId": null,
        "description": "Excavate to bearing depth, install shoring, rough grading for footings."
    },
    {
        "id": "t_a4",
        "projectId": "p_acme",
        "title": "Foundation Pouring & Concrete Work",
        "type": "task",
        "status": "Completed",
        "priority": "high",
        "startDate": "2025-09-29",
        "dueDate": "2025-10-24",
        "assigneeIds": [
            "u_cmendoza",
            "u_mturner",
            "u_dkim"
        ],
        "percentDone": 100,
        "estimatedHours": 280,
        "parentId": null,
        "description": "Form and pour spread footings, grade beams, and slab on grade. Cure and strip forms."
    },
    {
        "id": "t_a5",
        "projectId": "p_acme",
        "title": "Underground Plumbing Rough-In",
        "type": "task",
        "status": "Completed",
        "priority": "normal",
        "startDate": "2025-10-06",
        "dueDate": "2025-10-17",
        "assigneeIds": [
            "u_rgarcia"
        ],
        "percentDone": 100,
        "estimatedHours": 80,
        "parentId": null,
        "description": "Install below-slab sanitary, storm, and domestic water piping before slab pour."
    },
    {
        "id": "t_a6",
        "projectId": "p_acme",
        "title": "Steel Frame Erection",
        "type": "task",
        "status": "In Progress",
        "priority": "high",
        "startDate": "2025-10-27",
        "dueDate": "2026-02-27",
        "assigneeIds": [
            "u_jsteel",
            "u_dkim",
            "u_tbradley"
        ],
        "percentDone": 72,
        "estimatedHours": 600,
        "parentId": null,
        "description": "Erect structural steel columns, beams, and decking for all 6 floors. Includes anchor bolts and connections."
    },
    {
        "id": "t_a7",
        "projectId": "p_acme",
        "title": "Electrical Rough-In",
        "type": "task",
        "status": "In Progress",
        "priority": "normal",
        "startDate": "2025-12-01",
        "dueDate": "2026-04-30",
        "assigneeIds": [
            "u_schen",
            "u_dkim"
        ],
        "percentDone": 38,
        "estimatedHours": 400,
        "parentId": null,
        "description": "Install conduit, panels, junction boxes, and wire pulls for all electrical systems floors 1-6."
    },
    {
        "id": "t_a8",
        "projectId": "p_acme",
        "title": "Plumbing Rough-In",
        "type": "task",
        "status": "In Progress",
        "priority": "normal",
        "startDate": "2025-12-08",
        "dueDate": "2026-04-17",
        "assigneeIds": [
            "u_rgarcia"
        ],
        "percentDone": 30,
        "estimatedHours": 320,
        "parentId": null,
        "description": "Install DWV and supply piping above slab for all floors. Coordinate with structural and electrical."
    },
    {
        "id": "t_a9",
        "projectId": "p_acme",
        "title": "Exterior Masonry & Brickwork",
        "type": "task",
        "status": "In Progress",
        "priority": "normal",
        "startDate": "2026-01-05",
        "dueDate": "2026-05-29",
        "assigneeIds": [
            "u_cmendoza"
        ],
        "percentDone": 22,
        "estimatedHours": 480,
        "parentId": null,
        "description": "Install brick veneer and stone facade on east and north elevations per architectural drawings."
    },
    {
        "id": "t_a10",
        "projectId": "p_acme",
        "title": "HVAC System Installation",
        "type": "task",
        "status": "Not Started",
        "priority": "normal",
        "startDate": "2026-03-02",
        "dueDate": "2026-06-12",
        "assigneeIds": [
            "u_dhall"
        ],
        "percentDone": 0,
        "estimatedHours": 360,
        "parentId": null,
        "description": "Install AHUs, VAV boxes, ductwork, controls, and refrigerant piping for all zones."
    },
    {
        "id": "t_a11",
        "projectId": "p_acme",
        "title": "Roofing System Installation",
        "type": "task",
        "status": "Not Started",
        "priority": "normal",
        "startDate": "2026-04-13",
        "dueDate": "2026-05-22",
        "assigneeIds": [
            "u_btorres"
        ],
        "percentDone": 0,
        "estimatedHours": 160,
        "parentId": null,
        "description": "Install TPO membrane roofing, insulation, flashings, and roof drains on all roof levels."
    },
    {
        "id": "t_a12",
        "projectId": "p_acme",
        "title": "Interior Drywall & Insulation",
        "type": "task",
        "status": "Not Started",
        "priority": "normal",
        "startDate": "2026-04-27",
        "dueDate": "2026-06-19",
        "assigneeIds": [
            "u_mturner",
            "u_dkim"
        ],
        "percentDone": 0,
        "estimatedHours": 400,
        "parentId": null,
        "description": "Frame non-structural partitions, hang drywall, tape, mud, and install batt insulation."
    },
    {
        "id": "t_a13",
        "projectId": "p_acme",
        "title": "Interior Painting & Finishing",
        "type": "task",
        "status": "Not Started",
        "priority": "low",
        "startDate": "2026-06-01",
        "dueDate": "2026-07-10",
        "assigneeIds": [
            "u_afoster"
        ],
        "percentDone": 0,
        "estimatedHours": 240,
        "parentId": null,
        "description": "Prime and paint all interior surfaces. Install baseboards, trims, and final hardware."
    },
    {
        "id": "t_a14",
        "projectId": "p_acme",
        "title": "Safety Inspection & Sign-Off",
        "type": "deliverable",
        "status": "Not Started",
        "priority": "high",
        "startDate": "2026-07-13",
        "dueDate": "2026-07-25",
        "assigneeIds": [
            "u_tbradley",
            "u_johndoe"
        ],
        "percentDone": 0,
        "estimatedHours": 40,
        "parentId": null,
        "description": "Complete site safety audit, fire marshal inspection, and occupancy permit application."
    },
    {
        "id": "t_a15",
        "projectId": "p_acme",
        "title": "Project Handover & Commissioning",
        "type": "milestone",
        "status": "Not Started",
        "priority": "high",
        "startDate": "2026-07-27",
        "dueDate": "2026-07-31",
        "assigneeIds": [
            "u_johndoe",
            "u_ewright"
        ],
        "percentDone": 0,
        "estimatedHours": 24,
        "parentId": null,
        "description": "Final walkthrough, punch list completion, as-built documentation, and building handover to client."
    },
    {
        "id": "t_t1",
        "projectId": "p_toll",
        "title": "Site Survey & Boundary Staking",
        "type": "milestone",
        "status": "Completed",
        "priority": "high",
        "startDate": "2025-10-06",
        "dueDate": "2025-10-17",
        "assigneeIds": [
            "u_npatel"
        ],
        "percentDone": 100,
        "estimatedHours": 32,
        "parentId": null,
        "description": "Full topographic survey, legal boundary staking, and utility locate for all 4 blocks."
    },
    {
        "id": "t_t2",
        "projectId": "p_toll",
        "title": "Site Clearing & Tree Removal",
        "type": "task",
        "status": "Completed",
        "priority": "high",
        "startDate": "2025-10-20",
        "dueDate": "2025-11-07",
        "assigneeIds": [
            "u_lpark",
            "u_dkim"
        ],
        "percentDone": 100,
        "estimatedHours": 120,
        "parentId": null,
        "description": "Clear vegetation, remove trees per arborist report, grub stumps, and rough grade site."
    },
    {
        "id": "t_t3",
        "projectId": "p_toll",
        "title": "Grading, Earthwork & Storm Drainage",
        "type": "task",
        "status": "Completed",
        "priority": "high",
        "startDate": "2025-11-10",
        "dueDate": "2025-12-05",
        "assigneeIds": [
            "u_lpark",
            "u_rgarcia"
        ],
        "percentDone": 100,
        "estimatedHours": 200,
        "parentId": null,
        "description": "Cut and fill to design grades, install storm catch basins, culverts, and outfall structures."
    },
    {
        "id": "t_t4",
        "projectId": "p_toll",
        "title": "Underground Services (Water, Sewer, Gas)",
        "type": "task",
        "status": "In Progress",
        "priority": "high",
        "startDate": "2025-12-08",
        "dueDate": "2026-03-06",
        "assigneeIds": [
            "u_rgarcia",
            "u_dkim"
        ],
        "percentDone": 62,
        "estimatedHours": 280,
        "parentId": null,
        "description": "Excavate, install, and backfill municipal water, sanitary sewer, and gas service connections."
    },
    {
        "id": "t_t5",
        "projectId": "p_toll",
        "title": "Foundation \u2014 Block A & B",
        "type": "task",
        "status": "In Progress",
        "priority": "high",
        "startDate": "2026-01-05",
        "dueDate": "2026-03-20",
        "assigneeIds": [
            "u_cmendoza",
            "u_lpark"
        ],
        "percentDone": 68,
        "estimatedHours": 320,
        "parentId": null,
        "description": "Form, pour, and strip concrete footings and foundation walls for Blocks A and B."
    },
    {
        "id": "t_t6",
        "projectId": "p_toll",
        "title": "Foundation \u2014 Block C & D",
        "type": "task",
        "status": "In Progress",
        "priority": "high",
        "startDate": "2026-01-19",
        "dueDate": "2026-04-10",
        "assigneeIds": [
            "u_cmendoza",
            "u_lpark"
        ],
        "percentDone": 40,
        "estimatedHours": 320,
        "parentId": null,
        "description": "Form, pour, and strip concrete footings and foundation walls for Blocks C and D."
    },
    {
        "id": "t_t7",
        "projectId": "p_toll",
        "title": "Structural Steel & Welding \u2014 Block A",
        "type": "task",
        "status": "In Progress",
        "priority": "normal",
        "startDate": "2026-02-02",
        "dueDate": "2026-04-24",
        "assigneeIds": [
            "u_jsteel",
            "u_tbradley"
        ],
        "percentDone": 28,
        "estimatedHours": 280,
        "parentId": null,
        "description": "Fabricate and erect structural steel frame, connections, and floor decking for Block A."
    },
    {
        "id": "t_t8",
        "projectId": "p_toll",
        "title": "Structural Steel & Welding \u2014 Block B",
        "type": "task",
        "status": "Not Started",
        "priority": "normal",
        "startDate": "2026-04-06",
        "dueDate": "2026-06-19",
        "assigneeIds": [
            "u_jsteel"
        ],
        "percentDone": 0,
        "estimatedHours": 280,
        "parentId": null,
        "description": "Fabricate and erect structural steel frame, connections, and floor decking for Block B."
    },
    {
        "id": "t_t9",
        "projectId": "p_toll",
        "title": "Framing \u2014 Block A",
        "type": "task",
        "status": "Not Started",
        "priority": "normal",
        "startDate": "2026-04-27",
        "dueDate": "2026-07-10",
        "assigneeIds": [
            "u_mturner",
            "u_dkim"
        ],
        "percentDone": 0,
        "estimatedHours": 360,
        "parentId": null,
        "description": "Wood framing for all interior partitions and exterior walls, Block A residential units."
    },
    {
        "id": "t_t10",
        "projectId": "p_toll",
        "title": "MEP Rough-In \u2014 Block A",
        "type": "task",
        "status": "Not Started",
        "priority": "normal",
        "startDate": "2026-06-22",
        "dueDate": "2026-09-04",
        "assigneeIds": [
            "u_schen",
            "u_rgarcia",
            "u_dhall"
        ],
        "percentDone": 0,
        "estimatedHours": 480,
        "parentId": null,
        "description": "Rough-in mechanical, electrical, and plumbing for all units in Block A."
    },
    {
        "id": "t_t11",
        "projectId": "p_toll",
        "title": "Roofing \u2014 Block A & B",
        "type": "task",
        "status": "Not Started",
        "priority": "normal",
        "startDate": "2026-08-03",
        "dueDate": "2026-09-18",
        "assigneeIds": [
            "u_btorres"
        ],
        "percentDone": 0,
        "estimatedHours": 200,
        "parentId": null,
        "description": "Install roofing system including membrane, insulation, flashing, and drainage."
    },
    {
        "id": "t_t12",
        "projectId": "p_toll",
        "title": "Safety & Compliance Audit \u2014 Q1",
        "type": "deliverable",
        "status": "Completed",
        "priority": "high",
        "startDate": "2026-01-19",
        "dueDate": "2026-01-23",
        "assigneeIds": [
            "u_tbradley",
            "u_janedoe"
        ],
        "percentDone": 100,
        "estimatedHours": 24,
        "parentId": null,
        "description": "Quarterly site safety audit, incident review, toolbox talks documentation, and compliance report."
    },
    {
        "id": "t_t13",
        "projectId": "p_toll",
        "title": "Safety & Compliance Audit \u2014 Q2",
        "type": "deliverable",
        "status": "Not Started",
        "priority": "high",
        "startDate": "2026-04-13",
        "dueDate": "2026-04-17",
        "assigneeIds": [
            "u_tbradley",
            "u_janedoe"
        ],
        "percentDone": 0,
        "estimatedHours": 24,
        "parentId": null,
        "description": "Q2 site safety audit, review near-misses, update MSDS sheets, and submit compliance report."
    },
    {
        "id": "t_t14",
        "projectId": "p_toll",
        "title": "Project Handover \u2014 Phase 1 (Blocks A & B)",
        "type": "milestone",
        "status": "Not Started",
        "priority": "high",
        "startDate": "2026-10-26",
        "dueDate": "2026-11-06",
        "assigneeIds": [
            "u_janedoe",
            "u_npatel"
        ],
        "percentDone": 0,
        "estimatedHours": 32,
        "parentId": null,
        "description": "Deficiency list completion, final inspections, and handover of Blocks A and B to client."
    }
];
  const SEED_TEMPLATES = [];
  const SEED_TIME_ENTRIES = {"u_johndoe-2026-01-26-r_6187e579-2026-01-26":{"hours":6},"u_johndoe-2026-01-26-r_6187e579-2026-01-27":{"hours":7},"u_johndoe-2026-01-26-r_6187e579-2026-01-28":{"hours":7},"u_johndoe-2026-01-26-r_6187e579-2026-01-29":{"hours":6},"u_johndoe-2026-01-26-r_6187e579-2026-01-30":{"hours":6},"u_johndoe-2026-01-26-r_b54b3c35-2026-01-26":{"hours":6},"u_johndoe-2026-01-26-r_b54b3c35-2026-01-27":{"hours":7},"u_johndoe-2026-01-26-r_b54b3c35-2026-01-28":{"hours":6},"u_johndoe-2026-01-26-r_b54b3c35-2026-01-29":{"hours":6},"u_johndoe-2026-01-26-r_b54b3c35-2026-01-30":{"hours":7},"u_johndoe-2026-01-26-r_11cbb1e5-2026-01-26":{"hours":6},"u_johndoe-2026-01-26-r_11cbb1e5-2026-01-27":{"hours":6},"u_johndoe-2026-01-26-r_11cbb1e5-2026-01-28":{"hours":7},"u_johndoe-2026-01-26-r_11cbb1e5-2026-01-29":{"hours":6},"u_johndoe-2026-01-26-r_11cbb1e5-2026-01-30":{"hours":6},"u_johndoe-2026-02-02-r_d815cfcf-2026-02-02":{"hours":6},"u_johndoe-2026-02-02-r_d815cfcf-2026-02-03":{"hours":6},"u_johndoe-2026-02-02-r_d815cfcf-2026-02-04":{"hours":7},"u_johndoe-2026-02-02-r_d815cfcf-2026-02-05":{"hours":6},"u_johndoe-2026-02-02-r_d815cfcf-2026-02-06":{"hours":6},"u_johndoe-2026-02-02-r_1af0b748-2026-02-02":{"hours":6},"u_johndoe-2026-02-02-r_1af0b748-2026-02-03":{"hours":7},"u_johndoe-2026-02-02-r_1af0b748-2026-02-04":{"hours":7},"u_johndoe-2026-02-02-r_1af0b748-2026-02-05":{"hours":7},"u_johndoe-2026-02-02-r_1af0b748-2026-02-06":{"hours":7},"u_johndoe-2026-02-02-r_ffdf295e-2026-02-02":{"hours":6},"u_johndoe-2026-02-02-r_ffdf295e-2026-02-03":{"hours":6},"u_johndoe-2026-02-02-r_ffdf295e-2026-02-04":{"hours":7},"u_johndoe-2026-02-02-r_ffdf295e-2026-02-05":{"hours":6},"u_johndoe-2026-02-02-r_ffdf295e-2026-02-06":{"hours":6},"u_johndoe-2026-02-09-r_2f3bb6a4-2026-02-09":{"hours":6},"u_johndoe-2026-02-09-r_2f3bb6a4-2026-02-10":{"hours":6},"u_johndoe-2026-02-09-r_2f3bb6a4-2026-02-11":{"hours":6},"u_johndoe-2026-02-09-r_2f3bb6a4-2026-02-12":{"hours":6},"u_johndoe-2026-02-09-r_2f3bb6a4-2026-02-13":{"hours":6},"u_johndoe-2026-02-09-r_f6f9085a-2026-02-09":{"hours":6},"u_johndoe-2026-02-09-r_f6f9085a-2026-02-10":{"hours":6},"u_johndoe-2026-02-09-r_f6f9085a-2026-02-11":{"hours":6},"u_johndoe-2026-02-09-r_f6f9085a-2026-02-12":{"hours":7},"u_johndoe-2026-02-09-r_f6f9085a-2026-02-13":{"hours":7},"u_johndoe-2026-02-09-r_30990706-2026-02-09":{"hours":6},"u_johndoe-2026-02-09-r_30990706-2026-02-10":{"hours":6},"u_johndoe-2026-02-09-r_30990706-2026-02-11":{"hours":7},"u_johndoe-2026-02-09-r_30990706-2026-02-13":{"hours":6},"u_johndoe-2026-02-16-r_755949c9-2026-02-16":{"hours":6},"u_johndoe-2026-02-16-r_755949c9-2026-02-17":{"hours":6},"u_johndoe-2026-02-16-r_755949c9-2026-02-18":{"hours":6},"u_johndoe-2026-02-16-r_755949c9-2026-02-19":{"hours":6},"u_johndoe-2026-02-16-r_755949c9-2026-02-20":{"hours":6},"u_johndoe-2026-02-16-r_471915c2-2026-02-16":{"hours":6},"u_johndoe-2026-02-16-r_471915c2-2026-02-17":{"hours":6},"u_johndoe-2026-02-16-r_471915c2-2026-02-18":{"hours":6},"u_johndoe-2026-02-16-r_471915c2-2026-02-19":{"hours":6},"u_johndoe-2026-02-16-r_471915c2-2026-02-20":{"hours":6},"u_johndoe-2026-02-16-r_54b07736-2026-02-16":{"hours":7},"u_johndoe-2026-02-16-r_54b07736-2026-02-17":{"hours":6},"u_johndoe-2026-02-16-r_54b07736-2026-02-18":{"hours":7},"u_johndoe-2026-02-16-r_54b07736-2026-02-19":{"hours":6},"u_johndoe-2026-02-16-r_54b07736-2026-02-20":{"hours":7},"u_johndoe-2026-02-23-r_10b19e7d-2026-02-23":{"hours":6},"u_johndoe-2026-02-23-r_10b19e7d-2026-02-24":{"hours":6},"u_johndoe-2026-02-23-r_10b19e7d-2026-02-25":{"hours":6},"u_johndoe-2026-02-23-r_10b19e7d-2026-02-26":{"hours":6},"u_johndoe-2026-02-23-r_10b19e7d-2026-02-27":{"hours":7},"u_johndoe-2026-02-23-r_af98ba92-2026-02-23":{"hours":6},"u_johndoe-2026-02-23-r_af98ba92-2026-02-24":{"hours":7},"u_johndoe-2026-02-23-r_af98ba92-2026-02-25":{"hours":6},"u_johndoe-2026-02-23-r_af98ba92-2026-02-26":{"hours":6},"u_johndoe-2026-02-23-r_af98ba92-2026-02-27":{"hours":7},"u_johndoe-2026-02-23-r_7b5727fa-2026-02-23":{"hours":6},"u_johndoe-2026-02-23-r_7b5727fa-2026-02-24":{"hours":7},"u_johndoe-2026-02-23-r_7b5727fa-2026-02-25":{"hours":7},"u_johndoe-2026-02-23-r_7b5727fa-2026-02-26":{"hours":7},"u_johndoe-2026-02-23-r_7b5727fa-2026-02-27":{"hours":6},"u_janedoe-2026-01-26-r_dae5bd3d-2026-01-26":{"hours":6},"u_janedoe-2026-01-26-r_dae5bd3d-2026-01-27":{"hours":6},"u_janedoe-2026-01-26-r_dae5bd3d-2026-01-28":{"hours":7},"u_janedoe-2026-01-26-r_dae5bd3d-2026-01-29":{"hours":6},"u_janedoe-2026-01-26-r_dae5bd3d-2026-01-30":{"hours":6},"u_janedoe-2026-01-26-r_4aa91f36-2026-01-26":{"hours":7},"u_janedoe-2026-01-26-r_4aa91f36-2026-01-27":{"hours":7},"u_janedoe-2026-01-26-r_4aa91f36-2026-01-28":{"hours":7},"u_janedoe-2026-01-26-r_4aa91f36-2026-01-29":{"hours":6},"u_janedoe-2026-01-26-r_4aa91f36-2026-01-30":{"hours":6},"u_janedoe-2026-01-26-r_7d8eb63f-2026-01-26":{"hours":6},"u_janedoe-2026-01-26-r_7d8eb63f-2026-01-28":{"hours":6},"u_janedoe-2026-01-26-r_7d8eb63f-2026-01-29":{"hours":6},"u_janedoe-2026-01-26-r_7d8eb63f-2026-01-30":{"hours":7},"u_janedoe-2026-02-02-r_24b8e5f6-2026-02-02":{"hours":6},"u_janedoe-2026-02-02-r_24b8e5f6-2026-02-03":{"hours":6},"u_janedoe-2026-02-02-r_24b8e5f6-2026-02-04":{"hours":6},"u_janedoe-2026-02-02-r_24b8e5f6-2026-02-05":{"hours":6},"u_janedoe-2026-02-02-r_24b8e5f6-2026-02-06":{"hours":6},"u_janedoe-2026-02-02-r_98751091-2026-02-02":{"hours":6},"u_janedoe-2026-02-02-r_98751091-2026-02-03":{"hours":6},"u_janedoe-2026-02-02-r_98751091-2026-02-04":{"hours":6},"u_janedoe-2026-02-02-r_98751091-2026-02-05":{"hours":7},"u_janedoe-2026-02-02-r_98751091-2026-02-06":{"hours":6},"u_janedoe-2026-02-02-r_aa6344bb-2026-02-02":{"hours":7},"u_janedoe-2026-02-02-r_aa6344bb-2026-02-03":{"hours":6},"u_janedoe-2026-02-02-r_aa6344bb-2026-02-04":{"hours":7},"u_janedoe-2026-02-02-r_aa6344bb-2026-02-05":{"hours":7},"u_janedoe-2026-02-02-r_aa6344bb-2026-02-06":{"hours":6},"u_janedoe-2026-02-09-r_3b91287d-2026-02-09":{"hours":6},"u_janedoe-2026-02-09-r_3b91287d-2026-02-10":{"hours":6},"u_janedoe-2026-02-09-r_3b91287d-2026-02-11":{"hours":6},"u_janedoe-2026-02-09-r_3b91287d-2026-02-13":{"hours":6},"u_janedoe-2026-02-09-r_18289a2f-2026-02-09":{"hours":6},"u_janedoe-2026-02-09-r_18289a2f-2026-02-10":{"hours":6},"u_janedoe-2026-02-09-r_18289a2f-2026-02-11":{"hours":6},"u_janedoe-2026-02-09-r_18289a2f-2026-02-12":{"hours":6},"u_janedoe-2026-02-09-r_18289a2f-2026-02-13":{"hours":7},"u_janedoe-2026-02-09-r_db1b4d46-2026-02-09":{"hours":7},"u_janedoe-2026-02-09-r_db1b4d46-2026-02-10":{"hours":6},"u_janedoe-2026-02-09-r_db1b4d46-2026-02-11":{"hours":6},"u_janedoe-2026-02-09-r_db1b4d46-2026-02-12":{"hours":7},"u_janedoe-2026-02-09-r_db1b4d46-2026-02-13":{"hours":6},"u_janedoe-2026-02-16-r_f12775ef-2026-02-16":{"hours":6},"u_janedoe-2026-02-16-r_f12775ef-2026-02-17":{"hours":6},"u_janedoe-2026-02-16-r_f12775ef-2026-02-18":{"hours":6},"u_janedoe-2026-02-16-r_f12775ef-2026-02-19":{"hours":7},"u_janedoe-2026-02-16-r_f12775ef-2026-02-20":{"hours":6},"u_janedoe-2026-02-16-r_7d13e0e0-2026-02-16":{"hours":6},"u_janedoe-2026-02-16-r_7d13e0e0-2026-02-17":{"hours":7},"u_janedoe-2026-02-16-r_7d13e0e0-2026-02-18":{"hours":6},"u_janedoe-2026-02-16-r_7d13e0e0-2026-02-19":{"hours":6},"u_janedoe-2026-02-16-r_7d13e0e0-2026-02-20":{"hours":7},"u_janedoe-2026-02-16-r_e07ac5c5-2026-02-16":{"hours":7},"u_janedoe-2026-02-16-r_e07ac5c5-2026-02-17":{"hours":6},"u_janedoe-2026-02-16-r_e07ac5c5-2026-02-18":{"hours":7},"u_janedoe-2026-02-16-r_e07ac5c5-2026-02-20":{"hours":7},"u_janedoe-2026-02-23-r_fd654a38-2026-02-23":{"hours":7},"u_janedoe-2026-02-23-r_fd654a38-2026-02-25":{"hours":6},"u_janedoe-2026-02-23-r_fd654a38-2026-02-26":{"hours":6},"u_janedoe-2026-02-23-r_fd654a38-2026-02-27":{"hours":6},"u_janedoe-2026-02-23-r_0ce04235-2026-02-23":{"hours":7},"u_janedoe-2026-02-23-r_0ce04235-2026-02-24":{"hours":6},"u_janedoe-2026-02-23-r_0ce04235-2026-02-25":{"hours":6},"u_janedoe-2026-02-23-r_0ce04235-2026-02-26":{"hours":6},"u_janedoe-2026-02-23-r_0ce04235-2026-02-27":{"hours":6},"u_janedoe-2026-02-23-r_7076e13b-2026-02-23":{"hours":6},"u_janedoe-2026-02-23-r_7076e13b-2026-02-24":{"hours":7},"u_janedoe-2026-02-23-r_7076e13b-2026-02-25":{"hours":6},"u_janedoe-2026-02-23-r_7076e13b-2026-02-26":{"hours":7},"u_janedoe-2026-02-23-r_7076e13b-2026-02-27":{"hours":7},"u_dkim-2026-01-26-r_1d363274-2026-01-26":{"hours":6},"u_dkim-2026-01-26-r_1d363274-2026-01-27":{"hours":7},"u_dkim-2026-01-26-r_1d363274-2026-01-28":{"hours":6},"u_dkim-2026-01-26-r_1d363274-2026-01-29":{"hours":6},"u_dkim-2026-01-26-r_1d363274-2026-01-30":{"hours":7},"u_dkim-2026-01-26-r_8c4282bf-2026-01-26":{"hours":6},"u_dkim-2026-01-26-r_8c4282bf-2026-01-27":{"hours":6},"u_dkim-2026-01-26-r_8c4282bf-2026-01-28":{"hours":7},"u_dkim-2026-01-26-r_8c4282bf-2026-01-29":{"hours":7},"u_dkim-2026-01-26-r_8c4282bf-2026-01-30":{"hours":6},"u_dkim-2026-02-02-r_8ce73aa5-2026-02-02":{"hours":7},"u_dkim-2026-02-02-r_8ce73aa5-2026-02-03":{"hours":7},"u_dkim-2026-02-02-r_8ce73aa5-2026-02-04":{"hours":6},"u_dkim-2026-02-02-r_8ce73aa5-2026-02-05":{"hours":6},"u_dkim-2026-02-02-r_8ce73aa5-2026-02-06":{"hours":6},"u_dkim-2026-02-02-r_6101eae7-2026-02-02":{"hours":7},"u_dkim-2026-02-02-r_6101eae7-2026-02-03":{"hours":6},"u_dkim-2026-02-02-r_6101eae7-2026-02-04":{"hours":6},"u_dkim-2026-02-02-r_6101eae7-2026-02-05":{"hours":6},"u_dkim-2026-02-02-r_6101eae7-2026-02-06":{"hours":6},"u_dkim-2026-02-09-r_7b8cd3d7-2026-02-09":{"hours":7},"u_dkim-2026-02-09-r_7b8cd3d7-2026-02-10":{"hours":6},"u_dkim-2026-02-09-r_7b8cd3d7-2026-02-11":{"hours":6},"u_dkim-2026-02-09-r_7b8cd3d7-2026-02-12":{"hours":7},"u_dkim-2026-02-09-r_7b8cd3d7-2026-02-13":{"hours":6},"u_dkim-2026-02-09-r_d596b01f-2026-02-09":{"hours":7},"u_dkim-2026-02-09-r_d596b01f-2026-02-10":{"hours":6},"u_dkim-2026-02-09-r_d596b01f-2026-02-12":{"hours":6},"u_dkim-2026-02-09-r_d596b01f-2026-02-13":{"hours":6},"u_dkim-2026-02-16-r_e74c8750-2026-02-16":{"hours":6},"u_dkim-2026-02-16-r_e74c8750-2026-02-17":{"hours":6},"u_dkim-2026-02-16-r_e74c8750-2026-02-18":{"hours":6},"u_dkim-2026-02-16-r_e74c8750-2026-02-19":{"hours":6},"u_dkim-2026-02-16-r_e74c8750-2026-02-20":{"hours":6},"u_dkim-2026-02-16-r_53b2e5bb-2026-02-16":{"hours":7},"u_dkim-2026-02-16-r_53b2e5bb-2026-02-17":{"hours":6},"u_dkim-2026-02-16-r_53b2e5bb-2026-02-18":{"hours":7},"u_dkim-2026-02-16-r_53b2e5bb-2026-02-19":{"hours":6},"u_dkim-2026-02-16-r_53b2e5bb-2026-02-20":{"hours":7},"u_dkim-2026-02-23-r_f589145e-2026-02-23":{"hours":7},"u_dkim-2026-02-23-r_f589145e-2026-02-25":{"hours":7},"u_dkim-2026-02-23-r_f589145e-2026-02-26":{"hours":6},"u_dkim-2026-02-23-r_f589145e-2026-02-27":{"hours":6},"u_dkim-2026-02-23-r_ca402c63-2026-02-23":{"hours":6},"u_dkim-2026-02-23-r_ca402c63-2026-02-24":{"hours":7},"u_dkim-2026-02-23-r_ca402c63-2026-02-25":{"hours":7},"u_dkim-2026-02-23-r_ca402c63-2026-02-26":{"hours":6},"u_dkim-2026-02-23-r_ca402c63-2026-02-27":{"hours":6},"u_ewright-2026-01-26-r_15912b98-2026-01-26":{"hours":6},"u_ewright-2026-01-26-r_15912b98-2026-01-27":{"hours":6},"u_ewright-2026-01-26-r_15912b98-2026-01-28":{"hours":7},"u_ewright-2026-01-26-r_15912b98-2026-01-29":{"hours":6},"u_ewright-2026-01-26-r_15912b98-2026-01-30":{"hours":6},"u_ewright-2026-01-26-r_17d1b6cd-2026-01-26":{"hours":6},"u_ewright-2026-01-26-r_17d1b6cd-2026-01-29":{"hours":7},"u_ewright-2026-01-26-r_17d1b6cd-2026-01-30":{"hours":6},"u_ewright-2026-02-02-r_e7f722b4-2026-02-02":{"hours":6},"u_ewright-2026-02-02-r_e7f722b4-2026-02-03":{"hours":6},"u_ewright-2026-02-02-r_e7f722b4-2026-02-04":{"hours":6},"u_ewright-2026-02-02-r_e7f722b4-2026-02-05":{"hours":6},"u_ewright-2026-02-02-r_e7f722b4-2026-02-06":{"hours":6},"u_ewright-2026-02-02-r_c5f445ca-2026-02-02":{"hours":7},"u_ewright-2026-02-02-r_c5f445ca-2026-02-03":{"hours":6},"u_ewright-2026-02-02-r_c5f445ca-2026-02-04":{"hours":6},"u_ewright-2026-02-02-r_c5f445ca-2026-02-05":{"hours":6},"u_ewright-2026-02-02-r_c5f445ca-2026-02-06":{"hours":6},"u_ewright-2026-02-09-r_d61c3a95-2026-02-09":{"hours":7},"u_ewright-2026-02-09-r_d61c3a95-2026-02-10":{"hours":6},"u_ewright-2026-02-09-r_d61c3a95-2026-02-11":{"hours":6},"u_ewright-2026-02-09-r_d61c3a95-2026-02-12":{"hours":7},"u_ewright-2026-02-09-r_d61c3a95-2026-02-13":{"hours":6},"u_ewright-2026-02-09-r_6570e0fd-2026-02-09":{"hours":7},"u_ewright-2026-02-09-r_6570e0fd-2026-02-10":{"hours":6},"u_ewright-2026-02-09-r_6570e0fd-2026-02-11":{"hours":6},"u_ewright-2026-02-09-r_6570e0fd-2026-02-12":{"hours":6},"u_ewright-2026-02-09-r_6570e0fd-2026-02-13":{"hours":6},"u_ewright-2026-02-16-r_9e36a02c-2026-02-16":{"hours":6},"u_ewright-2026-02-16-r_9e36a02c-2026-02-17":{"hours":7},"u_ewright-2026-02-16-r_9e36a02c-2026-02-18":{"hours":6},"u_ewright-2026-02-16-r_9e36a02c-2026-02-19":{"hours":6},"u_ewright-2026-02-16-r_9e36a02c-2026-02-20":{"hours":6},"u_ewright-2026-02-16-r_6df9caaf-2026-02-16":{"hours":6},"u_ewright-2026-02-16-r_6df9caaf-2026-02-17":{"hours":6},"u_ewright-2026-02-16-r_6df9caaf-2026-02-20":{"hours":6},"u_ewright-2026-02-23-r_1310abf1-2026-02-23":{"hours":6},"u_ewright-2026-02-23-r_1310abf1-2026-02-24":{"hours":6},"u_ewright-2026-02-23-r_1310abf1-2026-02-25":{"hours":6},"u_ewright-2026-02-23-r_1310abf1-2026-02-26":{"hours":6},"u_ewright-2026-02-23-r_1310abf1-2026-02-27":{"hours":6},"u_ewright-2026-02-23-r_88d1b3c0-2026-02-23":{"hours":6},"u_ewright-2026-02-23-r_88d1b3c0-2026-02-24":{"hours":6},"u_ewright-2026-02-23-r_88d1b3c0-2026-02-25":{"hours":7},"u_ewright-2026-02-23-r_88d1b3c0-2026-02-26":{"hours":6},"u_ewright-2026-02-23-r_88d1b3c0-2026-02-27":{"hours":6},"u_mturner-2026-01-26-r_846599f0-2026-01-26":{"hours":8},"u_mturner-2026-01-26-r_846599f0-2026-01-27":{"hours":9},"u_mturner-2026-01-26-r_846599f0-2026-01-28":{"hours":7},"u_mturner-2026-01-26-r_846599f0-2026-01-29":{"hours":10},"u_mturner-2026-01-26-r_846599f0-2026-01-30":{"hours":7},"u_mturner-2026-02-02-r_10943f4e-2026-02-02":{"hours":7},"u_mturner-2026-02-02-r_10943f4e-2026-02-03":{"hours":8},"u_mturner-2026-02-02-r_10943f4e-2026-02-04":{"hours":7},"u_mturner-2026-02-02-r_10943f4e-2026-02-06":{"hours":6},"u_mturner-2026-02-09-r_fe50c9f4-2026-02-09":{"hours":7},"u_mturner-2026-02-09-r_fe50c9f4-2026-02-10":{"hours":10},"u_mturner-2026-02-09-r_fe50c9f4-2026-02-11":{"hours":8},"u_mturner-2026-02-09-r_fe50c9f4-2026-02-12":{"hours":9},"u_mturner-2026-02-09-r_fe50c9f4-2026-02-13":{"hours":6},"u_mturner-2026-02-16-r_f8a8a22d-2026-02-16":{"hours":7},"u_mturner-2026-02-16-r_f8a8a22d-2026-02-17":{"hours":9},"u_mturner-2026-02-16-r_f8a8a22d-2026-02-18":{"hours":7},"u_mturner-2026-02-16-r_f8a8a22d-2026-02-19":{"hours":9},"u_mturner-2026-02-16-r_f8a8a22d-2026-02-20":{"hours":8},"u_mturner-2026-02-23-r_52fddda5-2026-02-23":{"hours":7},"u_mturner-2026-02-23-r_52fddda5-2026-02-24":{"hours":9},"u_mturner-2026-02-23-r_52fddda5-2026-02-25":{"hours":7},"u_mturner-2026-02-23-r_52fddda5-2026-02-26":{"hours":9},"u_mturner-2026-02-23-r_52fddda5-2026-02-27":{"hours":7},"u_schen-2026-01-26-r_6caf493f-2026-01-26":{"hours":9},"u_schen-2026-01-26-r_6caf493f-2026-01-27":{"hours":8},"u_schen-2026-01-26-r_6caf493f-2026-01-28":{"hours":7},"u_schen-2026-01-26-r_6caf493f-2026-01-29":{"hours":10},"u_schen-2026-01-26-r_6caf493f-2026-01-30":{"hours":7},"u_schen-2026-02-02-r_f71c5b58-2026-02-02":{"hours":7},"u_schen-2026-02-02-r_f71c5b58-2026-02-03":{"hours":9},"u_schen-2026-02-02-r_f71c5b58-2026-02-04":{"hours":8},"u_schen-2026-02-02-r_f71c5b58-2026-02-05":{"hours":8},"u_schen-2026-02-02-r_f71c5b58-2026-02-06":{"hours":7},"u_schen-2026-02-09-r_3da13d10-2026-02-09":{"hours":9},"u_schen-2026-02-09-r_3da13d10-2026-02-11":{"hours":7},"u_schen-2026-02-09-r_3da13d10-2026-02-12":{"hours":8},"u_schen-2026-02-09-r_3da13d10-2026-02-13":{"hours":8},"u_schen-2026-02-16-r_9da62141-2026-02-16":{"hours":8},"u_schen-2026-02-16-r_9da62141-2026-02-17":{"hours":9},"u_schen-2026-02-16-r_9da62141-2026-02-18":{"hours":7},"u_schen-2026-02-16-r_9da62141-2026-02-19":{"hours":8},"u_schen-2026-02-16-r_9da62141-2026-02-20":{"hours":6},"u_schen-2026-02-23-r_48cc1715-2026-02-23":{"hours":8},"u_schen-2026-02-23-r_48cc1715-2026-02-24":{"hours":8},"u_schen-2026-02-23-r_48cc1715-2026-02-25":{"hours":7},"u_schen-2026-02-23-r_48cc1715-2026-02-26":{"hours":9},"u_schen-2026-02-23-r_48cc1715-2026-02-27":{"hours":8},"u_rgarcia-2026-01-26-r_91dec892-2026-01-26":{"hours":6},"u_rgarcia-2026-01-26-r_91dec892-2026-01-27":{"hours":6},"u_rgarcia-2026-01-26-r_91dec892-2026-01-28":{"hours":6},"u_rgarcia-2026-01-26-r_91dec892-2026-01-29":{"hours":6},"u_rgarcia-2026-01-26-r_91dec892-2026-01-30":{"hours":6},"u_rgarcia-2026-01-26-r_ff035a4b-2026-01-26":{"hours":6},"u_rgarcia-2026-01-26-r_ff035a4b-2026-01-27":{"hours":6},"u_rgarcia-2026-01-26-r_ff035a4b-2026-01-28":{"hours":6},"u_rgarcia-2026-01-26-r_ff035a4b-2026-01-30":{"hours":6},"u_rgarcia-2026-02-02-r_4d19040a-2026-02-02":{"hours":6},"u_rgarcia-2026-02-02-r_4d19040a-2026-02-03":{"hours":6},"u_rgarcia-2026-02-02-r_4d19040a-2026-02-04":{"hours":6},"u_rgarcia-2026-02-02-r_4d19040a-2026-02-05":{"hours":6},"u_rgarcia-2026-02-02-r_4d19040a-2026-02-06":{"hours":6},"u_rgarcia-2026-02-02-r_d358f1d6-2026-02-02":{"hours":6},"u_rgarcia-2026-02-02-r_d358f1d6-2026-02-03":{"hours":6},"u_rgarcia-2026-02-02-r_d358f1d6-2026-02-04":{"hours":6},"u_rgarcia-2026-02-02-r_d358f1d6-2026-02-05":{"hours":6},"u_rgarcia-2026-02-02-r_d358f1d6-2026-02-06":{"hours":6},"u_rgarcia-2026-02-09-r_28e657f1-2026-02-09":{"hours":6},"u_rgarcia-2026-02-09-r_28e657f1-2026-02-10":{"hours":6},"u_rgarcia-2026-02-09-r_28e657f1-2026-02-11":{"hours":6},"u_rgarcia-2026-02-09-r_28e657f1-2026-02-12":{"hours":7},"u_rgarcia-2026-02-09-r_28e657f1-2026-02-13":{"hours":6},"u_rgarcia-2026-02-09-r_ff57b974-2026-02-09":{"hours":6},"u_rgarcia-2026-02-09-r_ff57b974-2026-02-10":{"hours":7},"u_rgarcia-2026-02-09-r_ff57b974-2026-02-11":{"hours":7},"u_rgarcia-2026-02-09-r_ff57b974-2026-02-12":{"hours":7},"u_rgarcia-2026-02-09-r_ff57b974-2026-02-13":{"hours":6},"u_rgarcia-2026-02-16-r_fda3b792-2026-02-16":{"hours":7},"u_rgarcia-2026-02-16-r_fda3b792-2026-02-17":{"hours":7},"u_rgarcia-2026-02-16-r_fda3b792-2026-02-19":{"hours":6},"u_rgarcia-2026-02-16-r_fda3b792-2026-02-20":{"hours":6},"u_rgarcia-2026-02-16-r_17c2051e-2026-02-16":{"hours":6},"u_rgarcia-2026-02-16-r_17c2051e-2026-02-17":{"hours":6},"u_rgarcia-2026-02-16-r_17c2051e-2026-02-18":{"hours":6},"u_rgarcia-2026-02-16-r_17c2051e-2026-02-19":{"hours":6},"u_rgarcia-2026-02-16-r_17c2051e-2026-02-20":{"hours":6},"u_rgarcia-2026-02-23-r_55781c80-2026-02-23":{"hours":6},"u_rgarcia-2026-02-23-r_55781c80-2026-02-24":{"hours":7},"u_rgarcia-2026-02-23-r_55781c80-2026-02-25":{"hours":7},"u_rgarcia-2026-02-23-r_55781c80-2026-02-26":{"hours":6},"u_rgarcia-2026-02-23-r_55781c80-2026-02-27":{"hours":6},"u_rgarcia-2026-02-23-r_3e0f331e-2026-02-23":{"hours":6},"u_rgarcia-2026-02-23-r_3e0f331e-2026-02-24":{"hours":6},"u_rgarcia-2026-02-23-r_3e0f331e-2026-02-25":{"hours":7},"u_rgarcia-2026-02-23-r_3e0f331e-2026-02-26":{"hours":6},"u_rgarcia-2026-02-23-r_3e0f331e-2026-02-27":{"hours":6},"u_tbradley-2026-01-26-r_5b54d0fd-2026-01-26":{"hours":6},"u_tbradley-2026-01-26-r_5b54d0fd-2026-01-27":{"hours":7},"u_tbradley-2026-01-26-r_5b54d0fd-2026-01-28":{"hours":7},"u_tbradley-2026-01-26-r_5b54d0fd-2026-01-29":{"hours":6},"u_tbradley-2026-01-26-r_5b54d0fd-2026-01-30":{"hours":6},"u_tbradley-2026-01-26-r_1efcfb71-2026-01-26":{"hours":6},"u_tbradley-2026-01-26-r_1efcfb71-2026-01-27":{"hours":6},"u_tbradley-2026-01-26-r_1efcfb71-2026-01-28":{"hours":7},"u_tbradley-2026-01-26-r_1efcfb71-2026-01-29":{"hours":7},"u_tbradley-2026-01-26-r_1efcfb71-2026-01-30":{"hours":6},"u_tbradley-2026-02-02-r_0a6ce8c2-2026-02-02":{"hours":6},"u_tbradley-2026-02-02-r_0a6ce8c2-2026-02-03":{"hours":6},"u_tbradley-2026-02-02-r_0a6ce8c2-2026-02-04":{"hours":6},"u_tbradley-2026-02-02-r_0a6ce8c2-2026-02-05":{"hours":7},"u_tbradley-2026-02-02-r_0a6ce8c2-2026-02-06":{"hours":7},"u_tbradley-2026-02-02-r_7f26091b-2026-02-02":{"hours":7},"u_tbradley-2026-02-02-r_7f26091b-2026-02-03":{"hours":7},"u_tbradley-2026-02-02-r_7f26091b-2026-02-04":{"hours":6},"u_tbradley-2026-02-02-r_7f26091b-2026-02-05":{"hours":6},"u_tbradley-2026-02-02-r_7f26091b-2026-02-06":{"hours":7},"u_tbradley-2026-02-09-r_a33228dc-2026-02-09":{"hours":6},"u_tbradley-2026-02-09-r_a33228dc-2026-02-10":{"hours":7},"u_tbradley-2026-02-09-r_a33228dc-2026-02-11":{"hours":7},"u_tbradley-2026-02-09-r_a33228dc-2026-02-12":{"hours":7},"u_tbradley-2026-02-09-r_a33228dc-2026-02-13":{"hours":7},"u_tbradley-2026-02-09-r_fb12414c-2026-02-09":{"hours":7},"u_tbradley-2026-02-09-r_fb12414c-2026-02-10":{"hours":6},"u_tbradley-2026-02-09-r_fb12414c-2026-02-11":{"hours":6},"u_tbradley-2026-02-09-r_fb12414c-2026-02-12":{"hours":6},"u_tbradley-2026-02-09-r_fb12414c-2026-02-13":{"hours":6},"u_tbradley-2026-02-16-r_5ac9fb0a-2026-02-16":{"hours":6},"u_tbradley-2026-02-16-r_5ac9fb0a-2026-02-17":{"hours":7},"u_tbradley-2026-02-16-r_5ac9fb0a-2026-02-18":{"hours":6},"u_tbradley-2026-02-16-r_5ac9fb0a-2026-02-19":{"hours":7},"u_tbradley-2026-02-16-r_5ac9fb0a-2026-02-20":{"hours":6},"u_tbradley-2026-02-16-r_de39ed0d-2026-02-16":{"hours":6},"u_tbradley-2026-02-16-r_de39ed0d-2026-02-17":{"hours":6},"u_tbradley-2026-02-16-r_de39ed0d-2026-02-18":{"hours":7},"u_tbradley-2026-02-16-r_de39ed0d-2026-02-20":{"hours":7},"u_tbradley-2026-02-23-r_3fff81b6-2026-02-23":{"hours":7},"u_tbradley-2026-02-23-r_3fff81b6-2026-02-24":{"hours":6},"u_tbradley-2026-02-23-r_3fff81b6-2026-02-25":{"hours":6},"u_tbradley-2026-02-23-r_3fff81b6-2026-02-26":{"hours":6},"u_tbradley-2026-02-23-r_3fff81b6-2026-02-27":{"hours":7},"u_tbradley-2026-02-23-r_ae9154c0-2026-02-23":{"hours":7},"u_tbradley-2026-02-23-r_ae9154c0-2026-02-24":{"hours":7},"u_tbradley-2026-02-23-r_ae9154c0-2026-02-25":{"hours":6},"u_tbradley-2026-02-23-r_ae9154c0-2026-02-26":{"hours":6},"u_tbradley-2026-02-23-r_ae9154c0-2026-02-27":{"hours":7},"u_dhall-2026-01-26-r_ac098bdf-2026-01-26":{"hours":6},"u_dhall-2026-01-26-r_ac098bdf-2026-01-27":{"hours":7},"u_dhall-2026-01-26-r_ac098bdf-2026-01-28":{"hours":6},"u_dhall-2026-01-26-r_ac098bdf-2026-01-29":{"hours":6},"u_dhall-2026-01-26-r_ac098bdf-2026-01-30":{"hours":6},"u_dhall-2026-01-26-r_cf940849-2026-01-26":{"hours":7},"u_dhall-2026-01-26-r_cf940849-2026-01-27":{"hours":7},"u_dhall-2026-01-26-r_cf940849-2026-01-28":{"hours":6},"u_dhall-2026-01-26-r_cf940849-2026-01-29":{"hours":6},"u_dhall-2026-01-26-r_cf940849-2026-01-30":{"hours":7},"u_dhall-2026-02-02-r_17398369-2026-02-02":{"hours":7},"u_dhall-2026-02-02-r_17398369-2026-02-03":{"hours":8},"u_dhall-2026-02-02-r_17398369-2026-02-04":{"hours":6},"u_dhall-2026-02-02-r_17398369-2026-02-05":{"hours":7},"u_dhall-2026-02-02-r_17398369-2026-02-06":{"hours":6},"u_dhall-2026-02-02-r_a6bc9bbc-2026-02-02":{"hours":6},"u_dhall-2026-02-02-r_a6bc9bbc-2026-02-03":{"hours":6},"u_dhall-2026-02-02-r_a6bc9bbc-2026-02-04":{"hours":7},"u_dhall-2026-02-02-r_a6bc9bbc-2026-02-05":{"hours":7},"u_dhall-2026-02-02-r_a6bc9bbc-2026-02-06":{"hours":6},"u_dhall-2026-02-09-r_95a7c6c5-2026-02-09":{"hours":6},"u_dhall-2026-02-09-r_95a7c6c5-2026-02-10":{"hours":7},"u_dhall-2026-02-09-r_95a7c6c5-2026-02-11":{"hours":7},"u_dhall-2026-02-09-r_95a7c6c5-2026-02-12":{"hours":8},"u_dhall-2026-02-09-r_95a7c6c5-2026-02-13":{"hours":6},"u_dhall-2026-02-09-r_62d6e47d-2026-02-09":{"hours":7},"u_dhall-2026-02-09-r_62d6e47d-2026-02-10":{"hours":6},"u_dhall-2026-02-09-r_62d6e47d-2026-02-11":{"hours":6},"u_dhall-2026-02-09-r_62d6e47d-2026-02-12":{"hours":7},"u_dhall-2026-02-09-r_62d6e47d-2026-02-13":{"hours":7},"u_dhall-2026-02-16-r_c46452f6-2026-02-16":{"hours":6},"u_dhall-2026-02-16-r_c46452f6-2026-02-18":{"hours":6},"u_dhall-2026-02-16-r_c46452f6-2026-02-19":{"hours":7},"u_dhall-2026-02-16-r_c46452f6-2026-02-20":{"hours":6},"u_dhall-2026-02-16-r_c804f6fe-2026-02-16":{"hours":6},"u_dhall-2026-02-16-r_c804f6fe-2026-02-17":{"hours":7},"u_dhall-2026-02-16-r_c804f6fe-2026-02-18":{"hours":6},"u_dhall-2026-02-16-r_c804f6fe-2026-02-19":{"hours":6},"u_dhall-2026-02-16-r_c804f6fe-2026-02-20":{"hours":6},"u_dhall-2026-02-23-r_2a3fe966-2026-02-23":{"hours":6},"u_dhall-2026-02-23-r_2a3fe966-2026-02-24":{"hours":8},"u_dhall-2026-02-23-r_2a3fe966-2026-02-25":{"hours":6},"u_dhall-2026-02-23-r_2a3fe966-2026-02-26":{"hours":6},"u_dhall-2026-02-23-r_2a3fe966-2026-02-27":{"hours":7},"u_dhall-2026-02-23-r_8a89ee07-2026-02-23":{"hours":6},"u_dhall-2026-02-23-r_8a89ee07-2026-02-24":{"hours":7},"u_dhall-2026-02-23-r_8a89ee07-2026-02-25":{"hours":7},"u_dhall-2026-02-23-r_8a89ee07-2026-02-26":{"hours":7},"u_dhall-2026-02-23-r_8a89ee07-2026-02-27":{"hours":7},"u_cmendoza-2026-01-26-r_5410000a-2026-01-26":{"hours":6},"u_cmendoza-2026-01-26-r_5410000a-2026-01-27":{"hours":6},"u_cmendoza-2026-01-26-r_5410000a-2026-01-28":{"hours":7},"u_cmendoza-2026-01-26-r_5410000a-2026-01-29":{"hours":7},"u_cmendoza-2026-01-26-r_5410000a-2026-01-30":{"hours":7},"u_cmendoza-2026-01-26-r_fe4799f7-2026-01-26":{"hours":6},"u_cmendoza-2026-01-26-r_fe4799f7-2026-01-27":{"hours":6},"u_cmendoza-2026-01-26-r_fe4799f7-2026-01-28":{"hours":6},"u_cmendoza-2026-01-26-r_fe4799f7-2026-01-29":{"hours":6},"u_cmendoza-2026-01-26-r_fe4799f7-2026-01-30":{"hours":6},"u_cmendoza-2026-02-02-r_c0b441ba-2026-02-02":{"hours":6},"u_cmendoza-2026-02-02-r_c0b441ba-2026-02-03":{"hours":7},"u_cmendoza-2026-02-02-r_c0b441ba-2026-02-04":{"hours":6},"u_cmendoza-2026-02-02-r_c0b441ba-2026-02-05":{"hours":6},"u_cmendoza-2026-02-02-r_c0b441ba-2026-02-06":{"hours":7},"u_cmendoza-2026-02-02-r_cfd66381-2026-02-02":{"hours":7},"u_cmendoza-2026-02-02-r_cfd66381-2026-02-03":{"hours":6},"u_cmendoza-2026-02-02-r_cfd66381-2026-02-04":{"hours":7},"u_cmendoza-2026-02-02-r_cfd66381-2026-02-05":{"hours":7},"u_cmendoza-2026-02-02-r_cfd66381-2026-02-06":{"hours":6},"u_cmendoza-2026-02-09-r_b4c988fa-2026-02-09":{"hours":6},"u_cmendoza-2026-02-09-r_b4c988fa-2026-02-10":{"hours":7},"u_cmendoza-2026-02-09-r_b4c988fa-2026-02-11":{"hours":7},"u_cmendoza-2026-02-09-r_b4c988fa-2026-02-12":{"hours":6},"u_cmendoza-2026-02-09-r_b4c988fa-2026-02-13":{"hours":7},"u_cmendoza-2026-02-09-r_87f75e05-2026-02-09":{"hours":6},"u_cmendoza-2026-02-09-r_87f75e05-2026-02-10":{"hours":6},"u_cmendoza-2026-02-09-r_87f75e05-2026-02-11":{"hours":6},"u_cmendoza-2026-02-09-r_87f75e05-2026-02-12":{"hours":7},"u_cmendoza-2026-02-09-r_87f75e05-2026-02-13":{"hours":6},"u_cmendoza-2026-02-16-r_17dbe21d-2026-02-16":{"hours":6},"u_cmendoza-2026-02-16-r_17dbe21d-2026-02-19":{"hours":7},"u_cmendoza-2026-02-16-r_17dbe21d-2026-02-20":{"hours":6},"u_cmendoza-2026-02-16-r_c8c1111b-2026-02-16":{"hours":7},"u_cmendoza-2026-02-16-r_c8c1111b-2026-02-17":{"hours":7},"u_cmendoza-2026-02-16-r_c8c1111b-2026-02-18":{"hours":6},"u_cmendoza-2026-02-16-r_c8c1111b-2026-02-19":{"hours":7},"u_cmendoza-2026-02-16-r_c8c1111b-2026-02-20":{"hours":6},"u_cmendoza-2026-02-23-r_52e8a595-2026-02-23":{"hours":6},"u_cmendoza-2026-02-23-r_52e8a595-2026-02-24":{"hours":6},"u_cmendoza-2026-02-23-r_52e8a595-2026-02-25":{"hours":7},"u_cmendoza-2026-02-23-r_52e8a595-2026-02-26":{"hours":6},"u_cmendoza-2026-02-23-r_52e8a595-2026-02-27":{"hours":7},"u_cmendoza-2026-02-23-r_4a9b4844-2026-02-23":{"hours":7},"u_cmendoza-2026-02-23-r_4a9b4844-2026-02-24":{"hours":6},"u_cmendoza-2026-02-23-r_4a9b4844-2026-02-25":{"hours":7},"u_cmendoza-2026-02-23-r_4a9b4844-2026-02-26":{"hours":6},"u_cmendoza-2026-02-23-r_4a9b4844-2026-02-27":{"hours":7},"u_jsteel-2026-01-26-r_6bfb080f-2026-01-26":{"hours":6},"u_jsteel-2026-01-26-r_6bfb080f-2026-01-27":{"hours":6},"u_jsteel-2026-01-26-r_6bfb080f-2026-01-28":{"hours":6},"u_jsteel-2026-01-26-r_6bfb080f-2026-01-29":{"hours":6},"u_jsteel-2026-01-26-r_6bfb080f-2026-01-30":{"hours":7},"u_jsteel-2026-01-26-r_193cad67-2026-01-26":{"hours":7},"u_jsteel-2026-01-26-r_193cad67-2026-01-27":{"hours":7},"u_jsteel-2026-01-26-r_193cad67-2026-01-28":{"hours":7},"u_jsteel-2026-01-26-r_193cad67-2026-01-30":{"hours":7},"u_jsteel-2026-02-02-r_3a6cf4fc-2026-02-02":{"hours":7},"u_jsteel-2026-02-02-r_3a6cf4fc-2026-02-03":{"hours":7},"u_jsteel-2026-02-02-r_3a6cf4fc-2026-02-04":{"hours":6},"u_jsteel-2026-02-02-r_3a6cf4fc-2026-02-05":{"hours":6},"u_jsteel-2026-02-02-r_3a6cf4fc-2026-02-06":{"hours":7},"u_jsteel-2026-02-02-r_06e490db-2026-02-02":{"hours":6},"u_jsteel-2026-02-02-r_06e490db-2026-02-03":{"hours":6},"u_jsteel-2026-02-02-r_06e490db-2026-02-04":{"hours":7},"u_jsteel-2026-02-02-r_06e490db-2026-02-05":{"hours":6},"u_jsteel-2026-02-02-r_06e490db-2026-02-06":{"hours":6},"u_jsteel-2026-02-09-r_97df3280-2026-02-09":{"hours":7},"u_jsteel-2026-02-09-r_97df3280-2026-02-10":{"hours":6},"u_jsteel-2026-02-09-r_97df3280-2026-02-11":{"hours":6},"u_jsteel-2026-02-09-r_97df3280-2026-02-12":{"hours":6},"u_jsteel-2026-02-09-r_97df3280-2026-02-13":{"hours":7},"u_jsteel-2026-02-09-r_eb28f81f-2026-02-09":{"hours":6},"u_jsteel-2026-02-09-r_eb28f81f-2026-02-11":{"hours":7},"u_jsteel-2026-02-09-r_eb28f81f-2026-02-12":{"hours":7},"u_jsteel-2026-02-09-r_eb28f81f-2026-02-13":{"hours":7},"u_jsteel-2026-02-16-r_14d5214d-2026-02-16":{"hours":6},"u_jsteel-2026-02-16-r_14d5214d-2026-02-17":{"hours":6},"u_jsteel-2026-02-16-r_14d5214d-2026-02-18":{"hours":6},"u_jsteel-2026-02-16-r_14d5214d-2026-02-19":{"hours":6},"u_jsteel-2026-02-16-r_14d5214d-2026-02-20":{"hours":6},"u_jsteel-2026-02-16-r_6279dc2a-2026-02-16":{"hours":6},"u_jsteel-2026-02-16-r_6279dc2a-2026-02-17":{"hours":6},"u_jsteel-2026-02-16-r_6279dc2a-2026-02-18":{"hours":6},"u_jsteel-2026-02-16-r_6279dc2a-2026-02-19":{"hours":6},"u_jsteel-2026-02-16-r_6279dc2a-2026-02-20":{"hours":6},"u_jsteel-2026-02-23-r_125aecaa-2026-02-23":{"hours":6},"u_jsteel-2026-02-23-r_125aecaa-2026-02-24":{"hours":6},"u_jsteel-2026-02-23-r_125aecaa-2026-02-25":{"hours":6},"u_jsteel-2026-02-23-r_125aecaa-2026-02-26":{"hours":6},"u_jsteel-2026-02-23-r_125aecaa-2026-02-27":{"hours":7},"u_jsteel-2026-02-23-r_38564223-2026-02-23":{"hours":7},"u_jsteel-2026-02-23-r_38564223-2026-02-24":{"hours":6},"u_jsteel-2026-02-23-r_38564223-2026-02-25":{"hours":6},"u_jsteel-2026-02-23-r_38564223-2026-02-26":{"hours":6},"u_jsteel-2026-02-23-r_38564223-2026-02-27":{"hours":6},"u_lpark-2026-01-26-r_e9831695-2026-01-26":{"hours":6},"u_lpark-2026-01-26-r_e9831695-2026-01-27":{"hours":7},"u_lpark-2026-01-26-r_e9831695-2026-01-28":{"hours":7},"u_lpark-2026-01-26-r_e9831695-2026-01-29":{"hours":6},"u_lpark-2026-01-26-r_e9831695-2026-01-30":{"hours":6},"u_lpark-2026-01-26-r_d79ee1d7-2026-01-26":{"hours":6},"u_lpark-2026-01-26-r_d79ee1d7-2026-01-27":{"hours":6},"u_lpark-2026-01-26-r_d79ee1d7-2026-01-28":{"hours":7},"u_lpark-2026-01-26-r_d79ee1d7-2026-01-30":{"hours":6},"u_lpark-2026-02-02-r_7fcabc04-2026-02-02":{"hours":6},"u_lpark-2026-02-02-r_7fcabc04-2026-02-03":{"hours":6},"u_lpark-2026-02-02-r_7fcabc04-2026-02-04":{"hours":6},"u_lpark-2026-02-02-r_7fcabc04-2026-02-05":{"hours":6},"u_lpark-2026-02-02-r_7fcabc04-2026-02-06":{"hours":6},"u_lpark-2026-02-02-r_c4afa689-2026-02-02":{"hours":6},"u_lpark-2026-02-02-r_c4afa689-2026-02-03":{"hours":6},"u_lpark-2026-02-02-r_c4afa689-2026-02-04":{"hours":6},"u_lpark-2026-02-02-r_c4afa689-2026-02-05":{"hours":6},"u_lpark-2026-02-02-r_c4afa689-2026-02-06":{"hours":7},"u_lpark-2026-02-09-r_ad14a545-2026-02-09":{"hours":7},"u_lpark-2026-02-09-r_ad14a545-2026-02-11":{"hours":6},"u_lpark-2026-02-09-r_ad14a545-2026-02-12":{"hours":7},"u_lpark-2026-02-09-r_ad14a545-2026-02-13":{"hours":7},"u_lpark-2026-02-09-r_966b6b3a-2026-02-09":{"hours":6},"u_lpark-2026-02-09-r_966b6b3a-2026-02-10":{"hours":6},"u_lpark-2026-02-09-r_966b6b3a-2026-02-11":{"hours":6},"u_lpark-2026-02-09-r_966b6b3a-2026-02-12":{"hours":6},"u_lpark-2026-02-09-r_966b6b3a-2026-02-13":{"hours":6},"u_lpark-2026-02-16-r_9df4583f-2026-02-16":{"hours":6},"u_lpark-2026-02-16-r_9df4583f-2026-02-17":{"hours":6},"u_lpark-2026-02-16-r_9df4583f-2026-02-18":{"hours":7},"u_lpark-2026-02-16-r_9df4583f-2026-02-19":{"hours":7},"u_lpark-2026-02-16-r_9df4583f-2026-02-20":{"hours":6},"u_lpark-2026-02-16-r_61e5c890-2026-02-16":{"hours":6},"u_lpark-2026-02-16-r_61e5c890-2026-02-17":{"hours":6},"u_lpark-2026-02-16-r_61e5c890-2026-02-18":{"hours":6},"u_lpark-2026-02-16-r_61e5c890-2026-02-20":{"hours":7},"u_lpark-2026-02-23-r_d3ea419b-2026-02-23":{"hours":7},"u_lpark-2026-02-23-r_d3ea419b-2026-02-24":{"hours":7},"u_lpark-2026-02-23-r_d3ea419b-2026-02-25":{"hours":7},"u_lpark-2026-02-23-r_d3ea419b-2026-02-26":{"hours":8},"u_lpark-2026-02-23-r_d3ea419b-2026-02-27":{"hours":6},"u_lpark-2026-02-23-r_6021bd61-2026-02-23":{"hours":7},"u_lpark-2026-02-23-r_6021bd61-2026-02-24":{"hours":7},"u_lpark-2026-02-23-r_6021bd61-2026-02-25":{"hours":6},"u_lpark-2026-02-23-r_6021bd61-2026-02-26":{"hours":6},"u_lpark-2026-02-23-r_6021bd61-2026-02-27":{"hours":6},"u_npatel-2026-01-26-r_9b5d2ad8-2026-01-26":{"hours":7},"u_npatel-2026-01-26-r_9b5d2ad8-2026-01-27":{"hours":6},"u_npatel-2026-01-26-r_9b5d2ad8-2026-01-28":{"hours":6},"u_npatel-2026-01-26-r_9b5d2ad8-2026-01-29":{"hours":6},"u_npatel-2026-01-26-r_9b5d2ad8-2026-01-30":{"hours":6},"u_npatel-2026-01-26-r_f00acb25-2026-01-26":{"hours":6},"u_npatel-2026-01-26-r_f00acb25-2026-01-27":{"hours":6},"u_npatel-2026-01-26-r_f00acb25-2026-01-28":{"hours":6},"u_npatel-2026-01-26-r_f00acb25-2026-01-29":{"hours":6},"u_npatel-2026-01-26-r_f00acb25-2026-01-30":{"hours":6},"u_npatel-2026-02-02-r_d50454a6-2026-02-02":{"hours":7},"u_npatel-2026-02-02-r_d50454a6-2026-02-03":{"hours":6},"u_npatel-2026-02-02-r_d50454a6-2026-02-04":{"hours":7},"u_npatel-2026-02-02-r_d50454a6-2026-02-05":{"hours":6},"u_npatel-2026-02-02-r_d50454a6-2026-02-06":{"hours":7},"u_npatel-2026-02-02-r_fa4d9e0f-2026-02-02":{"hours":7},"u_npatel-2026-02-02-r_fa4d9e0f-2026-02-03":{"hours":6},"u_npatel-2026-02-02-r_fa4d9e0f-2026-02-04":{"hours":6},"u_npatel-2026-02-02-r_fa4d9e0f-2026-02-05":{"hours":6},"u_npatel-2026-02-02-r_fa4d9e0f-2026-02-06":{"hours":7},"u_npatel-2026-02-09-r_7dd167d0-2026-02-09":{"hours":6},"u_npatel-2026-02-09-r_7dd167d0-2026-02-10":{"hours":6},"u_npatel-2026-02-09-r_7dd167d0-2026-02-11":{"hours":6},"u_npatel-2026-02-09-r_7dd167d0-2026-02-12":{"hours":6},"u_npatel-2026-02-09-r_7dd167d0-2026-02-13":{"hours":6},"u_npatel-2026-02-09-r_5bc6410d-2026-02-09":{"hours":6},"u_npatel-2026-02-09-r_5bc6410d-2026-02-10":{"hours":7},"u_npatel-2026-02-09-r_5bc6410d-2026-02-11":{"hours":6},"u_npatel-2026-02-09-r_5bc6410d-2026-02-12":{"hours":7},"u_npatel-2026-02-09-r_5bc6410d-2026-02-13":{"hours":7},"u_npatel-2026-02-16-r_422a0082-2026-02-16":{"hours":6},"u_npatel-2026-02-16-r_422a0082-2026-02-17":{"hours":6},"u_npatel-2026-02-16-r_422a0082-2026-02-18":{"hours":7},"u_npatel-2026-02-16-r_422a0082-2026-02-19":{"hours":6},"u_npatel-2026-02-16-r_422a0082-2026-02-20":{"hours":7},"u_npatel-2026-02-16-r_3821cad9-2026-02-16":{"hours":7},"u_npatel-2026-02-16-r_3821cad9-2026-02-17":{"hours":6},"u_npatel-2026-02-16-r_3821cad9-2026-02-18":{"hours":6},"u_npatel-2026-02-16-r_3821cad9-2026-02-19":{"hours":6},"u_npatel-2026-02-16-r_3821cad9-2026-02-20":{"hours":6},"u_npatel-2026-02-23-r_a5ba96c6-2026-02-23":{"hours":7},"u_npatel-2026-02-23-r_a5ba96c6-2026-02-24":{"hours":7},"u_npatel-2026-02-23-r_a5ba96c6-2026-02-27":{"hours":6},"u_npatel-2026-02-23-r_9bf50934-2026-02-23":{"hours":7},"u_npatel-2026-02-23-r_9bf50934-2026-02-24":{"hours":6},"u_npatel-2026-02-23-r_9bf50934-2026-02-26":{"hours":7},"u_npatel-2026-02-23-r_9bf50934-2026-02-27":{"hours":6},"u_afoster-2026-01-26-r_beeab356-2026-01-26":{"hours":8},"u_afoster-2026-01-26-r_beeab356-2026-01-29":{"hours":8},"u_afoster-2026-01-26-r_beeab356-2026-01-30":{"hours":7},"u_afoster-2026-02-02-r_3d2a752a-2026-02-02":{"hours":7},"u_afoster-2026-02-02-r_3d2a752a-2026-02-03":{"hours":10},"u_afoster-2026-02-02-r_3d2a752a-2026-02-04":{"hours":8},"u_afoster-2026-02-02-r_3d2a752a-2026-02-05":{"hours":10},"u_afoster-2026-02-02-r_3d2a752a-2026-02-06":{"hours":8},"u_afoster-2026-02-09-r_57d58678-2026-02-09":{"hours":8},"u_afoster-2026-02-09-r_57d58678-2026-02-10":{"hours":8},"u_afoster-2026-02-09-r_57d58678-2026-02-11":{"hours":9},"u_afoster-2026-02-09-r_57d58678-2026-02-12":{"hours":8},"u_afoster-2026-02-09-r_57d58678-2026-02-13":{"hours":7},"u_afoster-2026-02-16-r_c8a79710-2026-02-16":{"hours":8},"u_afoster-2026-02-16-r_c8a79710-2026-02-17":{"hours":10},"u_afoster-2026-02-16-r_c8a79710-2026-02-18":{"hours":7},"u_afoster-2026-02-16-r_c8a79710-2026-02-19":{"hours":10},"u_afoster-2026-02-16-r_c8a79710-2026-02-20":{"hours":7},"u_afoster-2026-02-23-r_32a57cf7-2026-02-23":{"hours":9},"u_afoster-2026-02-23-r_32a57cf7-2026-02-24":{"hours":10},"u_afoster-2026-02-23-r_32a57cf7-2026-02-25":{"hours":7},"u_afoster-2026-02-23-r_32a57cf7-2026-02-26":{"hours":9},"u_afoster-2026-02-23-r_32a57cf7-2026-02-27":{"hours":6},"u_btorres-2026-01-26-r_ed609966-2026-01-26":{"hours":6},"u_btorres-2026-01-26-r_ed609966-2026-01-27":{"hours":6},"u_btorres-2026-01-26-r_ed609966-2026-01-28":{"hours":7},"u_btorres-2026-01-26-r_ed609966-2026-01-29":{"hours":6},"u_btorres-2026-01-26-r_ed609966-2026-01-30":{"hours":6},"u_btorres-2026-01-26-r_666138e7-2026-01-26":{"hours":6},"u_btorres-2026-01-26-r_666138e7-2026-01-27":{"hours":7},"u_btorres-2026-01-26-r_666138e7-2026-01-28":{"hours":7},"u_btorres-2026-01-26-r_666138e7-2026-01-30":{"hours":7},"u_btorres-2026-02-02-r_586f440a-2026-02-02":{"hours":7},"u_btorres-2026-02-02-r_586f440a-2026-02-03":{"hours":6},"u_btorres-2026-02-02-r_586f440a-2026-02-04":{"hours":6},"u_btorres-2026-02-02-r_586f440a-2026-02-05":{"hours":8},"u_btorres-2026-02-02-r_586f440a-2026-02-06":{"hours":6},"u_btorres-2026-02-02-r_b9f4fe29-2026-02-02":{"hours":6},"u_btorres-2026-02-02-r_b9f4fe29-2026-02-03":{"hours":7},"u_btorres-2026-02-02-r_b9f4fe29-2026-02-04":{"hours":6},"u_btorres-2026-02-02-r_b9f4fe29-2026-02-05":{"hours":7},"u_btorres-2026-02-02-r_b9f4fe29-2026-02-06":{"hours":6},"u_btorres-2026-02-09-r_ee7a890a-2026-02-09":{"hours":7},"u_btorres-2026-02-09-r_ee7a890a-2026-02-10":{"hours":6},"u_btorres-2026-02-09-r_ee7a890a-2026-02-11":{"hours":7},"u_btorres-2026-02-09-r_ee7a890a-2026-02-12":{"hours":8},"u_btorres-2026-02-09-r_ee7a890a-2026-02-13":{"hours":7},"u_btorres-2026-02-09-r_6a3fa4c6-2026-02-09":{"hours":7},"u_btorres-2026-02-09-r_6a3fa4c6-2026-02-10":{"hours":7},"u_btorres-2026-02-09-r_6a3fa4c6-2026-02-11":{"hours":6},"u_btorres-2026-02-09-r_6a3fa4c6-2026-02-12":{"hours":6},"u_btorres-2026-02-09-r_6a3fa4c6-2026-02-13":{"hours":6},"u_btorres-2026-02-16-r_24a638b8-2026-02-16":{"hours":7},"u_btorres-2026-02-16-r_24a638b8-2026-02-17":{"hours":6},"u_btorres-2026-02-16-r_24a638b8-2026-02-18":{"hours":7},"u_btorres-2026-02-16-r_24a638b8-2026-02-19":{"hours":7},"u_btorres-2026-02-16-r_24a638b8-2026-02-20":{"hours":7},"u_btorres-2026-02-16-r_62ddfea8-2026-02-16":{"hours":6},"u_btorres-2026-02-16-r_62ddfea8-2026-02-17":{"hours":6},"u_btorres-2026-02-16-r_62ddfea8-2026-02-18":{"hours":7},"u_btorres-2026-02-16-r_62ddfea8-2026-02-19":{"hours":6},"u_btorres-2026-02-16-r_62ddfea8-2026-02-20":{"hours":6},"u_btorres-2026-02-23-r_e085df6f-2026-02-23":{"hours":6},"u_btorres-2026-02-23-r_e085df6f-2026-02-24":{"hours":6},"u_btorres-2026-02-23-r_e085df6f-2026-02-25":{"hours":6},"u_btorres-2026-02-23-r_e085df6f-2026-02-26":{"hours":8},"u_btorres-2026-02-23-r_e085df6f-2026-02-27":{"hours":6},"u_btorres-2026-02-23-r_ccfbff62-2026-02-23":{"hours":6},"u_btorres-2026-02-23-r_ccfbff62-2026-02-25":{"hours":6},"u_btorres-2026-02-23-r_ccfbff62-2026-02-26":{"hours":6},"u_btorres-2026-02-23-r_ccfbff62-2026-02-27":{"hours":7}};
  const SEED_WEEKLY_ROWS = {"u_johndoe-2026-01-26":[{"id":"r_6187e579","projectId":"p_acme","taskId":"t_a6"},{"id":"r_b54b3c35","projectId":"p_acme","taskId":"t_a7"},{"id":"r_11cbb1e5","projectId":"p_acme","taskId":"t_a8"}],"u_johndoe-2026-02-02":[{"id":"r_d815cfcf","projectId":"p_acme","taskId":"t_a6"},{"id":"r_1af0b748","projectId":"p_acme","taskId":"t_a7"},{"id":"r_ffdf295e","projectId":"p_acme","taskId":"t_a8"}],"u_johndoe-2026-02-09":[{"id":"r_2f3bb6a4","projectId":"p_acme","taskId":"t_a6"},{"id":"r_f6f9085a","projectId":"p_acme","taskId":"t_a7"},{"id":"r_30990706","projectId":"p_acme","taskId":"t_a8"}],"u_johndoe-2026-02-16":[{"id":"r_755949c9","projectId":"p_acme","taskId":"t_a6"},{"id":"r_471915c2","projectId":"p_acme","taskId":"t_a7"},{"id":"r_54b07736","projectId":"p_acme","taskId":"t_a8"}],"u_johndoe-2026-02-23":[{"id":"r_10b19e7d","projectId":"p_acme","taskId":"t_a6"},{"id":"r_af98ba92","projectId":"p_acme","taskId":"t_a7"},{"id":"r_7b5727fa","projectId":"p_acme","taskId":"t_a8"}],"u_janedoe-2026-01-26":[{"id":"r_dae5bd3d","projectId":"p_toll","taskId":"t_t4"},{"id":"r_4aa91f36","projectId":"p_toll","taskId":"t_t5"},{"id":"r_7d8eb63f","projectId":"p_toll","taskId":"t_t7"}],"u_janedoe-2026-02-02":[{"id":"r_24b8e5f6","projectId":"p_toll","taskId":"t_t4"},{"id":"r_98751091","projectId":"p_toll","taskId":"t_t5"},{"id":"r_aa6344bb","projectId":"p_toll","taskId":"t_t7"}],"u_janedoe-2026-02-09":[{"id":"r_3b91287d","projectId":"p_toll","taskId":"t_t4"},{"id":"r_18289a2f","projectId":"p_toll","taskId":"t_t5"},{"id":"r_db1b4d46","projectId":"p_toll","taskId":"t_t7"}],"u_janedoe-2026-02-16":[{"id":"r_f12775ef","projectId":"p_toll","taskId":"t_t4"},{"id":"r_7d13e0e0","projectId":"p_toll","taskId":"t_t5"},{"id":"r_e07ac5c5","projectId":"p_toll","taskId":"t_t7"}],"u_janedoe-2026-02-23":[{"id":"r_fd654a38","projectId":"p_toll","taskId":"t_t4"},{"id":"r_0ce04235","projectId":"p_toll","taskId":"t_t5"},{"id":"r_7076e13b","projectId":"p_toll","taskId":"t_t7"}],"u_dkim-2026-01-26":[{"id":"r_1d363274","projectId":"p_acme","taskId":"t_a6"},{"id":"r_8c4282bf","projectId":"p_acme","taskId":"t_a7"}],"u_dkim-2026-02-02":[{"id":"r_8ce73aa5","projectId":"p_acme","taskId":"t_a6"},{"id":"r_6101eae7","projectId":"p_acme","taskId":"t_a7"}],"u_dkim-2026-02-09":[{"id":"r_7b8cd3d7","projectId":"p_acme","taskId":"t_a6"},{"id":"r_d596b01f","projectId":"p_acme","taskId":"t_a7"}],"u_dkim-2026-02-16":[{"id":"r_e74c8750","projectId":"p_acme","taskId":"t_a6"},{"id":"r_53b2e5bb","projectId":"p_acme","taskId":"t_a7"}],"u_dkim-2026-02-23":[{"id":"r_f589145e","projectId":"p_acme","taskId":"t_a6"},{"id":"r_ca402c63","projectId":"p_acme","taskId":"t_a7"}],"u_ewright-2026-01-26":[{"id":"r_15912b98","projectId":"p_acme","taskId":"t_a9"},{"id":"r_17d1b6cd","projectId":"p_acme","taskId":"t_a6"}],"u_ewright-2026-02-02":[{"id":"r_e7f722b4","projectId":"p_acme","taskId":"t_a9"},{"id":"r_c5f445ca","projectId":"p_acme","taskId":"t_a6"}],"u_ewright-2026-02-09":[{"id":"r_d61c3a95","projectId":"p_acme","taskId":"t_a9"},{"id":"r_6570e0fd","projectId":"p_acme","taskId":"t_a6"}],"u_ewright-2026-02-16":[{"id":"r_9e36a02c","projectId":"p_acme","taskId":"t_a9"},{"id":"r_6df9caaf","projectId":"p_acme","taskId":"t_a6"}],"u_ewright-2026-02-23":[{"id":"r_1310abf1","projectId":"p_acme","taskId":"t_a9"},{"id":"r_88d1b3c0","projectId":"p_acme","taskId":"t_a6"}],"u_mturner-2026-01-26":[{"id":"r_846599f0","projectId":"p_acme","taskId":"t_a6"}],"u_mturner-2026-02-02":[{"id":"r_10943f4e","projectId":"p_acme","taskId":"t_a6"}],"u_mturner-2026-02-09":[{"id":"r_fe50c9f4","projectId":"p_acme","taskId":"t_a6"}],"u_mturner-2026-02-16":[{"id":"r_f8a8a22d","projectId":"p_acme","taskId":"t_a6"}],"u_mturner-2026-02-23":[{"id":"r_52fddda5","projectId":"p_acme","taskId":"t_a6"}],"u_schen-2026-01-26":[{"id":"r_6caf493f","projectId":"p_acme","taskId":"t_a7"}],"u_schen-2026-02-02":[{"id":"r_f71c5b58","projectId":"p_acme","taskId":"t_a7"}],"u_schen-2026-02-09":[{"id":"r_3da13d10","projectId":"p_acme","taskId":"t_a7"}],"u_schen-2026-02-16":[{"id":"r_9da62141","projectId":"p_acme","taskId":"t_a7"}],"u_schen-2026-02-23":[{"id":"r_48cc1715","projectId":"p_acme","taskId":"t_a7"}],"u_rgarcia-2026-01-26":[{"id":"r_91dec892","projectId":"p_acme","taskId":"t_a8"},{"id":"r_ff035a4b","projectId":"p_toll","taskId":"t_t4"}],"u_rgarcia-2026-02-02":[{"id":"r_4d19040a","projectId":"p_acme","taskId":"t_a8"},{"id":"r_d358f1d6","projectId":"p_toll","taskId":"t_t4"}],"u_rgarcia-2026-02-09":[{"id":"r_28e657f1","projectId":"p_acme","taskId":"t_a8"},{"id":"r_ff57b974","projectId":"p_toll","taskId":"t_t4"}],"u_rgarcia-2026-02-16":[{"id":"r_fda3b792","projectId":"p_acme","taskId":"t_a8"},{"id":"r_17c2051e","projectId":"p_toll","taskId":"t_t4"}],"u_rgarcia-2026-02-23":[{"id":"r_55781c80","projectId":"p_acme","taskId":"t_a8"},{"id":"r_3e0f331e","projectId":"p_toll","taskId":"t_t4"}],"u_tbradley-2026-01-26":[{"id":"r_5b54d0fd","projectId":"p_acme","taskId":"t_a6"},{"id":"r_1efcfb71","projectId":"p_toll","taskId":"t_t7"}],"u_tbradley-2026-02-02":[{"id":"r_0a6ce8c2","projectId":"p_acme","taskId":"t_a6"},{"id":"r_7f26091b","projectId":"p_toll","taskId":"t_t7"}],"u_tbradley-2026-02-09":[{"id":"r_a33228dc","projectId":"p_acme","taskId":"t_a6"},{"id":"r_fb12414c","projectId":"p_toll","taskId":"t_t7"}],"u_tbradley-2026-02-16":[{"id":"r_5ac9fb0a","projectId":"p_acme","taskId":"t_a6"},{"id":"r_de39ed0d","projectId":"p_toll","taskId":"t_t7"}],"u_tbradley-2026-02-23":[{"id":"r_3fff81b6","projectId":"p_acme","taskId":"t_a6"},{"id":"r_ae9154c0","projectId":"p_toll","taskId":"t_t7"}],"u_dhall-2026-01-26":[{"id":"r_ac098bdf","projectId":"p_acme","taskId":"t_a7"},{"id":"r_cf940849","projectId":"p_acme","taskId":"t_a6"}],"u_dhall-2026-02-02":[{"id":"r_17398369","projectId":"p_acme","taskId":"t_a7"},{"id":"r_a6bc9bbc","projectId":"p_acme","taskId":"t_a6"}],"u_dhall-2026-02-09":[{"id":"r_95a7c6c5","projectId":"p_acme","taskId":"t_a7"},{"id":"r_62d6e47d","projectId":"p_acme","taskId":"t_a6"}],"u_dhall-2026-02-16":[{"id":"r_c46452f6","projectId":"p_acme","taskId":"t_a7"},{"id":"r_c804f6fe","projectId":"p_acme","taskId":"t_a6"}],"u_dhall-2026-02-23":[{"id":"r_2a3fe966","projectId":"p_acme","taskId":"t_a7"},{"id":"r_8a89ee07","projectId":"p_acme","taskId":"t_a6"}],"u_cmendoza-2026-01-26":[{"id":"r_5410000a","projectId":"p_acme","taskId":"t_a9"},{"id":"r_fe4799f7","projectId":"p_toll","taskId":"t_t5"}],"u_cmendoza-2026-02-02":[{"id":"r_c0b441ba","projectId":"p_acme","taskId":"t_a9"},{"id":"r_cfd66381","projectId":"p_toll","taskId":"t_t5"}],"u_cmendoza-2026-02-09":[{"id":"r_b4c988fa","projectId":"p_acme","taskId":"t_a9"},{"id":"r_87f75e05","projectId":"p_toll","taskId":"t_t5"}],"u_cmendoza-2026-02-16":[{"id":"r_17dbe21d","projectId":"p_acme","taskId":"t_a9"},{"id":"r_c8c1111b","projectId":"p_toll","taskId":"t_t5"}],"u_cmendoza-2026-02-23":[{"id":"r_52e8a595","projectId":"p_acme","taskId":"t_a9"},{"id":"r_4a9b4844","projectId":"p_toll","taskId":"t_t5"}],"u_jsteel-2026-01-26":[{"id":"r_6bfb080f","projectId":"p_acme","taskId":"t_a6"},{"id":"r_193cad67","projectId":"p_toll","taskId":"t_t7"}],"u_jsteel-2026-02-02":[{"id":"r_3a6cf4fc","projectId":"p_acme","taskId":"t_a6"},{"id":"r_06e490db","projectId":"p_toll","taskId":"t_t7"}],"u_jsteel-2026-02-09":[{"id":"r_97df3280","projectId":"p_acme","taskId":"t_a6"},{"id":"r_eb28f81f","projectId":"p_toll","taskId":"t_t7"}],"u_jsteel-2026-02-16":[{"id":"r_14d5214d","projectId":"p_acme","taskId":"t_a6"},{"id":"r_6279dc2a","projectId":"p_toll","taskId":"t_t7"}],"u_jsteel-2026-02-23":[{"id":"r_125aecaa","projectId":"p_acme","taskId":"t_a6"},{"id":"r_38564223","projectId":"p_toll","taskId":"t_t7"}],"u_lpark-2026-01-26":[{"id":"r_e9831695","projectId":"p_toll","taskId":"t_t5"},{"id":"r_d79ee1d7","projectId":"p_toll","taskId":"t_t6"}],"u_lpark-2026-02-02":[{"id":"r_7fcabc04","projectId":"p_toll","taskId":"t_t5"},{"id":"r_c4afa689","projectId":"p_toll","taskId":"t_t6"}],"u_lpark-2026-02-09":[{"id":"r_ad14a545","projectId":"p_toll","taskId":"t_t5"},{"id":"r_966b6b3a","projectId":"p_toll","taskId":"t_t6"}],"u_lpark-2026-02-16":[{"id":"r_9df4583f","projectId":"p_toll","taskId":"t_t5"},{"id":"r_61e5c890","projectId":"p_toll","taskId":"t_t6"}],"u_lpark-2026-02-23":[{"id":"r_d3ea419b","projectId":"p_toll","taskId":"t_t5"},{"id":"r_6021bd61","projectId":"p_toll","taskId":"t_t6"}],"u_npatel-2026-01-26":[{"id":"r_9b5d2ad8","projectId":"p_acme","taskId":"t_a6"},{"id":"r_f00acb25","projectId":"p_toll","taskId":"t_t6"}],"u_npatel-2026-02-02":[{"id":"r_d50454a6","projectId":"p_acme","taskId":"t_a6"},{"id":"r_fa4d9e0f","projectId":"p_toll","taskId":"t_t6"}],"u_npatel-2026-02-09":[{"id":"r_7dd167d0","projectId":"p_acme","taskId":"t_a6"},{"id":"r_5bc6410d","projectId":"p_toll","taskId":"t_t6"}],"u_npatel-2026-02-16":[{"id":"r_422a0082","projectId":"p_acme","taskId":"t_a6"},{"id":"r_3821cad9","projectId":"p_toll","taskId":"t_t6"}],"u_npatel-2026-02-23":[{"id":"r_a5ba96c6","projectId":"p_acme","taskId":"t_a6"},{"id":"r_9bf50934","projectId":"p_toll","taskId":"t_t6"}],"u_afoster-2026-01-26":[{"id":"r_beeab356","projectId":"p_acme","taskId":"t_a6"}],"u_afoster-2026-02-02":[{"id":"r_3d2a752a","projectId":"p_acme","taskId":"t_a6"}],"u_afoster-2026-02-09":[{"id":"r_57d58678","projectId":"p_acme","taskId":"t_a6"}],"u_afoster-2026-02-16":[{"id":"r_c8a79710","projectId":"p_acme","taskId":"t_a6"}],"u_afoster-2026-02-23":[{"id":"r_32a57cf7","projectId":"p_acme","taskId":"t_a6"}],"u_btorres-2026-01-26":[{"id":"r_ed609966","projectId":"p_acme","taskId":"t_a6"},{"id":"r_666138e7","projectId":"p_toll","taskId":"t_t7"}],"u_btorres-2026-02-02":[{"id":"r_586f440a","projectId":"p_acme","taskId":"t_a6"},{"id":"r_b9f4fe29","projectId":"p_toll","taskId":"t_t7"}],"u_btorres-2026-02-09":[{"id":"r_ee7a890a","projectId":"p_acme","taskId":"t_a6"},{"id":"r_6a3fa4c6","projectId":"p_toll","taskId":"t_t7"}],"u_btorres-2026-02-16":[{"id":"r_24a638b8","projectId":"p_acme","taskId":"t_a6"},{"id":"r_62ddfea8","projectId":"p_toll","taskId":"t_t7"}],"u_btorres-2026-02-23":[{"id":"r_e085df6f","projectId":"p_acme","taskId":"t_a6"},{"id":"r_ccfbff62","projectId":"p_toll","taskId":"t_t7"}]};
  const SEED_HOLIDAYS = [
    {
        "id": "h_001",
        "date": "2026-01-01",
        "name": "New Year's Day",
        "countries": [
            "Canada",
            "US",
            "UK",
            "Italy",
            "Germany"
        ]
    },
    {
        "id": "h_002",
        "date": "2026-01-19",
        "name": "Martin Luther King Jr. Day",
        "countries": [
            "US"
        ]
    },
    {
        "id": "h_003",
        "date": "2026-02-16",
        "name": "Family Day",
        "countries": [
            "Canada"
        ]
    },
    {
        "id": "h_004",
        "date": "2026-02-16",
        "name": "Presidents' Day",
        "countries": [
            "US"
        ]
    },
    {
        "id": "h_005",
        "date": "2026-04-03",
        "name": "Good Friday",
        "countries": [
            "Canada",
            "UK",
            "Germany",
            "Italy"
        ]
    },
    {
        "id": "h_006",
        "date": "2026-04-06",
        "name": "Easter Monday",
        "countries": [
            "Canada",
            "UK",
            "Germany",
            "Italy"
        ]
    },
    {
        "id": "h_007",
        "date": "2026-05-18",
        "name": "Victoria Day",
        "countries": [
            "Canada"
        ]
    },
    {
        "id": "h_008",
        "date": "2026-05-25",
        "name": "Memorial Day",
        "countries": [
            "US"
        ]
    },
    {
        "id": "h_009",
        "date": "2026-07-01",
        "name": "Canada Day",
        "countries": [
            "Canada"
        ]
    },
    {
        "id": "h_010",
        "date": "2026-07-04",
        "name": "Independence Day",
        "countries": [
            "US"
        ]
    },
    {
        "id": "h_011",
        "date": "2026-08-03",
        "name": "Civic Holiday",
        "countries": [
            "Canada"
        ]
    },
    {
        "id": "h_012",
        "date": "2026-08-31",
        "name": "Summer Bank Holiday",
        "countries": [
            "UK"
        ]
    },
    {
        "id": "h_013",
        "date": "2026-09-07",
        "name": "Labour Day",
        "countries": [
            "Canada",
            "US"
        ]
    },
    {
        "id": "h_014",
        "date": "2026-10-12",
        "name": "Thanksgiving",
        "countries": [
            "Canada"
        ]
    },
    {
        "id": "h_015",
        "date": "2026-11-11",
        "name": "Remembrance Day / Veterans Day",
        "countries": [
            "Canada",
            "US"
        ]
    },
    {
        "id": "h_016",
        "date": "2026-11-26",
        "name": "Thanksgiving (US)",
        "countries": [
            "US"
        ]
    },
    {
        "id": "h_017",
        "date": "2026-12-25",
        "name": "Christmas Day",
        "countries": [
            "Canada",
            "US",
            "UK",
            "Italy",
            "Germany"
        ]
    },
    {
        "id": "h_018",
        "date": "2026-12-26",
        "name": "Boxing Day",
        "countries": [
            "Canada",
            "UK"
        ]
    }
];
  const SEED_HEALTH_REPORTS = {};
  const STATUS_CFG = {
    "Not Started": { bg: "bg-slate-100", text: "text-slate-600", bar: "#94a3b8", dot: "bg-slate-400" },
    "In Progress": { bg: "bg-blue-50", text: "text-blue-700", bar: "#3b82f6", dot: "bg-blue-500" },
    "Completed": { bg: "bg-green-50", text: "text-green-700", bar: "#22c55e", dot: "bg-green-500" },
    "Blocked": { bg: "bg-red-50", text: "text-red-700", bar: "#ef4444", dot: "bg-red-500" }
  };
  const TYPE_CFG = {
    "task": { bg: "bg-sky-50", text: "text-sky-700" },
    "milestone": { bg: "bg-amber-50", text: "text-amber-700" },
    "deliverable": { bg: "bg-violet-50", text: "text-violet-700" },
    "issue": { bg: "bg-rose-50", text: "text-rose-700" }
  };
  const PRIORITY_CFG = {
    "high": { bg: "bg-red-50", text: "text-red-600", icon: "\u2191" },
    "normal": { bg: "bg-slate-50", text: "text-slate-600", icon: "\u2192" },
    "low": { bg: "bg-green-50", text: "text-green-600", icon: "\u2193" }
  };
  const PROJECT_STATUSES = ["Planning", "Active", "On Hold", "Completed", "Archived"];
  const STATUS_OPTIONS = ["Not Started", "In Progress", "Completed", "Blocked"];
  const TYPE_OPTIONS = ["task", "milestone", "deliverable", "issue"];
  const PRIORITY_OPTIONS = ["high", "normal", "low"];
  const NAV_ITEMS = [
    { id: "dashboard", icon: "\u22A1", label: "Dashboard" },
    { id: "projects", icon: "\u25EB", label: "Projects" },
    { id: "time", icon: "\u25F7", label: "Time Entry" },
    { id: "resources", icon: "\u25C8", label: "Resources" },
    { id: "templates", icon: "\u25E7", label: "Templates" },
    { id: "health", icon: "\u2665", label: "Health Reports" },
    { id: "admin", icon: "\u2699", label: "Admin" },
    { id: "reports", icon: "\u25C9", label: "Reports" }
  ];
  const uid = () => Math.random().toString(36).slice(2, 10);
  const today = /* @__PURE__ */ new Date();
  today.setHours(0, 0, 0, 0);
  const todayStr = today.toISOString().slice(0, 10);
  function addDays(dateStr, n) {
    if (!dateStr) return "";
    const d = new Date(dateStr);
    d.setDate(d.getDate() + n);
    return d.toISOString().slice(0, 10);
  }
  function daysBetween(a, b) {
    return Math.round((new Date(b) - new Date(a)) / 864e5);
  }
  function fmtDate(s) {
    if (!s) return "\u2014";
    const d = /* @__PURE__ */ new Date(s + "T00:00:00");
    return d.toLocaleDateString("en-US", { month: "short", day: "numeric", year: "numeric" });
  }
  function fmtShort(s) {
    if (!s) return "";
    const d = /* @__PURE__ */ new Date(s + "T00:00:00");
    return d.toLocaleDateString("en-US", { month: "short", day: "numeric" });
  }
  function getMonday(d) {
    const dt = new Date(d);
    const day = dt.getDay();
    const diff = dt.getDate() - day + (day === 0 ? -6 : 1);
    dt.setDate(diff);
    dt.setHours(0, 0, 0, 0);
    return dt;
  }
  function weekDates(monday) {
    return Array.from({ length: 7 }, (_, i) => addDays(monday.toISOString().slice(0, 10), i));
  }
  function roundQ(n) {
    return Math.round(n * 4) / 4;
  }
  function fmtHrs(h) {
    if (!h) return "\u2014";
    const hrs = Math.floor(h);
    const mins = Math.round((h - hrs) * 60);
    if (!mins) return `${hrs}h`;
    return `${hrs}h ${mins}m`;
  }
  const SK = "pm-tool-v5";
  let _syncStatus = { ok: null, lastSync: null, lastError: null };
  async function loadData() {
    try {
      localStorage.removeItem(SK);
      return null;
    } catch (e) {
      console.warn("[PM Tool] localStorage load failed:", e);
      return null;
    }
  }
  async function saveData(data) {
    try {
      localStorage.setItem(SK, JSON.stringify(data));
      _syncStatus = { ok: true, lastSync: (/* @__PURE__ */ new Date()).toISOString(), lastError: null };
    } catch (e) {
      _syncStatus = { ok: false, lastSync: _syncStatus.lastSync, lastError: e.message };
      console.warn("[PM Tool] localStorage save failed:", e);
    }
  }
  function Btn({ children, onClick, variant = "primary", size = "sm", disabled, className = "" }) {
    const base = "inline-flex items-center gap-1.5 font-medium rounded-lg transition-all cursor-pointer select-none";
    const sizes = { xs: "px-2 py-1 text-xs", sm: "px-3 py-1.5 text-sm", md: "px-4 py-2 text-sm" };
    const vars = {
      primary: "text-white shadow-sm dcb-btn",
      secondary: "bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 shadow-sm",
      ghost: "text-slate-600 hover:bg-slate-100",
      danger: "bg-red-600 text-white hover:bg-red-700 shadow-sm",
      success: "bg-green-600 text-white hover:bg-green-700 shadow-sm"
    };
    const btnStyle = variant === "primary" ? { background: "var(--dcb-purple)", transition: "background 0.15s" } : {};
    return /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick,
        disabled,
        style: btnStyle,
        className: `${base} ${sizes[size]} ${vars[variant]} ${disabled ? "opacity-50 cursor-not-allowed" : ""} ${className}`
      },
      children
    );
  }
  function Avatar({ user, size = 7 }) {
    if (!user) return /* @__PURE__ */ React.createElement("div", { className: `w-${size} h-${size} rounded-full bg-slate-200` });
    return /* @__PURE__ */ React.createElement(
      "div",
      {
        className: `w-${size} h-${size} rounded-full flex items-center justify-center text-white font-bold flex-shrink-0`,
        style: { background: user.color, fontSize: size < 7 ? "10px" : "12px" },
        title: user.name
      },
      user.initials
    );
  }
  function StatusBadge({ status }) {
    const c = STATUS_CFG[status] || STATUS_CFG["Not Started"];
    return /* @__PURE__ */ React.createElement("span", { className: `inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${c.bg} ${c.text}` }, /* @__PURE__ */ React.createElement("span", { className: `w-1.5 h-1.5 rounded-full ${c.dot}` }), status);
  }
  function TypeBadge({ type }) {
    const c = TYPE_CFG[type] || TYPE_CFG.task;
    return /* @__PURE__ */ React.createElement("span", { className: `px-2 py-0.5 rounded-full text-xs font-medium capitalize ${c.bg} ${c.text}` }, type);
  }
  function PriorityBadge({ priority }) {
    const c = PRIORITY_CFG[priority] || PRIORITY_CFG.normal;
    return /* @__PURE__ */ React.createElement("span", { className: `px-2 py-0.5 rounded-full text-xs font-medium capitalize ${c.bg} ${c.text}` }, c.icon, " ", priority);
  }
  function ProgressBar({ pct, color = "#6366f1" }) {
    const n = Math.min(100, Math.max(0, pct || 0));
    return /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "flex-1 bg-slate-100 rounded-full h-1.5 overflow-hidden" }, /* @__PURE__ */ React.createElement("div", { className: "h-full rounded-full transition-all", style: { width: `${n}%`, background: n === 100 ? "#22c55e" : color } })), /* @__PURE__ */ React.createElement("span", { className: "text-xs font-mono text-slate-500 w-8 text-right" }, n, "%"));
  }
  function Modal({ title, onClose, children, width = "max-w-2xl" }) {
    return /* @__PURE__ */ React.createElement("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4", style: { background: "rgba(0,0,0,0.5)" } }, /* @__PURE__ */ React.createElement("div", { className: `bg-white rounded-2xl shadow-2xl w-full ${width} max-h-[90vh] flex flex-col` }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between px-6 py-4 border-b border-slate-100" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-900 text-lg" }, title), /* @__PURE__ */ React.createElement("button", { onClick: onClose, className: "text-slate-400 hover:text-slate-600 text-xl font-light leading-none" }, "\xD7")), /* @__PURE__ */ React.createElement("div", { className: "overflow-y-auto flex-1 px-6 py-4" }, children)));
  }
  function Field({ label, children, required }) {
    return /* @__PURE__ */ React.createElement("div", { className: "flex flex-col gap-1" }, /* @__PURE__ */ React.createElement("label", { className: "text-xs font-semibold text-slate-500 uppercase tracking-wide" }, label, required && /* @__PURE__ */ React.createElement("span", { className: "text-red-500 ml-0.5" }, "*")), children);
  }
  function Input({ value, onChange, placeholder, type = "text", min, max, step, className = "" }) {
    return /* @__PURE__ */ React.createElement(
      "input",
      {
        type,
        value: value || "",
        onChange: (e) => onChange(e.target.value),
        placeholder,
        min,
        max,
        step,
        className: `border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400 ${className}`
      }
    );
  }
  function Textarea({ value, onChange, placeholder, rows = 3 }) {
    return /* @__PURE__ */ React.createElement(
      "textarea",
      {
        value: value || "",
        onChange: (e) => onChange(e.target.value),
        placeholder,
        rows,
        className: "border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400 resize-none w-full"
      }
    );
  }
  function Select({ value, onChange, options, placeholder, className = "" }) {
    return /* @__PURE__ */ React.createElement(
      "select",
      {
        value: value || "",
        onChange: (e) => onChange(e.target.value),
        className: `border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400 bg-white ${className}`
      },
      placeholder && /* @__PURE__ */ React.createElement("option", { value: "" }, placeholder),
      options.map(
        (o) => typeof o === "string" ? /* @__PURE__ */ React.createElement("option", { key: o, value: o }, o) : /* @__PURE__ */ React.createElement("option", { key: o.value, value: o.value }, o.label)
      )
    );
  }
  function MultiSelect({ label, allUsers, selectedIds, onChange }) {
    const toggle = (id) => onChange(selectedIds.includes(id) ? selectedIds.filter((x) => x !== id) : [...selectedIds, id]);
    return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2" }, label), /* @__PURE__ */ React.createElement("div", { className: "flex flex-wrap gap-2 max-h-32 overflow-y-auto border border-slate-200 rounded-lg p-2" }, allUsers.map((u) => {
      const sel = selectedIds.includes(u.id);
      return /* @__PURE__ */ React.createElement(
        "button",
        {
          key: u.id,
          type: "button",
          onClick: () => toggle(u.id),
          className: `flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium transition-all ${sel ? "text-white" : "bg-slate-100 text-slate-600 hover:bg-slate-200"}`,
          style: sel ? { background: u.color } : {}
        },
        u.initials,
        " ",
        u.name.split(" ")[0]
      );
    })));
  }
  function ProjectModal({ project, users, templates, onSave, onClose }) {
    const isNew = !(project == null ? void 0 : project.id);
    const [form, setForm] = useState(project || {
      name: "",
      clientName: "",
      color: "#6366f1",
      pmId: "",
      status: "Planning",
      startDate: todayStr,
      endDate: addDays(todayStr, 120),
      description: "",
      resourceIds: []
    });
    const [applyTemplate, setApplyTemplate] = useState("");
    const set = (k, v) => setForm((f) => __spreadProps(__spreadValues({}, f), { [k]: v }));
    return /* @__PURE__ */ React.createElement(Modal, { title: isNew ? "+ New Project" : "Edit Project", onClose, width: "max-w-2xl" }, /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 gap-4" }, /* @__PURE__ */ React.createElement(Field, { label: "Project Name", required: true }, /* @__PURE__ */ React.createElement(Input, { value: form.name, onChange: (v) => set("name", v), placeholder: "e.g. Acme Corp Onboarding" })), /* @__PURE__ */ React.createElement(Field, { label: "Client Name" }, /* @__PURE__ */ React.createElement(Input, { value: form.clientName, onChange: (v) => set("clientName", v), placeholder: "e.g. Acme Corp" })), /* @__PURE__ */ React.createElement(Field, { label: "Status" }, /* @__PURE__ */ React.createElement(Select, { value: form.status, onChange: (v) => set("status", v), options: PROJECT_STATUSES })), /* @__PURE__ */ React.createElement(Field, { label: "Project Manager" }, /* @__PURE__ */ React.createElement(
      Select,
      {
        value: form.pmId,
        onChange: (v) => set("pmId", v),
        options: users.filter((u) => u.org === "Docebo").map((u) => ({ value: u.id, label: u.name })),
        placeholder: "Select PM"
      }
    )), /* @__PURE__ */ React.createElement(Field, { label: "Start Date" }, /* @__PURE__ */ React.createElement(Input, { type: "date", value: form.startDate, onChange: (v) => set("startDate", v) })), /* @__PURE__ */ React.createElement(Field, { label: "End Date" }, /* @__PURE__ */ React.createElement(Input, { type: "date", value: form.endDate, onChange: (v) => set("endDate", v) })), /* @__PURE__ */ React.createElement(Field, { label: "Project Color" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "color",
        value: form.color,
        onChange: (e) => set("color", e.target.value),
        className: "w-10 h-9 rounded cursor-pointer border border-slate-200"
      }
    ), /* @__PURE__ */ React.createElement("span", { className: "text-sm text-slate-500" }, "Project accent color"))), isNew && templates.length > 0 && /* @__PURE__ */ React.createElement(Field, { label: "Apply Template" }, /* @__PURE__ */ React.createElement(
      Select,
      {
        value: applyTemplate,
        onChange: setApplyTemplate,
        options: templates.map((t) => ({ value: t.id, label: t.name })),
        placeholder: "None"
      }
    )), /* @__PURE__ */ React.createElement("div", { className: "col-span-2" }, /* @__PURE__ */ React.createElement(Field, { label: "Description" }, /* @__PURE__ */ React.createElement(Textarea, { value: form.description, onChange: (v) => set("description", v), placeholder: "Project overview...", rows: 2 }))), /* @__PURE__ */ React.createElement("div", { className: "col-span-2" }, /* @__PURE__ */ React.createElement(
      MultiSelect,
      {
        label: "Team Members",
        allUsers: users,
        selectedIds: form.resourceIds || [],
        onChange: (v) => set("resourceIds", v)
      }
    ))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-end gap-2 mt-6 pt-4 border-t border-slate-100" }, /* @__PURE__ */ React.createElement(Btn, { variant: "secondary", onClick: onClose }, "Cancel"), /* @__PURE__ */ React.createElement(Btn, { onClick: () => onSave(__spreadProps(__spreadValues({}, form), { id: form.id || "p_" + uid() }), applyTemplate) }, isNew ? "Create Project" : "Save Changes")));
  }
  function TaskModal({ task, projectId, users, projects, allTasks, onSave, onDelete, onClose }) {
    const isNew = !(task == null ? void 0 : task.id);
    const [form, setForm] = useState(task || {
      projectId: projectId || "",
      title: "",
      type: "task",
      status: "Not Started",
      startDate: todayStr,
      dueDate: addDays(todayStr, 7),
      assigneeIds: [],
      priority: "normal",
      percentDone: 0,
      estimatedHours: 8,
      parentId: null,
      notes: ""
    });
    const set = (k, v) => setForm((f) => __spreadProps(__spreadValues({}, f), { [k]: v }));
    const project = projects.find((p) => p.id === form.projectId);
    const projectUsers = users.filter((u) => ((project == null ? void 0 : project.resourceIds) || []).includes(u.id));
    const parentableTasks = (allTasks || []).filter((t) => t.projectId === form.projectId && t.id !== form.id);
    return /* @__PURE__ */ React.createElement(Modal, { title: isNew ? "+ New Task" : "Edit Task", onClose, width: "max-w-2xl" }, /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 gap-4" }, /* @__PURE__ */ React.createElement("div", { className: "col-span-2" }, /* @__PURE__ */ React.createElement(Field, { label: "Task Title", required: true }, /* @__PURE__ */ React.createElement(Input, { value: form.title, onChange: (v) => set("title", v), placeholder: "Task name..." }))), /* @__PURE__ */ React.createElement(Field, { label: "Project", required: true }, /* @__PURE__ */ React.createElement(
      Select,
      {
        value: form.projectId,
        onChange: (v) => set("projectId", v),
        options: projects.map((p) => ({ value: p.id, label: p.name })),
        placeholder: "Select project"
      }
    )), /* @__PURE__ */ React.createElement(Field, { label: "Parent Task" }, /* @__PURE__ */ React.createElement(
      Select,
      {
        value: form.parentId || "",
        onChange: (v) => set("parentId", v || null),
        options: parentableTasks.map((t) => ({ value: t.id, label: t.title })),
        placeholder: "None (top-level)"
      }
    )), /* @__PURE__ */ React.createElement(Field, { label: "Type" }, /* @__PURE__ */ React.createElement(Select, { value: form.type, onChange: (v) => set("type", v), options: TYPE_OPTIONS })), /* @__PURE__ */ React.createElement(Field, { label: "Status" }, /* @__PURE__ */ React.createElement(Select, { value: form.status, onChange: (v) => set("status", v), options: STATUS_OPTIONS })), /* @__PURE__ */ React.createElement(Field, { label: "Priority" }, /* @__PURE__ */ React.createElement(Select, { value: form.priority, onChange: (v) => set("priority", v), options: PRIORITY_OPTIONS })), /* @__PURE__ */ React.createElement(Field, { label: "% Complete" }, /* @__PURE__ */ React.createElement(Input, { type: "number", value: form.percentDone, onChange: (v) => set("percentDone", Math.min(100, Math.max(0, +v))), min: 0, max: 100 })), /* @__PURE__ */ React.createElement(Field, { label: "Start Date" }, /* @__PURE__ */ React.createElement(Input, { type: "date", value: form.startDate, onChange: (v) => set("startDate", v) })), /* @__PURE__ */ React.createElement(Field, { label: "Due Date" }, /* @__PURE__ */ React.createElement(Input, { type: "date", value: form.dueDate, onChange: (v) => set("dueDate", v) })), /* @__PURE__ */ React.createElement(Field, { label: "Estimated Hours" }, /* @__PURE__ */ React.createElement(Input, { type: "number", value: form.estimatedHours, onChange: (v) => set("estimatedHours", +v), min: 0, step: 0.25 })), /* @__PURE__ */ React.createElement("div", { className: "col-span-2" }, /* @__PURE__ */ React.createElement(
      MultiSelect,
      {
        label: "Assignees",
        allUsers: projectUsers.length ? projectUsers : users,
        selectedIds: form.assigneeIds || [],
        onChange: (v) => set("assigneeIds", v)
      }
    )), /* @__PURE__ */ React.createElement("div", { className: "col-span-2" }, /* @__PURE__ */ React.createElement(Field, { label: "Notes" }, /* @__PURE__ */ React.createElement(Textarea, { value: form.notes, onChange: (v) => set("notes", v), placeholder: "Task notes...", rows: 2 })))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-between gap-2 mt-6 pt-4 border-t border-slate-100" }, /* @__PURE__ */ React.createElement("div", null, !isNew && /* @__PURE__ */ React.createElement(Btn, { variant: "danger", size: "sm", onClick: () => onDelete(task.id) }, "Delete Task")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2" }, /* @__PURE__ */ React.createElement(Btn, { variant: "secondary", onClick: onClose }, "Cancel"), /* @__PURE__ */ React.createElement(Btn, { onClick: () => onSave(__spreadProps(__spreadValues({}, form), { id: form.id || "t_" + uid() })) }, isNew ? "Create Task" : "Save Changes"))));
  }
  function TemplateModal({ template, onSave, onClose }) {
    const isNew = !(template == null ? void 0 : template.id);
    const [form, setForm] = useState(template || { name: "", description: "", taskTemplates: [] });
    const [newTask, setNewTask] = useState({ title: "", type: "task", priority: "normal", offsetDays: 0, durationDays: 7, estimatedHours: 8 });
    const set = (k, v) => setForm((f) => __spreadProps(__spreadValues({}, f), { [k]: v }));
    const setNT = (k, v) => setNewTask((t) => __spreadProps(__spreadValues({}, t), { [k]: v }));
    const addTask = () => {
      if (!newTask.title.trim()) return;
      set("taskTemplates", [...form.taskTemplates || [], __spreadValues({}, newTask)]);
      setNewTask({ title: "", type: "task", priority: "normal", offsetDays: 0, durationDays: 7, estimatedHours: 8 });
    };
    const removeTask = (i) => set("taskTemplates", form.taskTemplates.filter((_, idx) => idx !== i));
    return /* @__PURE__ */ React.createElement(Modal, { title: isNew ? "+ New Template" : "Edit Template", onClose, width: "max-w-3xl" }, /* @__PURE__ */ React.createElement("div", { className: "space-y-4" }, /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 gap-4" }, /* @__PURE__ */ React.createElement(Field, { label: "Template Name", required: true }, /* @__PURE__ */ React.createElement(Input, { value: form.name, onChange: (v) => set("name", v), placeholder: "Template name..." })), /* @__PURE__ */ React.createElement(Field, { label: "Description" }, /* @__PURE__ */ React.createElement(Input, { value: form.description, onChange: (v) => set("description", v), placeholder: "Brief description..." }))), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2" }, "Task Template Items"), (form.taskTemplates || []).length > 0 ? /* @__PURE__ */ React.createElement("div", { className: "border border-slate-200 rounded-lg overflow-hidden mb-3" }, /* @__PURE__ */ React.createElement("table", { className: "w-full text-xs" }, /* @__PURE__ */ React.createElement("thead", { className: "bg-slate-50" }, /* @__PURE__ */ React.createElement("tr", null, ["Title", "Type", "Priority", "Offset Days", "Duration", "Est. Hrs", ""].map((h) => /* @__PURE__ */ React.createElement("th", { key: h, className: "px-3 py-2 text-left font-semibold text-slate-500" }, h)))), /* @__PURE__ */ React.createElement("tbody", { className: "divide-y divide-slate-100" }, form.taskTemplates.map((t, i) => /* @__PURE__ */ React.createElement("tr", { key: i, className: "hover:bg-slate-50" }, /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2 font-medium" }, t.title), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2" }, /* @__PURE__ */ React.createElement(TypeBadge, { type: t.type })), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2" }, /* @__PURE__ */ React.createElement(PriorityBadge, { priority: t.priority })), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2 font-mono" }, "+", t.offsetDays, "d"), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2 font-mono" }, t.durationDays, "d"), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2 font-mono" }, t.estimatedHours, "h"), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2" }, /* @__PURE__ */ React.createElement("button", { onClick: () => removeTask(i), className: "text-red-400 hover:text-red-600" }, "\u2715"))))))) : /* @__PURE__ */ React.createElement("div", { className: "text-center py-4 text-slate-400 text-sm border border-dashed border-slate-200 rounded-lg mb-3" }, "No tasks yet"), /* @__PURE__ */ React.createElement("div", { className: "bg-slate-50 border border-slate-200 rounded-lg p-3" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-500 mb-2" }, "Add Task to Template"), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-6 gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "col-span-2" }, /* @__PURE__ */ React.createElement(Input, { value: newTask.title, onChange: (v) => setNT("title", v), placeholder: "Task title" })), /* @__PURE__ */ React.createElement(Select, { value: newTask.type, onChange: (v) => setNT("type", v), options: TYPE_OPTIONS }), /* @__PURE__ */ React.createElement(Select, { value: newTask.priority, onChange: (v) => setNT("priority", v), options: PRIORITY_OPTIONS }), /* @__PURE__ */ React.createElement(Input, { type: "number", value: newTask.offsetDays, onChange: (v) => setNT("offsetDays", +v), placeholder: "Offset days", min: 0 }), /* @__PURE__ */ React.createElement(Input, { type: "number", value: newTask.durationDays, onChange: (v) => setNT("durationDays", +v), placeholder: "Duration days", min: 1 })), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 mt-2" }, /* @__PURE__ */ React.createElement(Input, { type: "number", value: newTask.estimatedHours, onChange: (v) => setNT("estimatedHours", +v), placeholder: "Est. hours", min: 0, step: 0.25, className: "w-32" }), /* @__PURE__ */ React.createElement(Btn, { size: "xs", onClick: addTask }, "+ Add Task"))))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-end gap-2 mt-6 pt-4 border-t border-slate-100" }, /* @__PURE__ */ React.createElement(Btn, { variant: "secondary", onClick: onClose }, "Cancel"), /* @__PURE__ */ React.createElement(Btn, { onClick: () => onSave(__spreadProps(__spreadValues({}, form), { id: form.id || "tmpl_" + uid() })) }, isNew ? "Create Template" : "Save Changes")));
  }
  function DashboardView({ projects, tasks, users, timeEntries, currentUser, onNav }) {
    const myTasks = (tasks || []).filter((t) => t.assigneeIds.includes(currentUser.id) && t.status !== "Completed").sort((a, b) => (a.dueDate || "") < (b.dueDate || "") ? -1 : 1).slice(0, 8);
    const totalProjects = projects.filter((p) => p.status === "Active").length;
    const totalTasks = tasks.length;
    const completedTasks = tasks.filter((t) => t.status === "Completed").length;
    const blockedTasks = tasks.filter((t) => t.status === "Blocked").length;
    const mon = getMonday(today);
    const weekDays = weekDates(mon);
    const weekHrs = Object.entries(timeEntries || {}).filter(([k]) => weekDays.some((d) => k.includes(d))).reduce((sum, [, v]) => sum + (v.hours || 0), 0);
    return /* @__PURE__ */ React.createElement("div", { className: "p-6 space-y-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Good morning, ", (currentUser && currentUser.name ? currentUser.name.split(" ")[0] : "there"), " \u{1F44B}"), /* @__PURE__ */ React.createElement("p", { className: "text-slate-500 text-sm mt-1" }, (/* @__PURE__ */ new Date()).toLocaleDateString("en-US", { weekday: "long", month: "long", day: "numeric", year: "numeric" }))), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-4 gap-4" }, [
      { label: "Active Projects", value: totalProjects, sub: "projects", color: "text-teal-600", bg: "bg-teal-50 docebo-teal-tint" },
      { label: "Total Tasks", value: totalTasks, sub: `${completedTasks} completed`, color: "text-slate-800", bg: "bg-slate-50" },
      { label: "Blocked Tasks", value: blockedTasks, sub: "need attention", color: "text-red-600", bg: "bg-red-50" },
      { label: "Hours This Week", value: weekHrs.toFixed(1) + "h", sub: "logged", color: "text-green-700", bg: "bg-green-50" }
    ].map((s) => /* @__PURE__ */ React.createElement("div", { key: s.label, className: `${s.bg} border border-slate-200 rounded-2xl p-5` }, /* @__PURE__ */ React.createElement("div", { className: `text-3xl font-bold font-mono ${s.color}` }, s.value), /* @__PURE__ */ React.createElement("div", { className: "font-semibold text-slate-700 mt-1" }, s.label), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500 mt-0.5" }, s.sub)))), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-3 gap-6" }, /* @__PURE__ */ React.createElement("div", { className: "col-span-2 bg-white border border-slate-200 rounded-2xl overflow-hidden" }, /* @__PURE__ */ React.createElement("div", { className: "px-5 py-4 border-b border-slate-100 flex items-center justify-between" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-800" }, "My Open Tasks"), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, myTasks.length, " items")), /* @__PURE__ */ React.createElement("div", { className: "divide-y divide-slate-50" }, myTasks.length === 0 ? /* @__PURE__ */ React.createElement("div", { className: "py-10 text-center text-slate-400 text-sm" }, "No open tasks assigned to you") : myTasks.map((t) => {
      const proj = projects.find((p) => p.id === t.projectId);
      const isOverdue = t.dueDate && t.dueDate < todayStr && t.status !== "Completed";
      return /* @__PURE__ */ React.createElement("div", { key: t.id, className: "px-5 py-3 flex items-center gap-3 hover:bg-slate-50" }, /* @__PURE__ */ React.createElement("div", { className: "w-1 h-10 rounded-full flex-shrink-0", style: { background: (proj == null ? void 0 : proj.color) || "#94a3b8" } }), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-medium text-slate-800 truncate" }, t.title), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, proj == null ? void 0 : proj.name, " \xB7 Due ", fmtDate(t.dueDate))), /* @__PURE__ */ React.createElement(StatusBadge, { status: t.status }), isOverdue && /* @__PURE__ */ React.createElement("span", { className: "text-xs text-red-500 font-medium" }, "Overdue"), /* @__PURE__ */ React.createElement(ProgressBar, { pct: t.percentDone, color: proj == null ? void 0 : proj.color }));
    }))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden" }, /* @__PURE__ */ React.createElement("div", { className: "px-5 py-4 border-b border-slate-100" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-800" }, "Active Projects")), /* @__PURE__ */ React.createElement("div", { className: "divide-y divide-slate-50" }, projects.filter((p) => p.status === "Active").map((p) => {
      const ptasks = tasks.filter((t) => t.projectId === p.id);
      const done = ptasks.filter((t) => t.status === "Completed").length;
      const pct = ptasks.length ? Math.round(done / ptasks.length * 100) : 0;
      return /* @__PURE__ */ React.createElement("div", { key: p.id, className: "px-5 py-3 hover:bg-slate-50 cursor-pointer", onClick: () => onNavProject(p.id) }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 mb-2" }, /* @__PURE__ */ React.createElement("div", { className: "w-2.5 h-2.5 rounded-full", style: { background: p.color } }), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-medium text-slate-800 flex-1 truncate" }, p.name)), /* @__PURE__ */ React.createElement(ProgressBar, { pct, color: p.color }), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 mt-1" }, done, "/", ptasks.length, " tasks complete"));
    })))));
  }
  function ProjectsView({ projects, tasks, users, onNew, onEdit, onSelect }) {
    const [search, setSearch] = useState("");
    const [statusF, setStatusF] = useState("All");
    const filtered = projects.filter((p) => {
      const q = search.toLowerCase();
      const matchQ = !q || p.name.toLowerCase().includes(q) || p.clientName.toLowerCase().includes(q);
      const matchS = statusF === "All" || p.status === statusF;
      return matchQ && matchS;
    });
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Projects"), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-1" }, projects.length, " total \xB7 ", projects.filter((p) => p.status === "Active").length, " active")), /* @__PURE__ */ React.createElement(Btn, { onClick: onNew }, "+ New Project")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-3 mb-4" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        value: search,
        onChange: (e) => setSearch(e.target.value),
        placeholder: "Search projects\u2026",
        className: "border border-slate-200 rounded-lg px-3 py-2 text-sm flex-1 focus:outline-none focus:ring-2 focus:ring-teal-400"
      }
    ), /* @__PURE__ */ React.createElement(Select, { value: statusF, onChange: setStatusF, options: ["All", ...PROJECT_STATUSES] })), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-1 gap-4" }, filtered.map((p) => {
      var _a, _b;
      const ptasks = tasks.filter((t) => t.projectId === p.id);
      const done = ptasks.filter((t) => t.status === "Completed").length;
      const blocked = ptasks.filter((t) => t.status === "Blocked").length;
      const pct = ptasks.length ? Math.round(done / ptasks.length * 100) : 0;
      const pm = users.find((u) => u.id === p.pmId);
      const teamMembers = users.filter((u) => (p.resourceIds || []).includes(u.id));
      const daysLeft = p.endDate ? daysBetween(todayStr, p.endDate) : null;
      return /* @__PURE__ */ React.createElement("div", { key: p.id, className: "bg-white border border-slate-200 rounded-2xl hover:shadow-md transition-shadow overflow-hidden" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-stretch" }, /* @__PURE__ */ React.createElement("div", { className: "w-1.5 flex-shrink-0", style: { background: p.color } }), /* @__PURE__ */ React.createElement("div", { className: "flex-1 p-5" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-start justify-between mb-3" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("h3", { className: "font-bold text-slate-900 text-lg cursor-pointer hover:text-teal-600", onClick: () => onSelect(p.id) }, p.name), /* @__PURE__ */ React.createElement("span", { className: `px-2 py-0.5 rounded-full text-xs font-medium ${p.status === "Active" ? "bg-green-100 text-green-700" : p.status === "On Hold" ? "bg-amber-100 text-amber-700" : "bg-slate-100 text-slate-600"}` }, p.status)), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-0.5" }, p.clientName, " \xB7 ", (_a = p.description) == null ? void 0 : _a.slice(0, 80), ((_b = p.description) == null ? void 0 : _b.length) > 80 ? "\u2026" : "")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 flex-shrink-0" }, /* @__PURE__ */ React.createElement(Btn, { variant: "ghost", size: "xs", onClick: () => onEdit(p) }, "Edit"), /* @__PURE__ */ React.createElement(Btn, { variant: "secondary", size: "xs", onClick: () => onSelect(p.id) }, "Open \u2192"))), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-6 mb-3" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500" }, /* @__PURE__ */ React.createElement("span", { className: "font-semibold text-slate-700" }, fmtDate(p.startDate)), " \u2192 ", /* @__PURE__ */ React.createElement("span", { className: "font-semibold text-slate-700" }, fmtDate(p.endDate))), daysLeft !== null && /* @__PURE__ */ React.createElement("span", { className: `text-xs font-medium ${daysLeft < 0 ? "text-red-500" : daysLeft < 14 ? "text-amber-600" : "text-slate-500"}` }, daysLeft < 0 ? `${Math.abs(daysLeft)}d overdue` : `${daysLeft}d remaining`), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500" }, ptasks.length, " tasks \xB7 ", blocked > 0 ? /* @__PURE__ */ React.createElement("span", { className: "text-red-500" }, blocked, " blocked") : "0 blocked")), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-4" }, /* @__PURE__ */ React.createElement("div", { className: "flex-1" }, /* @__PURE__ */ React.createElement(ProgressBar, { pct, color: p.color })), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1" }, pm && /* @__PURE__ */ React.createElement(Avatar, { user: pm, size: 7 }), teamMembers.slice(0, 4).map((u) => /* @__PURE__ */ React.createElement(Avatar, { key: u.id, user: u, size: 6 })), teamMembers.length > 4 && /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400 ml-1" }, "+", teamMembers.length - 4))))));
    }), filtered.length === 0 && /* @__PURE__ */ React.createElement("div", { className: "text-center py-20 text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-5xl mb-3" }, "\u25EB"), /* @__PURE__ */ React.createElement("div", null, "No projects found"))));
  }
  function GanttView({ project, tasks, users, onEditTask, setTasks }) {
    const ROW_H = 44;
    const LABEL_W = 300;
    const MIN_DAYS = 30;
    const sorted = useMemo(() => {
      return [...tasks].sort((a, b) => {
        var _a, _b;
        return ((_a = a.sortOrder) != null ? _a : 9999) - ((_b = b.sortOrder) != null ? _b : 9999);
      });
    }, [tasks]);
    const allDates = sorted.flatMap((t) => [t.startDate, t.dueDate]).filter(Boolean);
    const dataMin = allDates.length ? allDates.reduce((a, b) => a < b ? a : b) : project.startDate || todayStr;
    const dataMax = allDates.length ? allDates.reduce((a, b) => a > b ? a : b) : project.endDate || addDays(todayStr, 30);
    const rangeStart = addDays(dataMin, -7);
    const rangeEnd = addDays(dataMax, 7);
    const totalDays = Math.max(MIN_DAYS, daysBetween(rangeStart, rangeEnd));
    const todayPct = Math.max(-1, Math.min(101, daysBetween(rangeStart, todayStr) / totalDays * 100));
    const [barDrag, setBarDrag] = useState(null);
    const [hovered, setHovered] = useState(null);
    const chartRef = useRef(null);
    const [editId, setEditId] = useState(null);
    const [editForm, setEditForm] = useState({});
    const openInlineEdit = (t) => {
      setEditId(t.id);
      setEditForm({
        title: t.title,
        status: t.status,
        startDate: t.startDate || "",
        dueDate: t.dueDate || "",
        percentDone: t.percentDone || 0,
        estimatedHours: t.estimatedHours || 0
      });
    };
    const closeInlineEdit = () => setEditId(null);
    const saveInlineEdit = () => {
      setTasks((prev) => prev.map((t) => t.id === editId ? __spreadProps(__spreadValues(__spreadValues({}, t), editForm), { percentDone: Number(editForm.percentDone), estimatedHours: Number(editForm.estimatedHours) }) : t));
      setEditId(null);
    };
    const moveTask = (taskId, dir) => {
      setTasks((prev) => {
        const projTasks = [...prev].filter((t) => t.projectId === project.id).sort((a, b) => {
          var _a, _b;
          return ((_a = a.sortOrder) != null ? _a : 9999) - ((_b = b.sortOrder) != null ? _b : 9999);
        });
        const idx = projTasks.findIndex((t) => t.id === taskId);
        const swap = idx + dir;
        if (swap < 0 || swap >= projTasks.length) return prev;
        const reordered = projTasks.map((t, i) => __spreadProps(__spreadValues({}, t), { sortOrder: i }));
        const tmp = reordered[idx].sortOrder;
        reordered[idx].sortOrder = reordered[swap].sortOrder;
        reordered[swap].sortOrder = tmp;
        const idMap = Object.fromEntries(reordered.map((t) => [t.id, t]));
        return prev.map((t) => idMap[t.id] || t);
      });
    };
    const onMouseMove = useCallback((e) => {
      if (!barDrag || !chartRef.current) return;
      const chartW = chartRef.current.clientWidth;
      const dx = e.clientX - chartRef.current.getBoundingClientRect().left - barDrag.startX;
      const daysMoved = Math.round(dx / chartW * totalDays);
      setTasks((prev) => prev.map((t) => {
        if (t.id !== barDrag.taskId) return t;
        if (barDrag.type === "move") {
          const ns = addDays(barDrag.origStart, daysMoved);
          return __spreadProps(__spreadValues({}, t), { startDate: ns, dueDate: addDays(ns, barDrag.dur) });
        }
        if (barDrag.type === "resize") {
          const nd = addDays(barDrag.origDue, daysMoved);
          return daysBetween(t.startDate, nd) < 1 ? t : __spreadProps(__spreadValues({}, t), { dueDate: nd });
        }
        return t;
      }));
    }, [barDrag, totalDays, setTasks]);
    const onMouseUp = useCallback(() => {
      setBarDrag(null);
      document.body.style.cursor = "";
      document.body.style.userSelect = "";
    }, []);
    useEffect(() => {
      if (!barDrag) return;
      document.body.style.cursor = barDrag.type === "resize" ? "ew-resize" : "grabbing";
      document.body.style.userSelect = "none";
      window.addEventListener("mousemove", onMouseMove);
      window.addEventListener("mouseup", onMouseUp);
      return () => {
        window.removeEventListener("mousemove", onMouseMove);
        window.removeEventListener("mouseup", onMouseUp);
      };
    }, [barDrag, onMouseMove, onMouseUp]);
    const startBarDrag = (e, taskId, type) => {
      e.preventDefault();
      e.stopPropagation();
      const t = tasks.find((x) => x.id === taskId);
      if (!t) return;
      setBarDrag({
        taskId,
        type,
        startX: e.clientX - chartRef.current.getBoundingClientRect().left,
        origStart: t.startDate,
        origDue: t.dueDate,
        dur: daysBetween(t.startDate, t.dueDate)
      });
    };
    const months = [];
    let mc = /* @__PURE__ */ new Date(rangeStart + "T00:00:00");
    mc.setDate(1);
    while (mc <= /* @__PURE__ */ new Date(rangeEnd + "T00:00:00")) {
      const ds = mc.toISOString().slice(0, 10);
      const pct = daysBetween(rangeStart, ds) / totalDays * 100;
      if (pct >= -1 && pct <= 106) months.push({ label: mc.toLocaleDateString("en-US", { month: "short", year: "2-digit" }), pct });
      mc.setMonth(mc.getMonth() + 1);
      mc.setDate(1);
    }
    const STATUSES = ["Not Started", "In Progress", "Completed", "Blocked", "On Hold"];
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-4" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-800 text-lg" }, "Gantt Chart"), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 flex items-center gap-4" }, /* @__PURE__ */ React.createElement("span", { className: "flex items-center gap-1" }, /* @__PURE__ */ React.createElement("span", { className: "w-3 h-1.5 bg-red-400 rounded inline-block" }), "Today"), /* @__PURE__ */ React.createElement("span", null, "\u2194 Drag bar \xB7 \u21E2 Drag edge to resize \xB7 \u270E Inline edit \xB7 \u2195 Reorder rows"))), sorted.length === 0 ? /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl py-16 text-center text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-3xl mb-2" }, "\u25EB"), /* @__PURE__ */ React.createElement("div", { className: "font-medium" }, "No tasks yet")) : /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex border-b border-slate-200 bg-slate-900 text-white" }, /* @__PURE__ */ React.createElement(
      "div",
      {
        className: "flex-shrink-0 px-3 py-2.5 text-xs font-semibold uppercase tracking-wide flex items-center gap-1 border-r border-slate-700",
        style: { width: LABEL_W }
      },
      /* @__PURE__ */ React.createElement("span", { className: "w-8 flex-shrink-0" }),
      "Task"
    ), /* @__PURE__ */ React.createElement("div", { className: "flex-1 relative h-9 overflow-hidden", ref: chartRef }, months.map((m, i) => /* @__PURE__ */ React.createElement("div", { key: i, className: "absolute top-0 h-full border-l border-slate-700 flex items-center px-1.5", style: { left: `${m.pct}%` } }, /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400 whitespace-nowrap" }, m.label))), todayPct >= 0 && todayPct <= 100 && /* @__PURE__ */ React.createElement("div", { className: "absolute top-0 bottom-0 w-0.5 bg-red-400", style: { left: `${todayPct}%` } }))), /* @__PURE__ */ React.createElement("div", null, sorted.map((t, i) => {
      const cfg = STATUS_CFG[t.status] || STATUS_CFG["Not Started"];
      const isChild = !!t.parentId;
      const hasDates = t.startDate && t.dueDate;
      const isLate = hasDates && t.dueDate < todayStr && t.status !== "Completed";
      const isBardrag = (barDrag == null ? void 0 : barDrag.taskId) === t.id;
      const isEditing = editId === t.id;
      return /* @__PURE__ */ React.createElement(React.Fragment, { key: t.id }, /* @__PURE__ */ React.createElement(
        "div",
        {
          className: `flex border-b border-slate-100 ${i % 2 === 0 ? "bg-white" : "bg-slate-50/40"} ${isBardrag ? "ring-1 ring-inset ring-teal-400 bg-teal-50 docebo-teal-tint/20" : ""} ${isEditing ? "bg-amber-50/30" : ""}`,
          style: { minHeight: ROW_H }
        },
        /* @__PURE__ */ React.createElement(
          "div",
          {
            className: `flex-shrink-0 flex items-center gap-1.5 border-r border-slate-100 px-2 group ${isChild ? "pl-6" : ""}`,
            style: { width: LABEL_W }
          },
          /* @__PURE__ */ React.createElement("div", { className: "flex flex-col gap-0 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity" }, /* @__PURE__ */ React.createElement(
            "button",
            {
              onClick: () => moveTask(t.id, -1),
              disabled: i === 0,
              className: "text-slate-300 hover:text-teal-500 disabled:opacity-20 leading-none text-xs px-0.5 py-0.5",
              title: "Move up"
            },
            "\u25B2"
          ), /* @__PURE__ */ React.createElement(
            "button",
            {
              onClick: () => moveTask(t.id, 1),
              disabled: i === sorted.length - 1,
              className: "text-slate-300 hover:text-teal-500 disabled:opacity-20 leading-none text-xs px-0.5 py-0.5",
              title: "Move down"
            },
            "\u25BC"
          )),
          /* @__PURE__ */ React.createElement(TypeBadge, { type: t.type }),
          /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-700 truncate font-medium flex-1 min-w-0", title: t.title }, t.title),
          onEditTask && !isEditing && /* @__PURE__ */ React.createElement(
            "button",
            {
              onClick: () => openInlineEdit(t),
              className: "opacity-0 group-hover:opacity-100 flex-shrink-0 text-slate-300 hover:text-teal-500 transition-all px-1",
              style: { fontSize: "12px" },
              title: "Quick edit"
            },
            "\u270E"
          ),
          isEditing && /* @__PURE__ */ React.createElement(
            "button",
            {
              onClick: closeInlineEdit,
              className: "flex-shrink-0 text-slate-300 hover:text-red-400 transition-all px-1",
              style: { fontSize: "12px" },
              title: "Cancel"
            },
            "\u2715"
          )
        ),
        /* @__PURE__ */ React.createElement(
          GanttBarCell,
          {
            task: t,
            rangeStart,
            totalDays,
            cfg,
            isDragging: isBardrag,
            isHovered: hovered === t.id,
            todayPct,
            months,
            onStartDrag: startBarDrag,
            onEditTask: () => openInlineEdit(t),
            setHovered
          }
        )
      ), isEditing && /* @__PURE__ */ React.createElement("div", { className: "border-b-2 border-amber-300 bg-amber-50 px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-bold text-amber-800 mb-2 flex items-center gap-2" }, "\u270E Edit Task", onEditTask && /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => {
            closeInlineEdit();
            onEditTask(t);
          },
          className: "text-teal-600 hover:text-teal-800 font-normal underline"
        },
        "Open full editor"
      )), /* @__PURE__ */ React.createElement("div", { className: "grid gap-2", style: { gridTemplateColumns: "1fr 140px 120px 120px 80px 80px" } }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "text-xs text-slate-500 block mb-0.5" }, "Title"), /* @__PURE__ */ React.createElement(
        "input",
        {
          value: editForm.title || "",
          onChange: (e) => setEditForm((f) => __spreadProps(__spreadValues({}, f), { title: e.target.value })),
          className: "w-full border border-slate-200 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400"
        }
      )), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "text-xs text-slate-500 block mb-0.5" }, "Status"), /* @__PURE__ */ React.createElement(
        "select",
        {
          value: editForm.status || "",
          onChange: (e) => setEditForm((f) => __spreadProps(__spreadValues({}, f), { status: e.target.value })),
          className: "w-full border border-slate-200 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white"
        },
        STATUSES.map((s) => /* @__PURE__ */ React.createElement("option", { key: s, value: s }, s))
      )), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "text-xs text-slate-500 block mb-0.5" }, "Start Date"), /* @__PURE__ */ React.createElement(
        "input",
        {
          type: "date",
          value: editForm.startDate || "",
          onChange: (e) => setEditForm((f) => __spreadProps(__spreadValues({}, f), { startDate: e.target.value })),
          className: "w-full border border-slate-200 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400"
        }
      )), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "text-xs text-slate-500 block mb-0.5" }, "Due Date"), /* @__PURE__ */ React.createElement(
        "input",
        {
          type: "date",
          value: editForm.dueDate || "",
          onChange: (e) => setEditForm((f) => __spreadProps(__spreadValues({}, f), { dueDate: e.target.value })),
          className: "w-full border border-slate-200 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400"
        }
      )), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "text-xs text-slate-500 block mb-0.5" }, "% Done"), /* @__PURE__ */ React.createElement(
        "input",
        {
          type: "number",
          min: "0",
          max: "100",
          value: editForm.percentDone || 0,
          onChange: (e) => setEditForm((f) => __spreadProps(__spreadValues({}, f), { percentDone: e.target.value })),
          className: "w-full border border-slate-200 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400"
        }
      )), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "text-xs text-slate-500 block mb-0.5" }, "Est. Hrs"), /* @__PURE__ */ React.createElement(
        "input",
        {
          type: "number",
          min: "0",
          value: editForm.estimatedHours || 0,
          onChange: (e) => setEditForm((f) => __spreadProps(__spreadValues({}, f), { estimatedHours: e.target.value })),
          className: "w-full border border-slate-200 rounded-lg px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400"
        }
      ))), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 mt-2" }, /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: saveInlineEdit,
          className: "px-3 py-1.5 bg-amber-500 hover:bg-amber-600 text-white text-xs font-semibold rounded-lg transition-all"
        },
        "\u2713 Save"
      ), /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: closeInlineEdit,
          className: "px-3 py-1.5 bg-white border border-slate-200 text-slate-600 text-xs font-semibold rounded-lg hover:bg-slate-50 transition-all"
        },
        "Cancel"
      ))));
    })), /* @__PURE__ */ React.createElement("div", { className: "px-4 py-3 bg-slate-50 border-t border-slate-200 flex items-center gap-5 flex-wrap text-xs text-slate-400" }, Object.entries(STATUS_CFG).map(([s, c]) => /* @__PURE__ */ React.createElement("span", { key: s, className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement("span", { className: "w-3 h-3 rounded-sm inline-block", style: { background: c.bar } }), s)))));
  }
  function GanttBarCell({ task: t, rangeStart, totalDays, cfg, isDragging, isHovered, todayPct, months, onStartDrag, onEditTask, setHovered }) {
    const cellRef = useRef(null);
    const [cellW, setCellW] = useState(0);
    useEffect(() => {
      if (!cellRef.current) return;
      const ro = new ResizeObserver((e) => setCellW(e[0].contentRect.width));
      ro.observe(cellRef.current);
      return () => ro.disconnect();
    }, []);
    const hasDates = t.startDate && t.dueDate;
    const dur = hasDates ? Math.max(1, daysBetween(t.startDate, t.dueDate)) : 0;
    const barLeft = hasDates && cellW > 0 ? daysBetween(rangeStart, t.startDate) / totalDays * cellW : null;
    const barW = hasDates && cellW > 0 ? Math.max(8, dur / totalDays * cellW) : 0;
    const isLate = hasDates && t.dueDate < todayStr && t.status !== "Completed";
    return /* @__PURE__ */ React.createElement("div", { ref: cellRef, className: "flex-1 relative overflow-hidden select-none", style: { minWidth: 0, height: 44 } }, months.map((m, i) => /* @__PURE__ */ React.createElement("div", { key: i, className: "absolute top-0 bottom-0 w-px bg-slate-100", style: { left: `${m.pct}%` } })), todayPct >= 0 && todayPct <= 100 && /* @__PURE__ */ React.createElement("div", { className: "absolute top-0 bottom-0 w-0.5 bg-red-300 z-10 pointer-events-none", style: { left: `${todayPct}%` } }), barLeft !== null && /* @__PURE__ */ React.createElement(
      "div",
      {
        className: `absolute top-2 flex items-center rounded-md z-20 ${isDragging ? "shadow-lg ring-2 ring-teal-500 opacity-90" : isHovered ? "shadow-md" : ""}`,
        style: {
          left: barLeft,
          width: barW,
          height: 28,
          background: isLate ? "#fee2e2" : cfg.bar + "22",
          border: `1.5px solid ${isLate ? "#ef4444" : cfg.bar}`,
          cursor: isDragging ? "grabbing" : "grab"
        },
        onMouseEnter: () => setHovered(t.id),
        onMouseLeave: () => setHovered(null),
        onMouseDown: (e) => onStartDrag(e, t.id, "move"),
        onDoubleClick: (e) => {
          e.stopPropagation();
          onEditTask && onEditTask(t);
        },
        title: `${t.title}
${t.startDate} \u2192 ${t.dueDate} (${dur}d)
Double-click to inline edit`
      },
      /* @__PURE__ */ React.createElement("div", { className: "absolute inset-0 rounded-md overflow-hidden pointer-events-none" }, /* @__PURE__ */ React.createElement("div", { className: "h-full rounded-md", style: { width: `${t.percentDone || 0}%`, background: isLate ? "#ef4444" : cfg.bar, opacity: 0.55 } })),
      barW > 40 && /* @__PURE__ */ React.createElement("span", { className: "relative z-10 px-1.5 text-slate-800 truncate pointer-events-none", style: { fontSize: "10px", fontWeight: 600, maxWidth: barW - 20 } }, t.percentDone > 0 ? `${t.percentDone}%` : ""),
      /* @__PURE__ */ React.createElement(
        "div",
        {
          className: "absolute right-0 top-0 bottom-0 w-3 flex items-center justify-center z-30",
          style: { cursor: "ew-resize", borderRadius: "0 4px 4px 0" },
          onMouseDown: (e) => {
            e.stopPropagation();
            onStartDrag(e, t.id, "resize");
          }
        },
        /* @__PURE__ */ React.createElement("div", { className: "w-0.5 h-4 rounded-full bg-current opacity-25" })
      )
    ), !hasDates && /* @__PURE__ */ React.createElement("div", { className: "absolute inset-y-0 left-2 flex items-center" }, /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-300 italic" }, "no dates")));
  }
  function TaskTableView({ project, tasks, users, onNewTask, onEditTask }) {
    const [search, setSearch] = useState("");
    const [statusF, setStatusF] = useState("All");
    const [typeF, setTypeF] = useState("All");
    const [sortKey, setSortKey] = useState("startDate");
    const [sortDir, setSortDir] = useState("asc");
    const filtered = tasks.filter((t) => {
      const q = search.toLowerCase();
      const matchQ = !q || t.title.toLowerCase().includes(q);
      const matchS = statusF === "All" || t.status === statusF;
      const matchT = typeF === "All" || t.type === typeF;
      return matchQ && matchS && matchT;
    }).sort((a, b) => {
      let av = a[sortKey] || "", bv = b[sortKey] || "";
      if (sortKey === "percentDone" || sortKey === "estimatedHours") {
        av = +av;
        bv = +bv;
      }
      return sortDir === "asc" ? av < bv ? -1 : 1 : av < bv ? 1 : -1;
    });
    const topLevel = filtered.filter((t) => !t.parentId);
    const children = filtered.filter((t) => !!t.parentId);
    const SortTh = ({ label, k }) => /* @__PURE__ */ React.createElement(
      "th",
      {
        onClick: () => {
          setSortKey(k);
          setSortDir((d) => k === sortKey ? d === "asc" ? "desc" : "asc" : "asc");
        },
        className: "text-left px-3 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wide cursor-pointer hover:text-slate-800 whitespace-nowrap select-none"
      },
      label,
      " ",
      sortKey === k ? sortDir === "asc" ? "\u2191" : "\u2193" : ""
    );
    const TaskRow = ({ t, indent = 0 }) => {
      const isChild = indent > 0;
      const childTasks = children.filter((c) => c.parentId === t.id);
      const assignees = users.filter((u) => t.assigneeIds.includes(u.id));
      const isOverdue = t.dueDate && t.dueDate < todayStr && t.status !== "Completed";
      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("tr", { className: "hover:bg-teal-50 docebo-teal-tint/30 border-b border-slate-50 cursor-pointer", onClick: () => onEditTask(t) }, /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5", style: { paddingLeft: `${12 + indent * 20}px` } }, /* @__PURE__ */ React.createElement("span", { className: "font-medium text-slate-800 text-sm" }, t.title), t.notes && /* @__PURE__ */ React.createElement("span", { className: "ml-2 text-slate-400 text-xs" }, "\u{1F4DD}")), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5" }, /* @__PURE__ */ React.createElement(TypeBadge, { type: t.type })), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5" }, /* @__PURE__ */ React.createElement(StatusBadge, { status: t.status })), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5" }, /* @__PURE__ */ React.createElement(PriorityBadge, { priority: t.priority })), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1" }, assignees.slice(0, 3).map((u) => /* @__PURE__ */ React.createElement(Avatar, { key: u.id, user: u, size: 6 })), assignees.length > 3 && /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, "+", assignees.length - 3))), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5 text-xs text-slate-500 whitespace-nowrap" }, fmtDate(t.startDate)), /* @__PURE__ */ React.createElement("td", { className: `px-3 py-2.5 text-xs whitespace-nowrap font-medium ${isOverdue ? "text-red-500" : "text-slate-500"}` }, fmtDate(t.dueDate)), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5 min-w-28" }, /* @__PURE__ */ React.createElement(ProgressBar, { pct: t.percentDone, color: project == null ? void 0 : project.color })), /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5 text-xs font-mono text-slate-500" }, t.estimatedHours, "h")), childTasks.map((c) => /* @__PURE__ */ React.createElement(TaskRow, { key: c.id, t: c, indent: indent + 1 })));
    };
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-4" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-800" }, "Tasks"), /* @__PURE__ */ React.createElement(Btn, { onClick: () => onNewTask(project == null ? void 0 : project.id) }, "+ Add Task")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-3 mb-4" }, /* @__PURE__ */ React.createElement(
      "input",
      {
        value: search,
        onChange: (e) => setSearch(e.target.value),
        placeholder: "Search tasks\u2026",
        className: "border border-slate-200 rounded-lg px-3 py-2 text-sm flex-1 focus:outline-none focus:ring-2 focus:ring-teal-400"
      }
    ), /* @__PURE__ */ React.createElement(Select, { value: statusF, onChange: setStatusF, options: ["All", ...STATUS_OPTIONS] }), /* @__PURE__ */ React.createElement(Select, { value: typeF, onChange: setTypeF, options: ["All", ...TYPE_OPTIONS] })), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden" }, /* @__PURE__ */ React.createElement("div", { className: "overflow-x-auto" }, /* @__PURE__ */ React.createElement("table", { className: "w-full text-sm" }, /* @__PURE__ */ React.createElement("thead", { className: "bg-slate-50 border-b border-slate-200" }, /* @__PURE__ */ React.createElement("tr", null, /* @__PURE__ */ React.createElement(SortTh, { label: "Title", k: "title" }), /* @__PURE__ */ React.createElement(SortTh, { label: "Type", k: "type" }), /* @__PURE__ */ React.createElement(SortTh, { label: "Status", k: "status" }), /* @__PURE__ */ React.createElement(SortTh, { label: "Priority", k: "priority" }), /* @__PURE__ */ React.createElement("th", { className: "text-left px-3 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wide" }, "Assignees"), /* @__PURE__ */ React.createElement(SortTh, { label: "Start", k: "startDate" }), /* @__PURE__ */ React.createElement(SortTh, { label: "Due", k: "dueDate" }), /* @__PURE__ */ React.createElement(SortTh, { label: "Progress", k: "percentDone" }), /* @__PURE__ */ React.createElement(SortTh, { label: "Est. Hrs", k: "estimatedHours" }))), /* @__PURE__ */ React.createElement("tbody", { className: "divide-y divide-slate-50" }, topLevel.map((t) => /* @__PURE__ */ React.createElement(TaskRow, { key: t.id, t })), children.filter((c) => !tasks.find((t) => t.id === c.parentId)).map((t) => /* @__PURE__ */ React.createElement(TaskRow, { key: t.id, t })))), filtered.length === 0 && /* @__PURE__ */ React.createElement("div", { className: "py-12 text-center text-slate-400" }, "No tasks match your filters")), /* @__PURE__ */ React.createElement("div", { className: "px-4 py-2 border-t border-slate-100 flex gap-6 text-xs text-slate-500" }, /* @__PURE__ */ React.createElement("span", null, tasks.length, " total"), /* @__PURE__ */ React.createElement("span", null, tasks.filter((t) => t.status === "Completed").length, " completed"), /* @__PURE__ */ React.createElement("span", null, tasks.filter((t) => t.status === "In Progress").length, " in progress"), /* @__PURE__ */ React.createElement("span", null, tasks.filter((t) => t.status === "Blocked").length, " blocked"), /* @__PURE__ */ React.createElement("span", { className: "ml-auto font-mono" }, tasks.reduce((s, t) => s + (t.estimatedHours || 0), 0), "h estimated total"))));
  }
  function ProjectDetailView({ project, tasks, setTasks, users, allProjects, onBack, onEditProject, onNewTask, onEditTask }) {
    const [subView, setSubView] = useState("tasks");
    const projectTasks = tasks.filter((t) => t.projectId === project.id);
    const pm = users.find((u) => u.id === project.pmId);
    const team = users.filter((u) => (project.resourceIds || []).includes(u.id));
    const done = projectTasks.filter((t) => t.status === "Completed").length;
    const pct = projectTasks.length ? Math.round(done / projectTasks.length * 100) : 0;
    return /* @__PURE__ */ React.createElement("div", { className: "flex flex-col h-full" }, /* @__PURE__ */ React.createElement("div", { className: "border-b border-slate-200 bg-white px-6 py-4" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3 mb-3" }, /* @__PURE__ */ React.createElement("button", { onClick: onBack, className: "text-slate-400 hover:text-slate-600 text-sm" }, "\u2190 Back"), /* @__PURE__ */ React.createElement("div", { className: "w-px h-4 bg-slate-200" }), /* @__PURE__ */ React.createElement("div", { className: "w-3 h-3 rounded-full", style: { background: project.color } }), /* @__PURE__ */ React.createElement("h1", { className: "font-bold text-slate-900 text-xl" }, project.name), /* @__PURE__ */ React.createElement("span", { className: `px-2 py-0.5 rounded-full text-xs font-medium ${project.status === "Active" ? "bg-green-100 text-green-700" : "bg-slate-100 text-slate-600"}` }, project.status), /* @__PURE__ */ React.createElement("div", { className: "ml-auto flex gap-2" }, /* @__PURE__ */ React.createElement(Btn, { variant: "secondary", size: "sm", onClick: () => onEditProject(project) }, "Edit Project"), /* @__PURE__ */ React.createElement(Btn, { size: "sm", onClick: () => onNewTask(project.id) }, "+ Add Task"))), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-6 text-sm text-slate-500" }, /* @__PURE__ */ React.createElement("span", null, fmtDate(project.startDate), " \u2192 ", fmtDate(project.endDate)), pm && /* @__PURE__ */ React.createElement("span", { className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement(Avatar, { user: pm, size: 5 }), " ", pm.name), /* @__PURE__ */ React.createElement("span", null, projectTasks.length, " tasks \xB7 ", done, " done"), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 flex-1 max-w-48" }, /* @__PURE__ */ React.createElement(ProgressBar, { pct, color: project.color }))), /* @__PURE__ */ React.createElement("div", { className: "flex gap-1 mt-4" }, [["tasks", "Tasks"], ["gantt", "Gantt"], ["team", "Team"]].map(([v, l]) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: v,
        onClick: () => setSubView(v),
        className: `px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${subView === v ? "bg-teal-600 docebo-teal-bg text-white" : "text-slate-600 hover:bg-slate-100"}`
      },
      l
    )))), /* @__PURE__ */ React.createElement("div", { className: "flex-1 overflow-y-auto bg-slate-50" }, subView === "tasks" && /* @__PURE__ */ React.createElement(
      TaskTableView,
      {
        project,
        tasks: projectTasks,
        users,
        onNewTask,
        onEditTask
      }
    ), subView === "gantt" && /* @__PURE__ */ React.createElement(GanttView, { project, tasks: projectTasks, users, onEditTask, setTasks }), subView === "team" && /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-800 mb-4" }, "Team Members"), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 xl:grid-cols-3 gap-4" }, team.map((u) => {
      const myTasks = projectTasks.filter((t) => t.assigneeIds.includes(u.id));
      const myDone = myTasks.filter((t) => t.status === "Completed").length;
      const ispm = project.pmId === u.id;
      return /* @__PURE__ */ React.createElement("div", { key: u.id, className: "bg-white border border-slate-200 rounded-2xl p-5 flex gap-4" }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 12 }), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("span", { className: "font-bold text-slate-800" }, u.name), ispm && /* @__PURE__ */ React.createElement("span", { className: "px-1.5 py-0.5 bg-teal-100 text-teal-700 text-xs rounded font-medium" }, "PM")), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500 mt-0.5" }, u.role), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 mt-0.5" }, u.org, " \xB7 ", u.tz), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500 mt-2" }, myTasks.length, " tasks \xB7 ", myDone, " done"), u.email && /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 truncate mt-0.5" }, u.email)));
    }), team.length === 0 && /* @__PURE__ */ React.createElement("div", { className: "text-slate-400 text-sm" }, "No team members assigned")))));
  }
  function TimeCell({ rowId, date, weekKey, currentUser, timeEntries, setTimeEntries, holidays, isSubmitted, isApproved }) {
    const key = `${weekKey}-${rowId}-${date}`;
    const entry = timeEntries[key] || { hours: 0 };
    const isHoliday = (holidays || []).some((h) => h.date === date && h.countries.includes(currentUser.country || "US"));
    const isWeekend = (/* @__PURE__ */ new Date(date + "T12:00:00")).getDay() % 6 === 0;
    const isTodayCell = date === today;
    const locked = isSubmitted || isApproved || isWeekend || isHoliday;
    const [val, setVal] = useState("");
    const [focused, setFocused] = useState(false);
    useEffect(() => {
      if (!focused) setVal(entry.hours > 0 ? String(entry.hours) : "");
    }, [entry.hours, focused]);
    const commit = () => {
      setFocused(false);
      const h = roundQ(parseFloat(val) || 0);
      setVal(h > 0 ? String(h) : "");
      if (!locked) {
        setTimeEntries((prev) => __spreadProps(__spreadValues({}, prev), { [key]: { hours: Math.max(0, Math.min(24, h)) } }));
      }
    };
    const bg = isWeekend ? "bg-slate-100" : isHoliday ? "bg-rose-50" : isTodayCell ? "bg-teal-50 docebo-teal-tint/40" : "";
    const textColor = entry.hours >= 8 ? "text-amber-700 font-bold" : entry.hours > 0 ? "text-teal-700 font-semibold" : "text-slate-300";
    return /* @__PURE__ */ React.createElement("td", { className: `border-l border-slate-100 p-0 ${bg}`, style: { minWidth: "60px" } }, locked ? /* @__PURE__ */ React.createElement(
      "div",
      {
        title: isWeekend ? "Weekends closed" : isHoliday ? "Public holiday" : "",
        className: `w-full text-center text-sm font-mono py-2 px-1 select-none cursor-default ${isWeekend ? "text-slate-300" : isHoliday ? "text-rose-300" : textColor}`
      },
      isWeekend ? "\u2014" : isHoliday ? "\u{1F3D6}" : entry.hours > 0 ? entry.hours : "\u2014"
    ) : /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "number",
        min: "0",
        max: "24",
        step: "0.25",
        value: focused ? val : entry.hours > 0 ? entry.hours : "",
        placeholder: "\u2014",
        onChange: (e) => setVal(e.target.value),
        onFocus: () => {
          setFocused(true);
          setVal(entry.hours > 0 ? String(entry.hours) : "");
        },
        onBlur: commit,
        onKeyDown: (e) => e.key === "Enter" && e.target.blur(),
        className: `w-full text-center text-sm font-mono py-2 px-1 focus:outline-none focus:bg-teal-100 focus:ring-1 focus:ring-inset focus:ring-teal-400 transition-colors bg-transparent ${textColor}`
      }
    ));
  }
  function TimeEntryView({ projects, tasks, currentUser, timeEntries, setTimeEntries, weeklyRows, setWeeklyRows, submittedWeeks, setSubmittedWeeks, approvedWeeks, holidays }) {
    const mon = getMonday(today);
    const [weekStart, setWeekStart] = useState(mon);
    const days = weekDates(weekStart);
    const dayLabels = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
    const weekKey = `${currentUser.id}-${days[0]}`;
    const isSubmitted = !!(submittedWeeks || {})[weekKey];
    const isApproved = !!(approvedWeeks || {})[weekKey];
    const rows = (weeklyRows || {})[weekKey] || [];
    const setRows = (updater) => {
      setWeeklyRows((prev) => {
        const cur = (prev || {})[weekKey] || [];
        const next = typeof updater === "function" ? updater(cur) : updater;
        return __spreadProps(__spreadValues({}, prev || {}), { [weekKey]: next });
      });
    };
    const addRow = () => setRows((r) => [...r, {
      id: "r_" + Math.random().toString(36).slice(2, 9),
      projectId: "",
      taskId: ""
    }]);
    const removeRow = (id) => setRows((r) => r.filter((row) => row.id !== id));
    const updateRow = (id, field, val) => setRows((r) => r.map((row) => {
      if (row.id !== id) return row;
      if (field === "projectId") return __spreadProps(__spreadValues({}, row), { projectId: val, taskId: "" });
      return __spreadProps(__spreadValues({}, row), { [field]: val });
    }));
    const myProjects = useMemo(() => {
      if (!projects) return [];
      if (currentUser.isSuperAdmin) return projects.filter((p) => p.status !== "Archived");
      return projects.filter(
        (p) => p.status !== "Archived" && ((p.resourceIds || []).includes(currentUser.id) || p.pmId === currentUser.id)
      );
    }, [projects, currentUser]);
    const tasksForProject = (pid) => {
      if (!pid || !tasks) return [];
      return tasks.filter((t) => t.projectId === pid && t.status !== "Completed");
    };
    const getHours = (rowId, date) => {
      var _a;
      const k = `${weekKey}-${rowId}-${date}`;
      return ((_a = (timeEntries || {})[k]) == null ? void 0 : _a.hours) || 0;
    };
    const dayTotals = days.map((d) => rows.reduce((s, row) => s + getHours(row.id, d), 0));
    const weekTotal = dayTotals.reduce((s, h) => s + h, 0);
    const prevWeek = () => {
      const d = new Date(weekStart);
      d.setDate(d.getDate() - 7);
      setWeekStart(d);
    };
    const nextWeek = () => {
      const d = new Date(weekStart);
      d.setDate(d.getDate() + 7);
      setWeekStart(d);
    };
    const goToday = () => setWeekStart(getMonday(today));
    const handleSubmit = () => {
      if (!rows.length) return;
      setSubmittedWeeks((prev) => __spreadProps(__spreadValues({}, prev || {}), {
        [weekKey]: { submittedAt: (/* @__PURE__ */ new Date()).toISOString(), userId: currentUser.id }
      }));
    };
    const weekLabel = days[0] ? `${fmtDate(days[0])} \u2013 ${fmtDate(days[6])}` : "";
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-5" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Time Entry"), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-0.5" }, "Add rows, choose project + task, enter hours Mon\u2013Fri")), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, isApproved && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-3 py-1.5 rounded-full bg-emerald-100 text-emerald-700 font-semibold" }, "\u2605 Approved"), isSubmitted && !isApproved && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-3 py-1.5 rounded-full bg-blue-100 text-blue-700 font-semibold" }, "\u23F3 Submitted"), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1 bg-white border border-slate-200 rounded-xl p-1" }, /* @__PURE__ */ React.createElement("button", { onClick: prevWeek, className: "px-2 py-1 rounded-lg hover:bg-slate-100 text-slate-600 font-bold text-lg leading-none" }, "\u2039"), /* @__PURE__ */ React.createElement("button", { onClick: goToday, className: "px-3 py-1 rounded-lg hover:bg-slate-100 text-xs font-semibold text-slate-600" }, "Today"), /* @__PURE__ */ React.createElement("button", { onClick: nextWeek, className: "px-2 py-1 rounded-lg hover:bg-slate-100 text-slate-600 font-bold text-lg leading-none" }, "\u203A")), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 bg-white border border-slate-200 rounded-xl px-3 py-1.5" }, /* @__PURE__ */ React.createElement(Avatar, { user: currentUser, size: 6 }), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-medium text-slate-700" }, currentUser.name)))), /* @__PURE__ */ React.createElement("div", { className: "text-center text-sm font-semibold text-slate-600 mb-4" }, weekLabel), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "overflow-x-auto" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse", style: { minWidth: "900px" } }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "bg-slate-900 text-white" }, /* @__PURE__ */ React.createElement("th", { className: "px-3 py-3 text-left text-xs font-semibold uppercase tracking-wide", style: { width: "200px" } }, "Project"), /* @__PURE__ */ React.createElement("th", { className: "px-3 py-3 text-left text-xs font-semibold uppercase tracking-wide", style: { width: "200px" } }, "Task"), days.map((d, i) => {
      const isWknd = [0, 6].includes((/* @__PURE__ */ new Date(d + "T12:00:00")).getDay());
      const isHdr = (holidays || []).some((h) => h.date === d && h.countries.includes(currentUser.country || "US"));
      return /* @__PURE__ */ React.createElement("th", { key: d, style: { width: "66px" }, className: `py-3 text-center text-xs font-semibold uppercase tracking-wide ${d === today ? "bg-indigo-700" : isWknd ? "bg-slate-800" : isHdr ? "bg-rose-900" : ""}` }, /* @__PURE__ */ React.createElement("div", { className: isWknd ? "text-slate-500" : "" }, dayLabels[i]), /* @__PURE__ */ React.createElement("div", { className: `font-normal text-xs ${isWknd ? "text-slate-600" : isHdr ? "text-rose-400" : "text-slate-400"}` }, fmtShort(d)), isWknd && /* @__PURE__ */ React.createElement("div", { className: "text-slate-600 font-normal", style: { fontSize: "9px" } }, "CLOSED"), isHdr && /* @__PURE__ */ React.createElement("div", { className: "text-rose-400 font-normal", style: { fontSize: "9px" } }, "HOLIDAY"));
    }), /* @__PURE__ */ React.createElement("th", { className: "px-3 py-3 text-center text-xs font-semibold uppercase tracking-wide", style: { width: "68px" } }, "Total"), /* @__PURE__ */ React.createElement("th", { style: { width: "32px" } }))), /* @__PURE__ */ React.createElement("tbody", null, rows.length === 0 && /* @__PURE__ */ React.createElement("tr", null, /* @__PURE__ */ React.createElement("td", { colSpan: 11, className: "py-14 text-center text-slate-400 text-sm" }, /* @__PURE__ */ React.createElement("div", { className: "text-4xl mb-2" }, "\u25F7"), /* @__PURE__ */ React.createElement("div", { className: "font-medium" }, "No rows yet"), /* @__PURE__ */ React.createElement("div", { className: "text-xs mt-1" }, "Click ", /* @__PURE__ */ React.createElement("strong", null, "+ Add Row"), " below to start logging time"))), rows.map((row) => {
      var _a;
      const proj = myProjects.find((p) => p.id === row.projectId);
      const projTasks = tasksForProject(row.projectId);
      const rowTotal = days.reduce((s, d) => s + getHours(row.id, d), 0);
      const locked = isSubmitted || isApproved;
      return /* @__PURE__ */ React.createElement("tr", { key: row.id, className: "border-b border-slate-100 hover:bg-slate-50/30 group" }, /* @__PURE__ */ React.createElement("td", { className: "px-2 py-2 border-r border-slate-100" }, locked ? /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5 px-1" }, proj && /* @__PURE__ */ React.createElement("div", { className: "w-2 h-2 rounded-full", style: { background: proj.color } }), /* @__PURE__ */ React.createElement("span", { className: "text-xs font-semibold text-slate-700 truncate" }, (proj == null ? void 0 : proj.name) || "\u2014")) : /* @__PURE__ */ React.createElement(
        "select",
        {
          value: row.projectId,
          onChange: (e) => updateRow(row.id, "projectId", e.target.value),
          className: "w-full text-xs border border-slate-200 rounded-lg px-2 py-1.5 focus:outline-none focus:ring-2 focus:ring-teal-400 bg-white text-slate-700"
        },
        /* @__PURE__ */ React.createElement("option", { value: "" }, "\u2014 Select project \u2014"),
        myProjects.map((p) => /* @__PURE__ */ React.createElement("option", { key: p.id, value: p.id }, p.name))
      )), /* @__PURE__ */ React.createElement("td", { className: "px-2 py-2 border-r border-slate-100" }, locked ? /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-700 px-1 truncate block" }, ((_a = tasks.find((t) => t.id === row.taskId)) == null ? void 0 : _a.title) || "\u2014") : /* @__PURE__ */ React.createElement(
        "select",
        {
          value: row.taskId,
          onChange: (e) => updateRow(row.id, "taskId", e.target.value),
          disabled: !row.projectId,
          className: "w-full text-xs border border-slate-200 rounded-lg px-2 py-1.5 focus:outline-none focus:ring-2 focus:ring-teal-400 bg-white text-slate-700 disabled:opacity-40 disabled:cursor-not-allowed"
        },
        /* @__PURE__ */ React.createElement("option", { value: "" }, row.projectId ? "\u2014 Select task \u2014" : "\u2014 Pick project first \u2014"),
        projTasks.map((t) => /* @__PURE__ */ React.createElement("option", { key: t.id, value: t.id }, t.title))
      )), days.map((d) => /* @__PURE__ */ React.createElement(
        TimeCell,
        {
          key: `${row.id}-${d}`,
          rowId: row.id,
          date: d,
          weekKey,
          currentUser,
          timeEntries,
          setTimeEntries,
          holidays,
          isSubmitted,
          isApproved
        }
      )), /* @__PURE__ */ React.createElement("td", { className: `px-2 py-2 text-center text-xs font-mono font-bold border-l-2 border-slate-200 ${rowTotal > 0 ? "text-teal-700" : "text-slate-300"}` }, rowTotal > 0 ? fmtHrs(rowTotal) : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-1 py-2 text-center" }, !locked && /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => removeRow(row.id),
          className: "opacity-0 group-hover:opacity-100 text-slate-300 hover:text-red-400 transition-all text-xl leading-none w-6 h-6 flex items-center justify-center rounded mx-auto"
        },
        "\xD7"
      )));
    })), /* @__PURE__ */ React.createElement("tfoot", null, /* @__PURE__ */ React.createElement("tr", { className: "bg-slate-900 text-white" }, /* @__PURE__ */ React.createElement("td", { className: "px-3 py-2.5 text-xs font-semibold uppercase tracking-wide", colSpan: 2 }, "Daily Total"), dayTotals.map((h, i) => /* @__PURE__ */ React.createElement("td", { key: i, className: `py-2.5 text-center text-xs font-mono font-bold ${h >= 8 ? "text-amber-300" : h > 0 ? "text-green-400" : "text-slate-600"}` }, h > 0 ? fmtHrs(h) : "\u2014")), /* @__PURE__ */ React.createElement("td", { className: `px-3 py-2.5 text-center text-xs font-mono font-bold border-l-2 border-slate-700 ${weekTotal > 0 ? "text-green-400" : "text-slate-600"}` }, weekTotal > 0 ? fmtHrs(weekTotal) : "\u2014"), /* @__PURE__ */ React.createElement("td", null))))), /* @__PURE__ */ React.createElement("div", { className: "px-4 py-3 bg-slate-50 border-t border-slate-200 flex items-center gap-3 flex-wrap" }, !(isSubmitted || isApproved) && /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: addRow,
        className: "flex items-center gap-1.5 px-4 py-2 text-sm font-semibold text-teal-600 border border-indigo-200 rounded-xl hover:bg-teal-50 docebo-teal-tint transition-all"
      },
      "+ Add Row"
    ), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, "0.25 = 15 min \xB7 0.5 = 30 min \xB7 1.0 = 1 hr"), /* @__PURE__ */ React.createElement("div", { className: "ml-auto flex items-center gap-3" }, /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-700" }, "Week Total: ", /* @__PURE__ */ React.createElement("span", { className: "font-mono text-teal-700" }, weekTotal > 0 ? fmtHrs(weekTotal) : "0h")), isApproved ? null : isSubmitted ? /* @__PURE__ */ React.createElement("span", { className: "text-xs text-blue-600 font-medium" }, "Awaiting approval") : rows.length > 0 ? /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: handleSubmit,
        className: "px-4 py-2 text-sm font-semibold bg-teal-600 docebo-teal-bg text-white rounded-xl hover:bg-teal-700 transition-all shadow-sm"
      },
      "Submit for Approval"
    ) : null))));
  }
  function ResourcesView({ users, projects, tasks, onEdit, onAddUser, onDelete }) {
    const [search, setSearch] = useState("");
    const [orgF, setOrgF] = useState("All");
    const [typeF, setTypeF] = useState("All");
    const orgs = ["All", ...Array.from(new Set(users.map((u) => u.org))).sort()];
    const filtered = users.filter((u) => {
      const q = search.toLowerCase();
      const matchQ = !q || u.name.toLowerCase().includes(q) || u.role.toLowerCase().includes(q) || (u.email || "").toLowerCase().includes(q);
      const matchO = orgF === "All" || u.org === orgF;
      const matchT = typeF === "All" || typeF === "Client" && u.isClient || typeF === "Partner" && u.isPartner || typeF === "Internal" && !u.isClient && !u.isPartner;
      return matchQ && matchO && matchT;
    });
    const counts = {
      All: users.length,
      Internal: users.filter((u) => !u.isClient && !u.isPartner).length,
      Client: users.filter((u) => u.isClient).length,
      Partner: users.filter((u) => u.isPartner).length
    };
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Resources"), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-1" }, users.length, " team members")), /* @__PURE__ */ React.createElement(Btn, { onClick: onAddUser }, "+ Add Resource")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 mb-4 flex-wrap" }, ["All", "Internal", "Client", "Partner"].map((t) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: t,
        onClick: () => setTypeF(t),
        className: `flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-semibold border transition-all ${typeF === t ? t === "Client" ? "bg-amber-500   text-white border-amber-500" : t === "Partner" ? "bg-emerald-500 text-white border-emerald-500" : "bg-slate-900   text-white border-slate-900" : "bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`
      },
      t === "Client" && "\u{1F91D} ",
      t === "Partner" && "\u{1F517} ",
      t,
      counts[t] !== counts.All && ` (${counts[t]})`
    )), /* @__PURE__ */ React.createElement("div", { className: "flex-1" }), /* @__PURE__ */ React.createElement(
      "input",
      {
        value: search,
        onChange: (e) => setSearch(e.target.value),
        placeholder: "Search by name, role, email\u2026",
        className: "border border-slate-200 rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400 w-64"
      }
    ), /* @__PURE__ */ React.createElement(Select, { value: orgF, onChange: setOrgF, options: orgs })), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4" }, filtered.map((u) => {
      const myProjects = projects.filter((p) => (p.resourceIds || []).includes(u.id));
      const myTasks = (tasks || []).filter((t) => (t.assigneeIds || []).includes(u.id));
      const openTasks = myTasks.filter((t) => t.status !== "Completed").length;
      const cardBorder = u.isClient ? "border-amber-200" : u.isPartner ? "border-emerald-200" : "border-slate-200";
      return /* @__PURE__ */ React.createElement("div", { key: u.id, className: `bg-white border-2 ${cardBorder} rounded-2xl p-5 hover:shadow-md transition-shadow` }, /* @__PURE__ */ React.createElement("div", { className: "flex items-start gap-4" }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 12 }), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 flex-wrap" }, /* @__PURE__ */ React.createElement("div", { className: "font-bold text-slate-900" }, u.name), u.isClient && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-2 py-0.5 rounded-full bg-amber-100   text-amber-700   font-semibold" }, "\u{1F91D} Client"), u.isPartner && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 font-semibold" }, "\u{1F517} Partner")), /* @__PURE__ */ React.createElement("div", { className: "text-sm text-slate-500 mt-0.5" }, u.role), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 mt-1 flex-wrap" }, /* @__PURE__ */ React.createElement("span", { className: "text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600" }, u.org), u.country && /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, { "US": "\u{1F1FA}\u{1F1F8}", "Canada": "\u{1F1E8}\u{1F1E6}", "UK": "\u{1F1EC}\u{1F1E7}", "Italy": "\u{1F1EE}\u{1F1F9}", "Germany": "\u{1F1E9}\u{1F1EA}" }[u.country] || "", " ", u.country), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, u.tz)))), /* @__PURE__ */ React.createElement("div", { className: "mt-4 pt-4 border-t border-slate-100" }, u.email && /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 truncate mb-1.5" }, "\u2709 ", u.email), /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500" }, myProjects.length, " projects \xB7 ", openTasks, " open tasks"), /* @__PURE__ */ React.createElement("button", { onClick: () => onEdit(u), className: "text-xs hover:opacity-80 font-medium px-2 py-0.5 rounded hover:bg-teal-50 docebo-teal-tint transition-all" }, "Edit"))), myProjects.length > 0 && /* @__PURE__ */ React.createElement("div", { className: "mt-3 flex flex-wrap gap-1" }, myProjects.map((p) => /* @__PURE__ */ React.createElement("span", { key: p.id, className: "px-2 py-0.5 rounded-full text-xs font-medium text-white", style: { background: p.color } }, p.name))));
    }), filtered.length === 0 && /* @__PURE__ */ React.createElement("div", { className: "col-span-3 text-center py-20 text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-5xl mb-3" }, "\u25C8"), /* @__PURE__ */ React.createElement("div", null, "No resources match your filters"))));
  }
  function TemplatesView({ templates, onNew, onEdit, onDelete, onApply }) {
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Project Templates"), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-1" }, "Reusable project structures to accelerate new engagements")), /* @__PURE__ */ React.createElement(Btn, { onClick: onNew }, "+ New Template")), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-1 xl:grid-cols-2 gap-6" }, templates.map((tmpl) => /* @__PURE__ */ React.createElement("div", { key: tmpl.id, className: "bg-white border border-slate-200 rounded-2xl overflow-hidden hover:shadow-md transition-shadow" }, /* @__PURE__ */ React.createElement("div", { className: "px-5 py-4 border-b border-slate-100 flex items-start justify-between" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h3", { className: "font-bold text-slate-900" }, tmpl.name), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-0.5" }, tmpl.description)), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 flex-shrink-0" }, /* @__PURE__ */ React.createElement(Btn, { variant: "ghost", size: "xs", onClick: () => onEdit(tmpl) }, "Edit"), /* @__PURE__ */ React.createElement(Btn, { variant: "secondary", size: "xs", onClick: () => onApply(tmpl) }, "Apply \u2192"))), /* @__PURE__ */ React.createElement("div", { className: "p-4" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2" }, (tmpl.taskTemplates || []).length, " tasks"), /* @__PURE__ */ React.createElement("div", { className: "space-y-1.5 max-h-48 overflow-y-auto" }, (tmpl.taskTemplates || []).map((t, i) => /* @__PURE__ */ React.createElement("div", { key: i, className: "flex items-center gap-2 text-sm" }, /* @__PURE__ */ React.createElement(TypeBadge, { type: t.type }), /* @__PURE__ */ React.createElement("span", { className: "flex-1 text-slate-700 truncate" }, t.title), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400 font-mono whitespace-nowrap" }, "+", t.offsetDays, "d \xB7 ", t.durationDays, "d \xB7 ", t.estimatedHours, "h"))))), /* @__PURE__ */ React.createElement("div", { className: "px-4 py-3 bg-slate-50 border-t border-slate-100 flex items-center justify-between" }, /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, "Total: ", (tmpl.taskTemplates || []).reduce((s, t) => s + t.estimatedHours, 0), "h estimated \xB7 ", (tmpl.taskTemplates || []).reduce((s, t) => s + t.durationDays, 0), "d total duration"), /* @__PURE__ */ React.createElement("button", { onClick: () => onDelete(tmpl.id), className: "text-xs text-red-400 hover:text-red-600" }, "Delete")))), templates.length === 0 && /* @__PURE__ */ React.createElement("div", { className: "col-span-2 text-center py-20 text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-5xl mb-3" }, "\u25E7"), /* @__PURE__ */ React.createElement("div", null, "No templates yet"), /* @__PURE__ */ React.createElement("div", { className: "text-sm mt-1" }, "Create a template to speed up project setup"))));
  }
  function UserModal({ user, onSave, onClose, onDelete }) {
    const isNew = !(user == null ? void 0 : user.id);
    const COLORS = ["#6366f1", "#0ea5e9", "#10b981", "#f59e0b", "#ec4899", "#8b5cf6", "#ef4444", "#d97706"];
    const COUNTRIES = ["US", "Canada", "UK", "Italy", "Germany"];
    const COUNTRY_FLAGS = { "US": "\u{1F1FA}\u{1F1F8}", "Canada": "\u{1F1E8}\u{1F1E6}", "UK": "\u{1F1EC}\u{1F1E7}", "Italy": "\u{1F1EE}\u{1F1F9}", "Germany": "\u{1F1E9}\u{1F1EA}" };
    const [form, setForm] = useState(__spreadValues({
      name: "",
      lastName: "",
      email: "",
      role: "",
      org: "",
      tz: "EST",
      color: COLORS[0],
      initials: "",
      country: "US",
      isClient: false,
      isPartner: false
    }, user || {}));
    const set = (k, v) => setForm((f) => __spreadProps(__spreadValues({}, f), { [k]: v }));
    useEffect(() => {
      const first = form.name.trim();
      const last = form.lastName.trim();
      if (first || last) {
        const initials = ((first[0] || "") + (last[0] || "")).toUpperCase();
        if (initials) set("initials", initials);
      }
    }, [form.name, form.lastName]);
    const valid = form.name.trim().length > 0;
    return /* @__PURE__ */ React.createElement(Modal, { title: isNew ? "+ Add Resource" : "Edit Resource", onClose }, /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-2 gap-4" }, /* @__PURE__ */ React.createElement(Field, { label: "First Name", required: true }, /* @__PURE__ */ React.createElement(Input, { value: form.name, onChange: (v) => set("name", v), placeholder: "Jane" })), /* @__PURE__ */ React.createElement(Field, { label: "Last Name", required: true }, /* @__PURE__ */ React.createElement(Input, { value: form.lastName || "", onChange: (v) => set("lastName", v), placeholder: "Smith" })), /* @__PURE__ */ React.createElement("div", { className: "col-span-2" }, /* @__PURE__ */ React.createElement(Field, { label: "Email" }, /* @__PURE__ */ React.createElement(Input, { type: "email", value: form.email, onChange: (v) => set("email", v), placeholder: "jane@company.com" }))), /* @__PURE__ */ React.createElement(Field, { label: "Role" }, /* @__PURE__ */ React.createElement(Input, { value: form.role, onChange: (v) => set("role", v), placeholder: "e.g. Project Manager" })), /* @__PURE__ */ React.createElement(Field, { label: "Organization" }, /* @__PURE__ */ React.createElement(Input, { value: form.org, onChange: (v) => set("org", v), placeholder: "e.g. Acme Corp" })), /* @__PURE__ */ React.createElement(Field, { label: "Country" }, /* @__PURE__ */ React.createElement(
      Select,
      {
        value: form.country || "US",
        onChange: (v) => set("country", v),
        options: COUNTRIES.map((c) => ({ value: c, label: COUNTRY_FLAGS[c] + " " + c }))
      }
    )), /* @__PURE__ */ React.createElement(Field, { label: "Time Zone" }, /* @__PURE__ */ React.createElement(Select, { value: form.tz, onChange: (v) => set("tz", v), options: ["EST", "CST", "MST", "PST", "GMT", "CET"] })), /* @__PURE__ */ React.createElement(Field, { label: "Initials" }, /* @__PURE__ */ React.createElement(Input, { value: form.initials, onChange: (v) => set("initials", v.toUpperCase().slice(0, 2)), placeholder: "JS" })), /* @__PURE__ */ React.createElement(Field, { label: "Avatar Color" }, /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 flex-wrap pt-1" }, COLORS.map((c) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: c,
        type: "button",
        onClick: () => set("color", c),
        className: `w-7 h-7 rounded-full border-2 transition-all ${form.color === c ? "border-slate-800 scale-110" : "border-transparent"}`,
        style: { background: c }
      }
    )))), /* @__PURE__ */ React.createElement("div", { className: "col-span-2 pt-2 border-t border-slate-100" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-500 uppercase tracking-wide mb-3" }, "Resource Type"), /* @__PURE__ */ React.createElement("div", { className: "flex gap-6" }, [
      { key: "isClient", label: "Client / Customer", desc: "External client or end customer", color: "amber" },
      { key: "isPartner", label: "Partner", desc: "Reseller, SI, or technology partner", color: "emerald" }
    ].map(({ key, label, desc, color }) => /* @__PURE__ */ React.createElement("label", { key, className: `flex items-start gap-3 px-4 py-3 rounded-xl border-2 cursor-pointer flex-1 transition-all ${form[key] ? color === "amber" ? "border-amber-400   bg-amber-50" : "border-emerald-400 bg-emerald-50" : "border-slate-200 bg-white hover:border-slate-300"}` }, /* @__PURE__ */ React.createElement(
      "input",
      {
        type: "checkbox",
        checked: !!form[key],
        onChange: (e) => set(key, e.target.checked),
        className: "mt-0.5 w-4 h-4 accent-teal-600 flex-shrink-0"
      }
    ), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: `text-sm font-semibold ${form[key] ? color === "amber" ? "text-amber-800" : "text-emerald-800" : "text-slate-700"}` }, label), /* @__PURE__ */ React.createElement("div", { className: `text-xs mt-0.5 ${form[key] ? color === "amber" ? "text-amber-600" : "text-emerald-600" : "text-slate-400"}` }, desc))))))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-between mt-6 pt-4 border-t border-slate-100" }, /* @__PURE__ */ React.createElement("div", null, !isNew && onDelete && /* @__PURE__ */ React.createElement("button", { onClick: () => { if (window.confirm("Delete " + form.name + "? This cannot be undone.")) { onDelete(form.id); onClose(); } }, className: "px-4 py-2 text-sm font-semibold rounded-xl text-red-500 hover:bg-red-50 border border-red-200 transition-all" }, "\u{1F5D1}\uFE0F Delete Resource")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2" }, /* @__PURE__ */ React.createElement(Btn, { variant: "secondary", onClick: onClose }, "Cancel"), /* @__PURE__ */ React.createElement(Btn, { disabled: !valid, onClick: () => onSave(__spreadProps(__spreadValues({}, form), { id: form.id || "u_" + uid() })) }, isNew ? "Add Resource" : "Save Changes"))));
  }
  function SaveBar({ status, onSave, onExport, onImport }) {
    const [syncOk, setSyncOk] = useState(null);
    const [lastSync, setLastSync] = useState(null);
    const [wsWarn, setWsWarn] = useState(false);
    useEffect(() => {
      const tick = () => {
        setSyncOk(_syncStatus.ok);
        setLastSync(_syncStatus.lastSync);
        setWsWarn(false);
      };
      tick();
      const id = setInterval(tick, 2e3);
      return () => clearInterval(id);
    }, []);
    const cfg = { saved: { icon: "\u2713", label: "Saved", color: "text-green-400" }, saving: { icon: "\u27F3", label: "Saving\u2026", color: "text-amber-400" }, unsaved: { icon: "\u25CF", label: "Unsaved changes", color: "text-amber-400" } };
    const c = cfg[status] || cfg.saved;
    const dot = wsWarn ? "#f59e0b" : syncOk === true ? "#22c55e" : syncOk === false ? "#ef4444" : "#64748b";
    const lbl = wsWarn ? "Sheets \u26A0" : syncOk === true ? "Sheets \u2713" : syncOk === false ? "Sheets \u2717" : "Local only";
    const lcol = wsWarn ? "text-amber-400" : syncOk === true ? "text-green-400" : syncOk === false ? "text-red-400" : "text-slate-500";
    const tip = wsWarn ? 'Workspace URL \u2014 saves are NOT reaching Google Sheets. Redeploy Apps Script with "Who has access: Anyone". See Admin \u2192 Integration Settings.' : syncOk === true ? `Synced to Google Sheets \xB7 ${lastSync ? new Date(lastSync).toLocaleTimeString() : ""}` : "Using local browser storage";
    return /* @__PURE__ */ React.createElement("div", { className: "border-t border-slate-800 bg-slate-900 flex-shrink-0" }, wsWarn && /* @__PURE__ */ React.createElement("div", { className: "px-3 py-1.5 bg-amber-900/60 border-b border-amber-700/40 flex items-center gap-2" }, /* @__PURE__ */ React.createElement("span", { className: "text-amber-400 text-xs font-bold flex-shrink-0" }, "\u26A0 SHEETS NOT SAVING"), /* @__PURE__ */ React.createElement("span", { className: "text-amber-300 text-xs truncate" }, 'Redeploy Apps Script \u2192 "Who has access: Anyone" \u2192 Admin \u2192 Integration Settings')), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5 px-3 py-1 border-b border-slate-800/60" }, /* @__PURE__ */ React.createElement("span", { style: { width: "7px", height: "7px", borderRadius: "50%", background: dot, display: "inline-block", flexShrink: 0 } }), /* @__PURE__ */ React.createElement("span", { className: `text-xs ${lcol} flex-1 truncate`, title: tip }, lbl), lastSync && syncOk === true && /* @__PURE__ */ React.createElement("span", { className: "text-slate-600", style: { fontSize: "9px" } }, new Date(lastSync).toLocaleTimeString())), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5 px-3 py-2" }, /* @__PURE__ */ React.createElement("span", { className: `text-xs font-medium flex items-center gap-1 flex-1 ${c.color}` }, /* @__PURE__ */ React.createElement("span", { style: { fontSize: "10px" } }, c.icon), c.label), /* @__PURE__ */ React.createElement("button", { onClick: onSave, title: "Save (Ctrl+S)", className: "text-xs px-2 py-1 rounded text-white transition-all", style: { background: "var(--dcb-purple)" } }, "Save"), /* @__PURE__ */ React.createElement("button", { onClick: onExport, title: "Download backup (.json)", className: "text-xs px-2 py-1 rounded bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all" }, "\u2B07"), /* @__PURE__ */ React.createElement("button", { onClick: onImport, title: "Upload backup (.json)", className: "text-xs px-2 py-1 rounded bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all" }, "\u2B06")));
  }
  function Sidebar({ view, onNav, users, currentUser, onChangeUser, projects, saveBar }) {
    const isSuperAdmin = !!(currentUser == null ? void 0 : currentUser.isSuperAdmin);
    const isManager = !!(currentUser == null ? void 0 : currentUser.isManager);
    const isClient = !!(currentUser == null ? void 0 : currentUser.isClient);
    const [showPicker, setShowPicker] = useState(false);
    const CLIENT_BLOCKED = /* @__PURE__ */ new Set(["time", "resources", "templates", "health", "admin", "reports"]);
    const MGMT_ONLY = /* @__PURE__ */ new Set([]);
    const visible = NAV_ITEMS.filter((item) => {
      if (isClient && CLIENT_BLOCKED.has(item.id)) return false;
      if (!isSuperAdmin && !isManager && MGMT_ONLY.has(item.id)) return false;
      return true;
    });
    return /* @__PURE__ */ React.createElement("div", { className: "w-56 flex flex-col h-full flex-shrink-0 select-none", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("div", { style: {
      padding: "20px 20px 16px 20px",
      borderBottom: "1px solid var(--dcb-navy-border)",
      flexShrink: 0
    } }, /* @__PURE__ */ React.createElement("div", { style: { color: "white", fontWeight: "700", fontSize: "13px", lineHeight: "1.3", letterSpacing: "-0.01em" } }, "Project Management Tool")), /* @__PURE__ */ React.createElement("nav", { className: "flex-1 px-3 py-4 space-y-1 overflow-y-auto", style: { scrollbarWidth: "thin", scrollbarColor: "#334155 transparent" } }, visible.map((item) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: item.id,
        onClick: () => onNav({ view: item.id }),
        className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-semibold transition-all text-left`,
        style: {
          background: view === item.id ? "var(--dcb-purple)" : "transparent",
          color: view === item.id ? "#fff" : "rgba(255,255,255,0.6)",
          boxShadow: view === item.id ? "0 2px 12px rgba(136,61,230,0.4)" : "none"
        }
      },
      /* @__PURE__ */ React.createElement("span", { className: "text-base" }, item.icon),
      item.label
    )), projects.filter((p) => p.status !== "Archived").length > 0 && /* @__PURE__ */ React.createElement("div", { className: "pt-2 pb-1" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-600 px-3 pb-1 uppercase tracking-wider font-semibold" }, "Projects"), projects.filter((p) => p.status !== "Archived").map((p) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: p.id,
        onClick: () => onNav({ view: "projects", projectId: p.id }),
        className: `w-full flex items-center gap-2.5 px-3 py-1.5 rounded-lg text-xs transition-all text-left ${view === "projects" ? "text-slate-300 hover:text-white hover:bg-slate-800" : "text-slate-500 hover:text-slate-300 hover:bg-slate-800"}`
      },
      /* @__PURE__ */ React.createElement("span", { className: "w-2 h-2 rounded-full flex-shrink-0", style: { background: p.color } }),
      /* @__PURE__ */ React.createElement("span", { className: "truncate" }, p.name)
    )))), /* @__PURE__ */ React.createElement("div", { className: "flex-shrink-0 p-3 border-t border-slate-800 relative" }, isSuperAdmin || isManager || (currentUser && currentUser.role && /sponsor/i.test(currentUser.role)) ? /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowPicker((v) => !v),
        className: "w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-slate-800 transition-all"
      },
      /* @__PURE__ */ React.createElement(Avatar, { user: currentUser, size: 8 }),
      /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0 text-left" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-white truncate" }, currentUser == null ? void 0 : currentUser.name), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 truncate" }, currentUser == null ? void 0 : currentUser.role)),
      /* @__PURE__ */ React.createElement("span", { className: "text-slate-500 text-xs", title: "SuperAdmin \u2014 click to switch user" }, "\u2195")
    ) : /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3 px-2 py-2" }, /* @__PURE__ */ React.createElement(Avatar, { user: currentUser, size: 8 }), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-white truncate" }, currentUser == null ? void 0 : currentUser.name), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 truncate" }, currentUser == null ? void 0 : currentUser.role))), showPicker && (isSuperAdmin || isManager || (currentUser && currentUser.role && /sponsor/i.test(currentUser.role))) && /* @__PURE__ */ React.createElement("div", { className: "absolute bottom-full left-3 right-3 mb-2 bg-slate-800 border border-slate-700 rounded-xl overflow-hidden shadow-2xl z-20" }, /* @__PURE__ */ React.createElement("div", { className: "px-3 py-2 text-xs text-slate-400 border-b border-slate-700 flex items-center justify-between" }, /* @__PURE__ */ React.createElement("span", null, "Switch User"), /* @__PURE__ */ React.createElement("span", { className: "text-slate-600" }, users.length, " users")), /* @__PURE__ */ React.createElement("div", { style: { maxHeight: "240px", overflowY: "auto" } }, users.map((u) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: u.id,
        onClick: () => {
          onChangeUser(u.id);
          setShowPicker(false);
        },
        className: `w-full flex items-center gap-2 px-3 py-2 text-xs hover:bg-slate-700 ${u.id === (currentUser == null ? void 0 : currentUser.id) ? "bg-slate-700" : ""}`
      },
      /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 5 }),
      /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0 text-left" }, /* @__PURE__ */ React.createElement("div", { className: "text-slate-200 font-medium truncate" }, u.name), /* @__PURE__ */ React.createElement("div", { className: "text-slate-500 truncate" }, u.org)),
      u.isSuperAdmin && /* @__PURE__ */ React.createElement("span", { className: "text-purple-400 text-xs" }, "SA")
    )))), /* @__PURE__ */ React.createElement("div", { className: "flex-shrink-0" }, saveBar)));
  }
  function Toast({ message, onDone }) {
    useEffect(() => {
      const t = setTimeout(onDone, 3e3);
      return () => clearTimeout(t);
    }, []);
    return /* @__PURE__ */ React.createElement("div", { className: "fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-5 py-3 rounded-xl shadow-2xl text-sm font-medium z-50 pointer-events-none" }, message);
  }
  function HealthStatusBadge({ s }) {
    const cfg = {
      "On Track": { bg: "bg-green-100 text-green-700 border-green-200", dot: "bg-green-500" },
      "At Risk": { bg: "bg-amber-100 text-amber-700 border-amber-200", dot: "bg-amber-500" },
      "Off Track": { bg: "bg-red-100   text-red-700   border-red-200", dot: "bg-red-500" }
    };
    const c = cfg[s] || { bg: "bg-slate-100 text-slate-500 border-slate-200", dot: "bg-slate-400" };
    return /* @__PURE__ */ React.createElement("span", { className: `inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold border ${c.bg}` }, /* @__PURE__ */ React.createElement("span", { className: `w-1.5 h-1.5 rounded-full ${c.dot}` }), s || "\u2014");
  }
  function HealthView({ projects, currentUser, healthReports, setHealthReports }) {
    var _a;
    const myProjects = projects.filter(
      (p) => (p.resourceIds || []).includes(currentUser.id) || p.pmId === currentUser.id || currentUser.isSuperAdmin
    );
    const [selPid, setSelPid] = useState(((_a = myProjects[0]) == null ? void 0 : _a.id) || "");
    const [submitted, setSubmitted] = useState(false);
    const [form, setForm] = useState({
      status: "On Track",
      summary: "",
      schedule: "",
      scope: "",
      relationship: ""
    });
    const project = myProjects.find((p) => p.id === selPid);
    const reports = (healthReports[selPid] || []).slice().sort((a, b) => b.date.localeCompare(a.date));
    const todayKey = (/* @__PURE__ */ new Date()).toISOString().slice(0, 10);
    const todayReport = reports.find((r) => r.date === todayKey);
    const selectProject = (pid) => {
      setSelPid(pid);
      const rpts = healthReports[pid] || [];
      const existing = rpts.find((r) => r.date === todayKey);
      if (existing) {
        setForm({ status: existing.status, summary: existing.summary || "", schedule: existing.schedule || "", scope: existing.scope || "", relationship: existing.relationship || "" });
      } else {
        setForm({ status: "On Track", summary: "", schedule: "", scope: "", relationship: "" });
      }
      setSubmitted(false);
    };
    const handleSubmit = () => {
      if (!selPid) return;
      const entry = __spreadProps(__spreadValues({}, form), {
        date: todayKey,
        submittedBy: currentUser.id,
        submittedByName: currentUser.name,
        submittedAt: (/* @__PURE__ */ new Date()).toISOString()
      });
      setHealthReports((prev) => {
        const existing = (prev[selPid] || []).filter((r) => r.date !== todayKey);
        return __spreadProps(__spreadValues({}, prev), { [selPid]: [...existing, entry] });
      });
      setSubmitted(true);
      setTimeout(() => setSubmitted(false), 3e3);
    };
    const FIELDS = [
      { k: "summary", l: "Summary", ph: "Overall project narrative and key highlights this week\u2026" },
      { k: "schedule", l: "Schedule", ph: "Are we on schedule? Any milestone delays or risks?\u2026" },
      { k: "scope", l: "Scope", ph: "Any scope changes, additions, or open change requests?\u2026" },
      { k: "relationship", l: "Client Relationship", ph: "Stakeholder sentiment, escalations, wins, concerns\u2026" }
    ];
    if (myProjects.length === 0) return /* @__PURE__ */ React.createElement("div", { className: "p-6 text-slate-400 text-sm flex flex-col items-center justify-center h-64" }, /* @__PURE__ */ React.createElement("div", { className: "text-4xl mb-3" }, "\u2665"), /* @__PURE__ */ React.createElement("div", { className: "font-medium" }, "No projects assigned"));
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "mb-6" }, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Health Reports"), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-0.5" }, "Submit a project health update anytime \xB7 one per day (same-day re-submissions overwrite the earlier entry)")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 flex-wrap mb-6" }, myProjects.map((p) => {
      const lr = (healthReports[p.id] || []).slice().sort((a, b) => b.date.localeCompare(a.date))[0];
      return /* @__PURE__ */ React.createElement(
        "button",
        {
          key: p.id,
          onClick: () => selectProject(p.id),
          className: `flex items-center gap-2 px-4 py-2 rounded-xl border text-sm font-semibold transition-all ${p.id === selPid ? "bg-slate-900 text-white border-slate-900" : "bg-white border-slate-200 text-slate-700 hover:bg-slate-50"}`
        },
        /* @__PURE__ */ React.createElement("div", { className: "w-2 h-2 rounded-full flex-shrink-0", style: { background: p.color } }),
        p.name,
        lr && /* @__PURE__ */ React.createElement(HealthStatusBadge, { s: lr.status })
      );
    })), project && /* @__PURE__ */ React.createElement("div", { className: "grid gap-6", style: { gridTemplateColumns: "1fr 1fr" } }, /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-4" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-800" }, "Submit Report"), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, todayKey)), todayReport && !submitted && /* @__PURE__ */ React.createElement("div", { className: "flex items-start gap-2 text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded-xl px-3 py-2.5 mb-4" }, /* @__PURE__ */ React.createElement("span", { className: "text-base leading-none" }, "\u26A0"), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "font-semibold" }, "Already submitted today at ", new Date(todayReport.submittedAt || todayKey).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })), /* @__PURE__ */ React.createElement("div", { className: "mt-0.5 text-amber-600" }, "Submitting again will overwrite the existing entry for today."))), /* @__PURE__ */ React.createElement("div", { className: "space-y-4" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "text-xs font-semibold text-slate-500 uppercase tracking-wide block mb-2" }, "Overall Status"), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2" }, ["On Track", "At Risk", "Off Track"].map((s) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: s,
        onClick: () => setForm((f) => __spreadProps(__spreadValues({}, f), { status: s })),
        className: `flex-1 py-2 rounded-xl text-xs font-bold border transition-all ${form.status === s ? s === "On Track" ? "bg-green-600 text-white border-green-600" : s === "At Risk" ? "bg-amber-500 text-white border-amber-500" : "bg-red-600 text-white border-red-600" : "bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`
      },
      s
    )))), FIELDS.map(({ k, l, ph }) => /* @__PURE__ */ React.createElement("div", { key: k }, /* @__PURE__ */ React.createElement("label", { className: "text-xs font-semibold text-slate-500 uppercase tracking-wide block mb-1" }, l), /* @__PURE__ */ React.createElement(
      "textarea",
      {
        value: form[k],
        onChange: (e) => setForm((f) => __spreadProps(__spreadValues({}, f), { [k]: e.target.value })),
        placeholder: ph,
        rows: 3,
        className: "w-full border border-slate-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400 resize-none text-slate-700 placeholder-slate-300"
      }
    ))), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: handleSubmit,
        className: `w-full py-2.5 rounded-xl text-sm font-bold transition-all shadow-sm ${submitted ? "bg-green-600 text-white" : "bg-teal-600 docebo-teal-bg text-white hover:bg-teal-700"}`
      },
      submitted ? "\u2713 Submitted!" : todayReport ? "Re-submit (overwrite today)" : "Submit Report"
    ))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm flex flex-col" }, /* @__PURE__ */ React.createElement("h2", { className: "font-bold text-slate-800 mb-4" }, "History ", /* @__PURE__ */ React.createElement("span", { className: "text-slate-400 font-normal text-sm" }, "(", reports.length, ")")), reports.length === 0 ? /* @__PURE__ */ React.createElement("div", { className: "flex-1 flex items-center justify-center text-slate-400 text-sm py-12" }, "No reports submitted yet") : /* @__PURE__ */ React.createElement("div", { className: "space-y-4 overflow-y-auto flex-1", style: { maxHeight: "520px" } }, reports.map((r, i) => /* @__PURE__ */ React.createElement("div", { key: i, className: "pb-4 border-b border-slate-100 last:border-0" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-3" }, /* @__PURE__ */ React.createElement(HealthStatusBadge, { s: r.status }), /* @__PURE__ */ React.createElement("div", { className: "text-right" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-700" }, r.date), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, r.submittedByName))), /* @__PURE__ */ React.createElement("div", { className: "space-y-2" }, FIELDS.map(({ k, l }) => r[k] ? /* @__PURE__ */ React.createElement("div", { key: k, className: "text-xs" }, /* @__PURE__ */ React.createElement("div", { className: "font-semibold text-slate-500 uppercase tracking-wide mb-0.5" }, l), /* @__PURE__ */ React.createElement("div", { className: "text-slate-700 leading-relaxed whitespace-pre-wrap" }, r[k])) : null))))))));
  }
  function ProjectAssignmentsTab({ users, projects, setProjects }) {
    var _a;
    const [selPid, setSelPid] = useState(((_a = projects[0]) == null ? void 0 : _a.id) || "");
    const project = projects.find((p) => p.id === selPid);
    const assigned = new Set((project == null ? void 0 : project.resourceIds) || []);
    const toggle = (uid2) => setProjects((ps) => ps.map((p) => p.id !== selPid ? p : __spreadProps(__spreadValues({}, p), { resourceIds: (p.resourceIds || []).includes(uid2) ? (p.resourceIds || []).filter((i) => i !== uid2) : [...p.resourceIds || [], uid2] })));
    const orgGroups = Array.from(new Set(users.map((u) => u.org || "Unassigned"))).sort();
    function Row({ u }) {
      const on = assigned.has(u.id);
      return /* @__PURE__ */ React.createElement("div", { onClick: () => toggle(u.id), className: `flex items-center gap-3 px-4 py-3 rounded-xl border cursor-pointer select-none transition-all ${on ? "border-indigo-200 bg-teal-50 docebo-teal-tint" : "border-slate-100 bg-white hover:bg-slate-50"}` }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 8 }), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5 flex-wrap" }, /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-800" }, u.name), u.isManager && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-1.5 py-0.5 rounded-full bg-teal-100 text-teal-700" }, "Mgr"), u.isSuperAdmin && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-1.5 py-0.5 rounded-full bg-purple-100 text-purple-700" }, "SA"), u.isClient && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-1.5 py-0.5 rounded-full bg-amber-100 text-amber-700" }, "Client")), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, u.role)), /* @__PURE__ */ React.createElement("div", { className: `w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${on ? "border-indigo-600 bg-teal-600 docebo-teal-bg" : "border-slate-300"}` }, on && /* @__PURE__ */ React.createElement("span", { className: "text-white text-xs" }, "\u2713")));
    }
    return /* @__PURE__ */ React.createElement("div", { className: "flex gap-6" }, /* @__PURE__ */ React.createElement("div", { className: "w-60 flex-shrink-0" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-500 uppercase mb-3" }, "Projects"), /* @__PURE__ */ React.createElement("div", { className: "space-y-1" }, projects.map((p) => /* @__PURE__ */ React.createElement("button", { key: p.id, onClick: () => setSelPid(p.id), className: `w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-left transition-all ${p.id === selPid ? "bg-slate-900 text-white" : "bg-white border border-slate-200 text-slate-700 hover:bg-slate-50"}` }, /* @__PURE__ */ React.createElement("div", { className: "w-2.5 h-2.5 rounded-full flex-shrink-0", style: { background: p.color } }), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-semibold truncate" }, p.name), /* @__PURE__ */ React.createElement("div", { className: "text-xs opacity-60" }, (p.resourceIds || []).length, " members")))))), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, project ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3 mb-4" }, /* @__PURE__ */ React.createElement("div", { className: "w-3 h-3 rounded-full", style: { background: project.color } }), /* @__PURE__ */ React.createElement("h2", { className: "text-lg font-bold text-slate-900" }, project.name), /* @__PURE__ */ React.createElement("span", { className: "text-sm text-slate-400" }, assigned.size, " assigned")), /* @__PURE__ */ React.createElement("div", { className: "grid gap-6", style: { gridTemplateColumns: orgGroups.length > 1 ? "1fr 1fr" : "1fr" } }, orgGroups.map((org) => { const orgUsers = users.filter((u) => (u.org || "Unassigned") === org); return orgUsers.length === 0 ? null : /* @__PURE__ */ React.createElement("div", { key: org }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-slate-500 uppercase mb-2" }, org), /* @__PURE__ */ React.createElement("div", { className: "space-y-2" }, orgUsers.map((u) => /* @__PURE__ */ React.createElement(Row, { key: u.id, u })))); }))) : /* @__PURE__ */ React.createElement("div", { className: "text-slate-400 py-10 text-center text-sm" }, "Select a project")));
  }
  function RolesManagersTab({ users, setUsers, onEditUser }) {
    const CFLAGS = { US: "\u{1F1FA}\u{1F1F8}", CA: "\u{1F1E8}\u{1F1E6}", IT: "\u{1F1EE}\u{1F1F9}", UK: "\u{1F1EC}\u{1F1E7}", DE: "\u{1F1E9}\u{1F1EA}" };
    const toggleMgr = (uid2) => setUsers((us) => us.map((u) => u.id === uid2 ? __spreadProps(__spreadValues({}, u), { isManager: !u.isManager }) : u));
    const setMgrOf = (uid2, mid) => setUsers((us) => us.map((u) => u.id === uid2 ? __spreadProps(__spreadValues({}, u), { managerId: mid }) : u));
    const managers = users.filter((u) => u.isManager);
    return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "flex gap-4 mb-6" }, [{ l: "Managers", v: managers.length, c: "indigo" }, { l: "Contributors", v: users.length - managers.length, c: "slate" }, { l: "With Manager", v: users.filter((u) => u.managerId).length, c: "slate" }].map(({ l, v, c }) => /* @__PURE__ */ React.createElement("div", { key: l, className: `bg-${c}-50 border border-${c}-100 rounded-2xl px-5 py-4 flex-1` }, /* @__PURE__ */ React.createElement("div", { className: `text-2xl font-bold text-${c}-700` }, v), /* @__PURE__ */ React.createElement("div", { className: `text-sm text-${c}-600 font-medium` }, l)))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Resource"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Role"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-center w-28" }, "Manager"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left w-52" }, "Reports To"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-center w-24" }, "Reports"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 w-14" }))), /* @__PURE__ */ React.createElement("tbody", null, users.map((u, i) => {
      const drs = users.filter((r) => r.managerId === u.id);
      return /* @__PURE__ */ React.createElement("tr", { key: u.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3" }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 8 }), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-800" }, u.name), u.isSuperAdmin && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-1.5 py-0.5 rounded-full bg-purple-100 text-purple-700" }, "SA"), u.isClient && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-1.5 py-0.5 rounded-full bg-amber-100 text-amber-700" }, "\u{1F91D} Client"), u.isPartner && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-1.5 py-0.5 rounded-full bg-emerald-100 text-emerald-700" }, "\u{1F517} Partner"), u.country && /* @__PURE__ */ React.createElement("span", { className: "text-xs" }, CFLAGS[u.country] || "")), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, u.email)))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-sm text-slate-600" }, u.role), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-center" }, u.isClient ? /* @__PURE__ */ React.createElement("span", { className: "text-xs px-2 py-0.5 rounded-full bg-amber-100 text-amber-700" }, "Client") : /* @__PURE__ */ React.createElement("label", { className: "inline-flex items-center gap-1.5 cursor-pointer" }, /* @__PURE__ */ React.createElement("input", { type: "checkbox", checked: !!u.isManager, onChange: () => toggleMgr(u.id), className: "w-4 h-4 accent-teal-600" }), u.isManager && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-1.5 py-0.5 rounded-full bg-teal-100 text-teal-700" }, "Mgr"))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, u.isClient ? /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-300 italic" }, "N/A") : /* @__PURE__ */ React.createElement("select", { value: u.managerId || "", onChange: (e) => setMgrOf(u.id, e.target.value), className: "w-full text-xs border border-slate-200 rounded-lg px-2 py-1.5 focus:outline-none bg-white" }, /* @__PURE__ */ React.createElement("option", { value: "" }, "\u2014 None \u2014"), managers.filter((m) => m.id !== u.id).map((m) => /* @__PURE__ */ React.createElement("option", { key: m.id, value: m.id }, m.name)))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-center" }, drs.length > 0 ? /* @__PURE__ */ React.createElement("div", { className: "flex -space-x-1 justify-center" }, drs.slice(0, 3).map((r) => /* @__PURE__ */ React.createElement(Avatar, { key: r.id, user: r, size: 6 })), drs.length > 3 && /* @__PURE__ */ React.createElement("div", { className: "w-6 h-6 rounded-full bg-slate-200 text-slate-600 text-xs flex items-center justify-center" }, "+", drs.length - 3)) : /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-300" }, "\u2014")), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-center" }, /* @__PURE__ */ React.createElement("button", { onClick: () => onEditUser(u), className: "text-xs text-slate-400 hover:text-teal-600 px-2 py-1 rounded" }, "Edit")));
    })))));
  }
  function TimesheetApprovalsTab({ users, currentUser, submittedWeeks, approvedWeeks, setApprovedWeeks, weeklyRows, timeEntries, projects, isSuperAdmin }) {
    const myReports = isSuperAdmin ? users.filter((u) => !u.isClient && u.id !== currentUser.id) : users.filter((u) => u.managerId === currentUser.id);
    const [filter, setFilter] = useState("all");
    const shown = filter === "all" ? myReports : myReports.filter((u) => u.id === filter);
    const allKeys = Object.keys(submittedWeeks || {}).filter((k) => shown.some((u) => k.startsWith(u.id + "-")));
    const getHrs = (wk) => {
      let t = 0;
      Object.entries(timeEntries || {}).forEach(([k, v]) => {
        if (k.startsWith(wk + "-")) t += v.hours || 0;
      });
      return t;
    };
    const approve = (wk) => setApprovedWeeks((p) => __spreadProps(__spreadValues({}, p), { [wk]: { approvedAt: (/* @__PURE__ */ new Date()).toISOString(), approvedById: currentUser.id, approvedByName: currentUser.name } }));
    const revoke = (wk) => {
      if (!isSuperAdmin) return;
      setApprovedWeeks((p) => {
        const n = __spreadValues({}, p);
        delete n[wk];
        return n;
      });
    };
    if (!myReports.length) return /* @__PURE__ */ React.createElement("div", { className: "py-16 text-center text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-4xl mb-3" }, "\u{1F465}"), /* @__PURE__ */ React.createElement("div", { className: "font-semibold" }, "No direct reports assigned"), /* @__PURE__ */ React.createElement("div", { className: "text-sm mt-1" }, "Assign in Roles & Managers tab"));
    return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3 mb-4" }, /* @__PURE__ */ React.createElement("select", { value: filter, onChange: (e) => setFilter(e.target.value), className: "border border-slate-200 rounded-lg px-3 py-1.5 text-sm focus:outline-none bg-white" }, /* @__PURE__ */ React.createElement("option", { value: "all" }, "All (", myReports.length, ")"), myReports.map((u) => /* @__PURE__ */ React.createElement("option", { key: u.id, value: u.id }, u.name))), /* @__PURE__ */ React.createElement("span", { className: "text-sm text-slate-500" }, allKeys.filter((k) => !approvedWeeks[k]).length, " pending \xB7 ", allKeys.filter((k) => !!approvedWeeks[k]).length, " approved")), !allKeys.length ? /* @__PURE__ */ React.createElement("div", { className: "py-12 text-center text-slate-400 text-sm" }, "No submitted timesheets yet") : allKeys.map((wk) => {
      const uid2 = wk.split("-")[0];
      const u = users.find((x) => x.id === uid2);
      if (!u) return null;
      const sub = submittedWeeks[wk];
      const app = approvedWeeks[wk];
      const hrs = getHrs(wk);
      return /* @__PURE__ */ React.createElement("div", { key: wk, className: "bg-white border border-slate-200 rounded-2xl p-4 mb-3 shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-1" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3" }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 8 }), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "font-semibold text-slate-800 text-sm" }, u.name), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, wk.slice(uid2.length + 1), " \xB7 ", hrs.toFixed(1), "h"))), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, app ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("span", { className: "text-xs px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 font-semibold" }, "\u2605 ", app.approvedByName), isSuperAdmin && /* @__PURE__ */ React.createElement("button", { onClick: () => revoke(wk), className: "text-xs text-red-400 hover:text-red-600 px-2 py-1 rounded" }, "Revoke")) : /* @__PURE__ */ React.createElement("button", { onClick: () => approve(wk), className: "text-xs px-3 py-1.5 bg-teal-600 docebo-teal-bg text-white rounded-lg font-semibold hover:bg-teal-700" }, "\u2713 Approve"))), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, "Submitted ", new Date(sub.submittedAt).toLocaleDateString()));
    }));
  }
  function HolidayManagementTab({ holidays, setHolidays }) {
    const [form, setForm] = useState({ name: "", date: "", countries: [] });
    const [fc, setFc] = useState("all");
    const FLAGS = { "US": "\u{1F1FA}\u{1F1F8}", "Canada": "\u{1F1E8}\u{1F1E6}", "Italy": "\u{1F1EE}\u{1F1F9}", "UK": "\u{1F1EC}\u{1F1E7}", "Germany": "\u{1F1E9}\u{1F1EA}" };
    const uid2 = () => Math.random().toString(36).slice(2, 8);
    const toggleC = (c) => setForm((f) => __spreadProps(__spreadValues({}, f), { countries: f.countries.includes(c) ? f.countries.filter((x) => x !== c) : [...f.countries, c] }));
    const valid = form.name.trim() && form.date && form.countries.length > 0;
    const add = () => {
      if (!valid) return;
      setHolidays((h) => [...h, { id: "h_" + uid2(), date: form.date, name: form.name.trim(), countries: form.countries }]);
      setForm({ name: "", date: "", countries: [] });
    };
    const del = (id) => setHolidays((h) => h.filter((x) => x.id !== id));
    const filtered = holidays.filter((h) => fc === "all" || h.countries.includes(fc)).sort((a, b) => a.date.localeCompare(b.date));
    return /* @__PURE__ */ React.createElement("div", { className: "max-w-3xl" }, /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm mb-6" }, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-bold text-slate-800 mb-3" }, "Add Holiday"), /* @__PURE__ */ React.createElement("div", { className: "grid gap-3", style: { gridTemplateColumns: "1fr 160px" } }, /* @__PURE__ */ React.createElement("input", { value: form.name, onChange: (e) => setForm((f) => __spreadProps(__spreadValues({}, f), { name: e.target.value })), placeholder: "Holiday Name", className: "border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400" }), /* @__PURE__ */ React.createElement("input", { type: "date", value: form.date, onChange: (e) => setForm((f) => __spreadProps(__spreadValues({}, f), { date: e.target.value })), className: "border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400" })), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 mt-3" }, Object.entries(FLAGS).map(([c, f]) => /* @__PURE__ */ React.createElement("button", { key: c, onClick: () => toggleC(c), className: `flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold border transition-all ${form.countries.includes(c) ? "border-teal-500 bg-teal-50 docebo-teal-tint text-teal-700" : "border-slate-200 text-slate-600 hover:bg-slate-50"}` }, f, " ", c))), /* @__PURE__ */ React.createElement("button", { onClick: add, disabled: !valid, className: "mt-3 px-4 py-2 bg-teal-600 docebo-teal-bg text-white text-sm font-semibold rounded-xl disabled:opacity-40 hover:bg-teal-700" }, "+ Add")), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3 mb-3" }, /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-700" }, holidays.length, " holidays"), /* @__PURE__ */ React.createElement("select", { value: fc, onChange: (e) => setFc(e.target.value), className: "border border-slate-200 rounded-lg px-2 py-1 text-xs bg-white focus:outline-none" }, /* @__PURE__ */ React.createElement("option", { value: "all" }, "All"), Object.entries(FLAGS).map(([c, f]) => /* @__PURE__ */ React.createElement("option", { key: c, value: c }, f, " ", c)))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "bg-slate-50 text-xs text-slate-500 uppercase border-b border-slate-100" }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-2 text-left" }, "Date"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-2 text-left" }, "Name"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-2 text-left" }, "Countries"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-2 w-10" }))), /* @__PURE__ */ React.createElement("tbody", null, !filtered.length ? /* @__PURE__ */ React.createElement("tr", null, /* @__PURE__ */ React.createElement("td", { colSpan: 4, className: "py-10 text-center text-slate-400 text-sm" }, "No holidays")) : filtered.map((h, i) => /* @__PURE__ */ React.createElement("tr", { key: h.id, className: `border-b border-slate-50 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5 font-mono text-xs text-slate-600" }, h.date), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5 text-sm font-semibold text-slate-800" }, h.name), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5" }, /* @__PURE__ */ React.createElement("div", { className: "flex gap-1 flex-wrap" }, h.countries.map((c) => /* @__PURE__ */ React.createElement("span", { key: c, className: "text-xs px-1.5 py-0.5 rounded-full bg-slate-100 text-slate-600" }, FLAGS[c], " ", c)))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5 text-center" }, /* @__PURE__ */ React.createElement("button", { onClick: () => del(h.id), className: "text-slate-300 hover:text-red-500 text-lg leading-none" }, "\xD7"))))))));
  }
  function IntegrationSettingsTab({ sheetsUrl, onSaveUrl }) {
    const [draft, setDraft] = useState(sheetsUrl || "");
    const [testResult, setTestResult] = useState(null);
    const [testing, setTesting] = useState(false);
    const [saved, setSaved] = useState(false);
    const [copied, setCopied] = useState(false);
    const isWorkspace = draft.includes("/a/macros/");
    const appsScriptCode = `// Apps Script v3 \u2014 DOCEBO PM TOOL
// Deploy: Execute as: Me  |  Who has access: ANYONE (not domain-restricted)
// URL must start with https://script.google.com/macros/s/ (NO /a/ in path)
function doPost(e) {
  try {
    // Reads from URLSearchParams body (or GET redirect params) \u2014 survives 302 redirects
    const raw = e.parameter?.payload || (e.postData ? e.postData.contents : null);
    if (!raw) throw new Error('No payload received');
    const p = JSON.parse(raw);
    const ss = SpreadsheetApp.getActiveSpreadsheet();
    let sh = ss.getSheetByName('PMData') || ss.insertSheet('PMData');
    if (p._ping) return r({ok:true});
    if (typeof p.total==='number') {
      if (p.index===0){sh.clearContents();sh.getRange(1,1).setValue(p.total);}
      sh.getRange(1,p.index+2).setValue(p.chunk);
    } else { sh.clearContents(); sh.getRange(1,1).setValue(JSON.stringify(p)); }
    return r({ok:true});
  } catch(e){return r({error:e.toString()});}
}
function doGet(){
  try {
    const sh=SpreadsheetApp.getActiveSpreadsheet().getSheetByName('PMData');
    if(!sh||sh.getLastRow()===0) return r(null);
    const n=parseInt(String(sh.getRange(1,1).getValue()),10);
    if(!isNaN(n)&&n>0){let d='';for(let i=0;i<n;i++)d+=String(sh.getRange(1,i+2).getValue());return ContentService.createTextOutput(d).setMimeType(ContentService.MimeType.JSON);}
    return r(null);
  }catch(e){return r(null);}
}
function r(o){return ContentService.createTextOutput(JSON.stringify(o)).setMimeType(ContentService.MimeType.JSON);}`;
    const test = async () => {
      setTesting(true);
      setTestResult(null);
      const out = [];
      try {
        const raw = localStorage.getItem("pm-tool-v5");
        if (raw) {
          const d = JSON.parse(raw);
          out.push({ ok: true, label: "Local Storage", msg: `\u2713 Data found \u2014 ${(d.tasks || []).length} tasks, ${(d.users || []).length} users` });
        } else {
          out.push({ ok: false, label: "Local Storage", msg: "No saved data found yet \u2014 click Save to store data" });
        }
      } catch (e) {
        out.push({ ok: false, label: "Local Storage", msg: "Error: " + e.message });
      }
      setTestResult(out);
      setTesting(false);
    };
    return /* @__PURE__ */ React.createElement("div", { className: "max-w-2xl" }, isWorkspace && /* @__PURE__ */ React.createElement("div", { className: "flex items-start gap-3 px-5 py-4 rounded-2xl border border-red-200 bg-red-50 mb-5" }, /* @__PURE__ */ React.createElement("span", { className: "text-2xl" }, "\u{1F6AB}"), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-bold text-red-900" }, "Workspace-Restricted URL \u2014 Writes Are Blocked"), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-red-700 mt-1.5 space-y-1" }, /* @__PURE__ */ React.createElement("div", null, "Your URL contains ", /* @__PURE__ */ React.createElement("code", { className: "bg-red-100 px-1 rounded font-mono" }, "/a/macros/docebo.com/"), " \u2014 Google's auth proxy intercepts the POST before it reaches your Apps Script, so ", /* @__PURE__ */ React.createElement("strong", null, "nothing is written to PMData"), "."), /* @__PURE__ */ React.createElement("div", { className: "font-semibold mt-2" }, "To fix \u2014 redeploy in 3 steps:"), /* @__PURE__ */ React.createElement("ol", { className: "list-decimal list-inside space-y-0.5 ml-1" }, /* @__PURE__ */ React.createElement("li", null, "Google Sheet \u2192 Extensions \u2192 Apps Script"), /* @__PURE__ */ React.createElement("li", null, "Deploy \u2192 Manage Deployments \u2192 pencil icon \u2192 change ", /* @__PURE__ */ React.createElement("strong", null, '"Who has access"'), " to ", /* @__PURE__ */ React.createElement("strong", null, '"Anyone"'), " \u2192 New version \u2192 Deploy"), /* @__PURE__ */ React.createElement("li", null, "Copy the new URL (starts with ", /* @__PURE__ */ React.createElement("code", { className: "bg-red-100 px-1 rounded font-mono" }, "/macros/s/"), ", no ", /* @__PURE__ */ React.createElement("em", null, "/a/"), ") \u2192 paste below \u2192 Save"))))), /* @__PURE__ */ React.createElement("div", { className: `flex items-center gap-3 px-5 py-4 rounded-2xl border mb-5 ${!isWorkspace && sheetsUrl ? "bg-green-50 border-green-200" : "bg-slate-50 border-slate-200"}` }, /* @__PURE__ */ React.createElement("div", { className: `w-3 h-3 rounded-full ${!isWorkspace && sheetsUrl ? "bg-green-500" : "bg-slate-300"}` }), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-semibold text-slate-700" }, !isWorkspace && sheetsUrl ? "\u2713 Sync active" : "Sync inactive or URL needs update"), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, !isWorkspace && sheetsUrl ? "Reads: Sheets API v4  \xB7  Writes: Apps Script POST  \xB7  Backup: localStorage" : "Data saved to browser only until a valid URL is configured"))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm space-y-4" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("label", { className: "block text-xs font-semibold text-slate-500 uppercase mb-1" }, "Apps Script Web App URL"), /* @__PURE__ */ React.createElement("div", { className: "flex gap-2 flex-wrap" }, /* @__PURE__ */ React.createElement("input", { value: draft, onChange: (e) => setDraft(e.target.value), placeholder: "https://script.google.com/macros/s/\u2026/exec", className: "flex-1 border border-slate-200 rounded-lg px-3 py-2 text-xs font-mono focus:outline-none focus:ring-2 focus:ring-teal-400 min-w-0" }), /* @__PURE__ */ React.createElement("button", { onClick: test, disabled: testing, className: "px-3 py-2 text-sm font-semibold border border-slate-200 rounded-lg text-slate-600 hover:bg-slate-50 disabled:opacity-40" }, testing ? "\u2026" : "Test"), /* @__PURE__ */ React.createElement("button", { onClick: () => {
      onSaveUrl(draft.trim());
      setSaved(true);
      setTimeout(() => setSaved(false), 2e3);
    }, className: `px-4 py-2 text-sm font-semibold rounded-lg ${saved ? "bg-green-600 text-white" : "bg-teal-600 docebo-teal-bg text-white hover:bg-teal-700"}` }, saved ? "\u2713 Saved" : "Save"), sheetsUrl && /* @__PURE__ */ React.createElement("button", { onClick: () => {
      setDraft("");
      onSaveUrl("");
    }, className: "px-3 py-2 text-sm text-red-500 hover:bg-red-50 border border-slate-200 rounded-lg" }, "Clear"))), testResult && /* @__PURE__ */ React.createElement("div", { className: "space-y-2" }, testResult.map((r, i) => /* @__PURE__ */ React.createElement("div", { key: i, className: `rounded-xl px-4 py-3 flex items-start gap-2 border ${r.ok === true ? "bg-green-50 border-green-200 text-green-800" : r.ok === false ? "bg-red-50 border-red-200 text-red-800" : "bg-amber-50 border-amber-200 text-amber-800"}` }, /* @__PURE__ */ React.createElement("span", { className: "font-bold text-xs pt-0.5 flex-shrink-0 w-36" }, r.label), /* @__PURE__ */ React.createElement("span", { className: "text-xs" }, r.msg)))), /* @__PURE__ */ React.createElement("div", { className: "border-t border-slate-100 pt-4" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-2" }, /* @__PURE__ */ React.createElement("span", { className: "text-xs font-semibold text-slate-700" }, "Apps Script v3 Code"), /* @__PURE__ */ React.createElement("button", { onClick: () => {
      var _a;
      (_a = navigator.clipboard) == null ? void 0 : _a.writeText(appsScriptCode);
      setCopied(true);
      setTimeout(() => setCopied(false), 2e3);
    }, className: `text-xs px-3 py-1 rounded-lg font-semibold ${copied ? "bg-green-600 text-white" : "bg-slate-900 text-white hover:bg-slate-700"}` }, copied ? "\u2713 Copied!" : "Copy")), /* @__PURE__ */ React.createElement("pre", { className: "bg-slate-900 text-green-400 rounded-xl p-3 overflow-x-auto overflow-y-auto text-xs leading-relaxed", style: { maxHeight: "200px", fontFamily: "monospace", fontSize: "10px" } }, appsScriptCode))));
  }
  function ReportsView({ projects, tasks, users, timeEntries, weeklyRows, healthReports }) {
    const [activeReport, setActiveReport] = useState("utilization");
    const REPORTS = [
      { id: "utilization", label: "Resource Utilization", icon: "\u{1F464}", cat: "Required" },
      { id: "completion", label: "% Completion (Finance)", icon: "\u{1F4B0}", cat: "Required" },
      { id: "pshours", label: "PS Hours Burn", icon: "\u{1F525}", cat: "Required" },
      { id: "stale", label: "Stale Projects", icon: "\u26A0\uFE0F", cat: "Required" },
      { id: "health", label: "Health Summary", icon: "\u{1F3E5}", cat: "Suggested", desc: "Executive roll-up of all project health statuses" },
      { id: "milestone", label: "Upcoming Milestones", icon: "\u{1F3AF}", cat: "Suggested", desc: "Milestones due in next 90 days" },
      { id: "risk", label: "At-Risk Tasks", icon: "\u{1F6A8}", cat: "Suggested", desc: "Overdue & blocked tasks needing action" },
      { id: "capacity", label: "Capacity Forecast", icon: "\u{1F4C5}", cat: "Suggested", desc: "Who has bandwidth in upcoming weeks" },
      { id: "velocity", label: "Team Velocity", icon: "\u26A1", cat: "Suggested", desc: "Hours logged per week trend" },
      { id: "budget", label: "Budget vs Actual", icon: "\u{1F4B5}", cat: "Suggested", desc: "Estimated vs logged hours per project" }
    ];
    const userLoggedHours = useMemo(() => {
      const map = {};
      Object.entries(timeEntries || {}).forEach(([key, entry]) => {
        const uid2 = key.split("-")[0];
        map[uid2] = (map[uid2] || 0) + (entry.hours || 0);
      });
      return map;
    }, [timeEntries]);
    const taskLoggedHours = useMemo(() => {
      const map = {};
      Object.entries(weeklyRows || {}).forEach(([weekKey, rows]) => {
        (rows || []).forEach((row) => {
          if (!row.taskId) return;
          Object.entries(timeEntries || {}).forEach(([teKey, entry]) => {
            if (teKey.startsWith(`${weekKey}-${row.id}-`)) {
              map[row.taskId] = (map[row.taskId] || 0) + (entry.hours || 0);
            }
          });
        });
      });
      return map;
    }, [weeklyRows, timeEntries]);
    const projectLoggedHours = useMemo(() => {
      const map = {};
      Object.entries(weeklyRows || {}).forEach(([weekKey, rows]) => {
        (rows || []).forEach((row) => {
          if (!row.projectId) return;
          Object.entries(timeEntries || {}).forEach(([teKey, entry]) => {
            if (teKey.startsWith(`${weekKey}-${row.id}-`)) {
              map[row.projectId] = (map[row.projectId] || 0) + (entry.hours || 0);
            }
          });
        });
      });
      return map;
    }, [weeklyRows, timeEntries]);
    const weeklyTrend = useMemo(() => {
      const map = {};
      Object.entries(weeklyRows || {}).forEach(([weekKey, rows]) => {
        const weekStart = weekKey.split("-").slice(1).join("-");
        (rows || []).forEach((row) => {
          Object.entries(timeEntries || {}).forEach(([teKey, entry]) => {
            if (teKey.startsWith(`${weekKey}-${row.id}-`)) {
              map[weekStart] = (map[weekStart] || 0) + (entry.hours || 0);
            }
          });
        });
      });
      return Object.entries(map).sort(([a], [b]) => a.localeCompare(b)).slice(-12);
    }, [weeklyRows, timeEntries]);
    function ResourceUtilizationReport() {
      const staff = users.filter((u) => !u.isClient);
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 p-3 bg-blue-50 border border-blue-200 rounded-xl text-xs text-blue-800" }, /* @__PURE__ */ React.createElement("strong", null, "How to read:"), " Utilization = Hours Logged \xF7 Estimated Hours on assigned tasks. Below 75% may indicate under-allocation; above 100% signals potential burnout risk."), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Resource"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Type"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Role / Org"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Tasks"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Est. Hrs"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Logged"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left w-52" }, "Utilization"))), /* @__PURE__ */ React.createElement("tbody", null, staff.map((u, i) => {
        const logged = userLoggedHours[u.id] || 0;
        const myTasks = tasks.filter((t) => (t.assigneeIds || []).includes(u.id));
        const est = myTasks.reduce((s, t) => s + (t.estimatedHours || 0), 0);
        const pct = est > 0 ? Math.min(200, Math.round(logged / est * 100)) : logged > 0 ? 100 : null;
        const barW = Math.min(100, pct || 0);
        const barCls = pct === null ? "bg-slate-200" : pct >= 100 ? "bg-red-500" : pct >= 75 ? "bg-green-500" : "bg-amber-400";
        const pctCls = pct === null ? "text-slate-300" : pct >= 100 ? "text-red-600" : pct >= 75 ? "text-green-600" : "text-amber-600";
        const typeTag = u.isPartner ? { l: "Partner", cls: "bg-emerald-100 text-emerald-700" } : null;
        return /* @__PURE__ */ React.createElement("tr", { key: u.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 7 }), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-semibold text-slate-800" }, u.name), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, u.email)))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, typeTag ? /* @__PURE__ */ React.createElement("span", { className: `text-xs px-2 py-0.5 rounded-full font-semibold ${typeTag.cls}` }, typeTag.l) : /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400" }, "Internal")), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-600 font-medium" }, u.role), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400" }, u.org)), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono" }, myTasks.length), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono" }, est > 0 ? est + "h" : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono font-semibold text-teal-700" }, logged > 0 ? fmtHrs(logged) : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, pct !== null ? /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "flex-1 bg-slate-100 rounded-full h-2.5" }, /* @__PURE__ */ React.createElement("div", { className: `h-2.5 rounded-full ${barCls}`, style: { width: `${barW}%` } })), /* @__PURE__ */ React.createElement("span", { className: `text-xs font-bold font-mono w-12 ${pctCls}` }, pct, "%", pct >= 100 ? " \u26A0" : "")) : /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-300" }, "No data")));
      })))), /* @__PURE__ */ React.createElement("div", { className: "mt-3 flex gap-6 text-xs" }, [["bg-green-500", "75\u2013100% (Optimal)"], ["bg-amber-400", "<75% (Under-allocated)"], ["bg-red-500", ">100% (Over-allocated)"]].map(([cls, lbl]) => /* @__PURE__ */ React.createElement("span", { key: lbl, className: "flex items-center gap-1.5 text-slate-500" }, /* @__PURE__ */ React.createElement("span", { className: `w-3 h-3 rounded-full inline-block ${cls}` }), lbl))));
    }
    function CompletionReport() {
      const rows = projects.filter((p) => p.status !== "Archived").map((p) => {
        const ptasks = tasks.filter((t) => t.projectId === p.id);
        const estTotal = ptasks.reduce((s, t) => s + (t.estimatedHours || 0), 0);
        const weighted = estTotal > 0 ? Math.round(ptasks.reduce((s, t) => s + (t.percentDone || 0) / 100 * (t.estimatedHours || 0), 0) / estTotal * 100) : ptasks.length > 0 ? Math.round(ptasks.filter((t) => t.status === "Completed").length / ptasks.length * 100) : 0;
        const loggedH = projectLoggedHours[p.id] || 0;
        const pm = users.find((u) => u.id === p.pmId);
        return { p, ptasks, estTotal, weighted, loggedH, pm };
      });
      const totalEst = rows.reduce((s, r) => s + r.estTotal, 0);
      const totalLogged = rows.reduce((s, r) => s + r.loggedH, 0);
      const totalWtd = totalEst > 0 ? Math.round(rows.reduce((s, r) => s + r.weighted / 100 * r.estTotal, 0) / totalEst * 100) : 0;
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 p-3 bg-green-50 border border-green-200 rounded-xl text-xs text-green-800" }, /* @__PURE__ */ React.createElement("strong", null, "Finance \u2014 Revenue Recognition:"), " Weighted % Complete = \u03A3(task % done \xD7 estimated hours) \xF7 \u03A3(estimated hours). This gives a proportional completion figure suitable for percentage-of-completion revenue recognition."), /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-3 gap-3 mb-4" }, [
        { l: "Active Projects", v: rows.length, cls: "text-slate-800" },
        { l: "Total Est. Hours", v: totalEst + "h", cls: "text-teal-700" },
        { l: "Blended Completion", v: totalWtd + "%", cls: totalWtd >= 75 ? "text-green-600" : totalWtd >= 50 ? "text-amber-600" : "text-red-600" }
      ].map(({ l, v, cls }) => /* @__PURE__ */ React.createElement("div", { key: l, className: "bg-white border border-slate-200 rounded-xl px-4 py-3 text-center shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: `text-2xl font-bold ${cls}` }, v), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500 mt-0.5" }, l)))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Project"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "PM"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Status"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Tasks"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Est. Hrs"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Logged Hrs"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left w-52" }, "% Complete"))), /* @__PURE__ */ React.createElement("tbody", null, rows.map(({ p, ptasks, estTotal, weighted, loggedH, pm }, i) => {
        const barCls = weighted >= 100 ? "bg-green-500" : weighted >= 75 ? "bg-teal-500" : weighted >= 50 ? "bg-blue-400" : "bg-slate-300";
        return /* @__PURE__ */ React.createElement("tr", { key: p.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "w-3 h-3 rounded-full flex-shrink-0", style: { background: p.color } }), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-800" }, p.name))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, pm && /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement(Avatar, { user: pm, size: 5 }), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-600" }, pm.name))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement(StatusBadge, { status: p.status })), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono" }, ptasks.length), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono" }, estTotal > 0 ? estTotal + "h" : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono font-semibold text-teal-700" }, loggedH > 0 ? fmtHrs(loggedH) : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "flex-1 bg-slate-100 rounded-full h-3" }, /* @__PURE__ */ React.createElement("div", { className: `h-3 rounded-full ${barCls}`, style: { width: `${weighted}%` } })), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-bold font-mono w-12 text-slate-800" }, weighted, "%"))));
      })), /* @__PURE__ */ React.createElement("tfoot", null, /* @__PURE__ */ React.createElement("tr", { className: "bg-slate-50 border-t-2 border-slate-300 font-semibold" }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5 text-xs font-bold text-slate-600 uppercase", colSpan: 4 }, "Portfolio Total"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5 text-right text-sm font-mono" }, totalEst, "h"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5 text-right text-sm font-mono text-teal-700" }, totalLogged > 0 ? fmtHrs(totalLogged) : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-2.5" }, /* @__PURE__ */ React.createElement("span", { className: "text-sm font-bold font-mono text-slate-800" }, totalWtd, "%"), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400 ml-2" }, "blended")))))));
    }
    function PSHoursBurnReport() {
      const psTasks = tasks.filter((t) => /ps\s*hours?/i.test(t.title));
      const rows = psTasks.map((t) => {
        const proj = projects.find((p) => p.id === t.projectId);
        const budget = t.estimatedHours || 0;
        const burned = taskLoggedHours[t.id] || 0;
        const remain = Math.max(0, budget - burned);
        const pct = budget > 0 ? Math.round(burned / budget * 100) : burned > 0 ? 100 : 0;
        const loggers = [];
        Object.entries(weeklyRows || {}).forEach(([wk, rowArr]) => {
          (rowArr || []).forEach((row) => {
            if (row.taskId !== t.id) return;
            const uid2 = wk.split("-")[0];
            let hrs = 0;
            Object.entries(timeEntries || {}).forEach(([k, e]) => {
              if (k.startsWith(`${wk}-${row.id}-`)) hrs += e.hours || 0;
            });
            if (hrs > 0) {
              const u = users.find((x) => x.id === uid2);
              loggers.push({ u, hrs });
            }
          });
        });
        return { t, proj, budget, burned, remain, pct, loggers };
      });
      const totBudget = rows.reduce((s, r) => s + r.budget, 0);
      const totBurned = rows.reduce((s, r) => s + r.burned, 0);
      const totRemain = rows.reduce((s, r) => s + r.remain, 0);
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 p-3 bg-orange-50 border border-orange-200 rounded-xl text-xs text-orange-800" }, /* @__PURE__ */ React.createElement("strong", null, "PS Hours Burn:"), ' Tracks tasks named "PS Hours" (or similar). ', /* @__PURE__ */ React.createElement("em", null, "Burned"), " = actual hours logged by resources against this task via timesheets.", /* @__PURE__ */ React.createElement("em", null, " Remaining"), " = Budgeted \u2212 Burned. Red indicates over-budget."), rows.length === 0 ? /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl py-16 text-center text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-4xl mb-2" }, "\u{1F525}"), /* @__PURE__ */ React.createElement("div", { className: "font-medium" }, 'No "PS Hours" tasks found'), /* @__PURE__ */ React.createElement("div", { className: "text-sm mt-1" }, 'Create tasks with "PS Hours" in the title, then log time against them.')) : /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-3 gap-3 mb-4" }, [
        { l: "Total Budgeted", v: totBudget + "h", cls: "text-slate-800" },
        { l: "Total Burned", v: fmtHrs(totBurned), cls: "text-red-600" },
        { l: "Total Remaining", v: totRemain.toFixed(1) + "h", cls: totRemain > 0 ? "text-green-600" : "text-red-600" }
      ].map(({ l, v, cls }) => /* @__PURE__ */ React.createElement("div", { key: l, className: "bg-white border border-slate-200 rounded-xl px-4 py-3 text-center shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: `text-2xl font-bold ${cls}` }, v), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-500 mt-0.5" }, l)))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Project"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "PS Hours Task"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Status"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Budget"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Burned (Actual)"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Remaining"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left w-44" }, "Burn %"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Who Logged"))), /* @__PURE__ */ React.createElement("tbody", null, rows.map(({ t, proj, budget, burned, remain, pct, loggers }, i) => {
        const over = pct > 100;
        const barCls = over ? "bg-red-500" : pct >= 85 ? "bg-amber-500" : pct >= 50 ? "bg-blue-500" : "bg-green-500";
        return /* @__PURE__ */ React.createElement("tr", { key: t.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""} ${over ? "bg-red-50/30" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement("div", { className: "w-2.5 h-2.5 rounded-full flex-shrink-0", style: { background: (proj == null ? void 0 : proj.color) || "#94a3b8" } }), /* @__PURE__ */ React.createElement("span", { className: "text-xs font-semibold text-slate-700 truncate max-w-28" }, (proj == null ? void 0 : proj.name) || "\u2014"))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-sm text-slate-700" }, /* @__PURE__ */ React.createElement("div", { className: "truncate max-w-36" }, t.title)), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement(StatusBadge, { status: t.status })), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono" }, budget > 0 ? budget + "h" : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono font-semibold text-teal-700" }, burned > 0 ? fmtHrs(burned) : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: `px-4 py-3 text-right text-sm font-mono font-bold ${over ? "text-red-600 animate-pulse" : remain <= 0 ? "text-slate-400" : "text-green-700"}` }, over ? "OVER BUDGET" : remain > 0 ? remain.toFixed(1) + "h" : "0h"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement("div", { className: "flex-1 bg-slate-100 rounded-full h-2.5 min-w-16" }, /* @__PURE__ */ React.createElement("div", { className: `h-2.5 rounded-full ${barCls}`, style: { width: `${Math.min(100, pct)}%` } })), /* @__PURE__ */ React.createElement("span", { className: `text-xs font-bold font-mono w-10 ${over ? "text-red-600" : "text-slate-700"}` }, pct, "%"))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex -space-x-1" }, loggers.slice(0, 4).map(({ u, hrs }, li) => u && /* @__PURE__ */ React.createElement("div", { key: li, title: `${u.name}: ${fmtHrs(hrs)}` }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 6 }))), loggers.length === 0 && /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-300 italic" }, "none yet"))));
      })), /* @__PURE__ */ React.createElement("tfoot", null, /* @__PURE__ */ React.createElement("tr", { className: "bg-slate-50 border-t-2 border-slate-200 font-semibold" }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-xs uppercase text-slate-600", colSpan: 3 }, "Totals"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono" }, totBudget, "h"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono text-teal-700" }, fmtHrs(totBurned)), /* @__PURE__ */ React.createElement("td", { className: `px-4 py-3 text-right text-sm font-mono font-bold ${totRemain <= 0 ? "text-red-600" : "text-green-700"}` }, totRemain.toFixed(1), "h"), /* @__PURE__ */ React.createElement("td", { colSpan: 2 })))))));
    }
    function StaleProjectsReport() {
      const cutoff = /* @__PURE__ */ new Date();
      cutoff.setFullYear(cutoff.getFullYear() - 1);
      const cutoffStr = cutoff.toISOString().slice(0, 10);
      const stale = projects.filter((p) => p.status !== "Archived").map((p) => {
        const ko = tasks.find((t) => t.projectId === p.id && /kick[\s-]?off|kickoff/i.test(t.title));
        return { p, ko };
      }).filter(({ ko }) => ko && (ko.startDate || ko.dueDate || "") < cutoffStr).sort((a, b) => (a.ko.startDate || "").localeCompare(b.ko.startDate || ""));
      const daysDiff = (d) => d ? Math.floor((/* @__PURE__ */ new Date() - /* @__PURE__ */ new Date(d + "T12:00:00")) / 864e5) : null;
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 p-3 bg-amber-50 border border-amber-200 rounded-xl text-xs text-amber-800" }, /* @__PURE__ */ React.createElement("strong", null, "Stale Projects:"), " Projects where the Kick-off task date is more than 1 year ago and the project is still active. These likely need review, escalation, or archiving."), stale.length === 0 ? /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl py-16 text-center text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-4xl mb-2" }, "\u2713"), /* @__PURE__ */ React.createElement("div", { className: "font-medium" }, "No stale projects"), /* @__PURE__ */ React.createElement("div", { className: "text-sm mt-1" }, "All active projects kicked off within the last year")) : /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "px-4 py-3 bg-amber-50 border-b border-amber-200 flex items-center gap-2" }, /* @__PURE__ */ React.createElement("span", { className: "text-amber-600 font-bold text-lg" }, "\u26A0"), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-amber-800" }, stale.length, " stale project", stale.length > 1 ? "s" : "", " detected \u2014 action recommended")), /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Project"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Status"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "PM"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Kick-off Task"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Kick-off Date"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Days Elapsed"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Recommendation"))), /* @__PURE__ */ React.createElement("tbody", null, stale.map(({ p, ko }, i) => {
        const kd = ko.startDate || ko.dueDate || "";
        const days = daysDiff(kd);
        const pm = users.find((u) => u.id === p.pmId);
        const rec = days > 730 ? "\u{1F534} Archive or escalate immediately" : days > 545 ? "\u{1F7E0} Schedule exec review" : "\u{1F7E1} Review within 30 days";
        return /* @__PURE__ */ React.createElement("tr", { key: p.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "w-3 h-3 rounded-full", style: { background: p.color } }), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-800" }, p.name))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement(StatusBadge, { status: p.status })), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, pm && /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1" }, /* @__PURE__ */ React.createElement(Avatar, { user: pm, size: 5 }), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-600" }, pm.name))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-xs text-slate-600 max-w-40" }, /* @__PURE__ */ React.createElement("div", { className: "truncate" }, ko.title)), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono text-slate-700" }, kd), /* @__PURE__ */ React.createElement("td", { className: `px-4 py-3 text-right text-sm font-mono font-bold ${days > 730 ? "text-red-600" : days > 365 ? "text-amber-600" : "text-slate-700"}` }, days !== null ? `${days}d` : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-xs" }, rec));
      })))), /* @__PURE__ */ React.createElement("div", { className: "mt-3 text-xs text-slate-400" }, 'Kick-off tasks matched by title containing "kick-off", "kickoff", or "kick off" (case-insensitive).'));
    }
    function HealthSummaryReport() {
      const rows = projects.filter((p) => p.status !== "Archived").map((p) => {
        const rpts = (healthReports[p.id] || []).slice().sort((a, b) => b.date.localeCompare(a.date));
        return { p, latest: rpts[0] || null, count: rpts.length };
      });
      const ORDER = { "Off Track": 0, "At Risk": 1, "On Track": 2 };
      rows.sort((a, b) => {
        var _a, _b, _c, _d;
        return ((_b = ORDER[(_a = a.latest) == null ? void 0 : _a.status]) != null ? _b : 3) - ((_d = ORDER[(_c = b.latest) == null ? void 0 : _c.status]) != null ? _d : 3);
      });
      const offTrack = rows.filter((r) => {
        var _a;
        return ((_a = r.latest) == null ? void 0 : _a.status) === "Off Track";
      }).length;
      const atRisk = rows.filter((r) => {
        var _a;
        return ((_a = r.latest) == null ? void 0 : _a.status) === "At Risk";
      }).length;
      const onTrack = rows.filter((r) => {
        var _a;
        return ((_a = r.latest) == null ? void 0 : _a.status) === "On Track";
      }).length;
      const noReport = rows.filter((r) => !r.latest).length;
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "grid grid-cols-4 gap-3 mb-4" }, [[offTrack, "Off Track", "bg-red-50 border-red-200 text-red-700"], [atRisk, "At Risk", "bg-amber-50 border-amber-200 text-amber-700"], [onTrack, "On Track", "bg-green-50 border-green-200 text-green-700"], [noReport, "No Report", "bg-slate-50 border-slate-200 text-slate-500"]].map(([v, l, cls]) => /* @__PURE__ */ React.createElement("div", { key: l, className: `border rounded-xl px-3 py-3 text-center ${cls}` }, /* @__PURE__ */ React.createElement("div", { className: "text-2xl font-bold" }, v), /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold mt-0.5" }, l)))), /* @__PURE__ */ React.createElement("div", { className: "grid gap-3" }, rows.map(({ p, latest, count }) => /* @__PURE__ */ React.createElement("div", { key: p.id, className: "bg-white border border-slate-200 rounded-2xl p-4 shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between gap-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "w-3 h-3 rounded-full flex-shrink-0", style: { background: p.color } }), /* @__PURE__ */ React.createElement("span", { className: "font-bold text-slate-900 truncate" }, p.name)), latest ? /* @__PURE__ */ React.createElement(HealthStatusBadge, { s: latest.status }) : /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400 px-2 py-1 border border-slate-200 rounded-full" }, "No report yet")), latest && /* @__PURE__ */ React.createElement("div", { className: "mt-3 grid grid-cols-2 gap-3 text-xs" }, [{ k: "summary", l: "Summary" }, { k: "schedule", l: "Schedule" }, { k: "scope", l: "Scope" }, { k: "relationship", l: "Client Relationship" }].map(
        ({ k, l }) => latest[k] ? /* @__PURE__ */ React.createElement("div", { key: k }, /* @__PURE__ */ React.createElement("div", { className: "font-semibold text-slate-400 uppercase tracking-wide mb-0.5" }, l), /* @__PURE__ */ React.createElement("div", { className: "text-slate-600 line-clamp-2" }, latest[k])) : null
      ), /* @__PURE__ */ React.createElement("div", { className: "col-span-2 text-slate-400" }, latest.date, " \xB7 ", latest.submittedByName, " \xB7 ", count, " report", count !== 1 ? "s" : ""))))));
    }
    function UpcomingMilestonesReport() {
      const in90 = /* @__PURE__ */ new Date();
      in90.setDate(in90.getDate() + 90);
      const milestones = tasks.filter((t) => t.type === "milestone" && t.status !== "Completed" && t.dueDate && t.dueDate <= in90.toISOString().slice(0, 10)).sort((a, b) => a.dueDate.localeCompare(b.dueDate));
      const daysTil = (d) => Math.ceil((/* @__PURE__ */ new Date(d + "T12:00:00") - /* @__PURE__ */ new Date()) / 864e5);
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 text-sm text-slate-500" }, "All incomplete milestones due in the next 90 days."), milestones.length === 0 ? /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl py-16 text-center text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-4xl mb-2" }, "\u{1F3AF}"), /* @__PURE__ */ React.createElement("div", null, "No milestones due soon")) : /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Milestone"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Project"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Due"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Days Away"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Assigned"))), /* @__PURE__ */ React.createElement("tbody", null, milestones.map((t, i) => {
        const proj = projects.find((p) => p.id === t.projectId);
        const d = daysTil(t.dueDate);
        const ov = d < 0;
        const soon = d <= 14;
        return /* @__PURE__ */ React.createElement("tr", { key: t.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("span", { className: "text-amber-500" }, "\u{1F3AF}"), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-800" }, t.title))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement("div", { className: "w-2 h-2 rounded-full", style: { background: (proj == null ? void 0 : proj.color) || "#94a3b8" } }), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-600" }, (proj == null ? void 0 : proj.name) || "\u2014"))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono text-slate-700" }, t.dueDate), /* @__PURE__ */ React.createElement("td", { className: `px-4 py-3 text-right text-sm font-mono font-bold ${ov ? "text-red-600" : soon ? "text-amber-600" : "text-slate-600"}` }, ov ? `${Math.abs(d)}d overdue` : d === 0 ? "Today" : `${d}d`), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex -space-x-1" }, (t.assigneeIds || []).slice(0, 3).map((uid2) => {
          const u = users.find((x) => x.id === uid2);
          return u ? /* @__PURE__ */ React.createElement(Avatar, { key: uid2, user: u, size: 6 }) : null;
        }))));
      })))));
    }
    function AtRiskTasksReport() {
      const overdue = tasks.filter((t) => t.status !== "Completed" && t.dueDate && t.dueDate < todayStr).sort((a, b) => a.dueDate.localeCompare(b.dueDate));
      const blocked = tasks.filter((t) => t.status === "Blocked");
      const mkRow = (t, i) => {
        const proj = projects.find((p) => p.id === t.projectId);
        const days = Math.floor((/* @__PURE__ */ new Date() - /* @__PURE__ */ new Date(t.dueDate + "T12:00:00")) / 864e5);
        return /* @__PURE__ */ React.createElement("tr", { key: t.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-sm font-semibold text-slate-800 max-w-52" }, /* @__PURE__ */ React.createElement("div", { className: "truncate" }, t.title)), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-xs text-slate-500" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-1.5" }, /* @__PURE__ */ React.createElement("div", { className: "w-2 h-2 rounded-full", style: { background: (proj == null ? void 0 : proj.color) || "#94a3b8" } }), (proj == null ? void 0 : proj.name) || "\u2014")), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono text-slate-600" }, t.dueDate), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono font-bold text-red-600" }, days, "d"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex -space-x-1" }, (t.assigneeIds || []).slice(0, 3).map((uid2) => {
          const u = users.find((x) => x.id === uid2);
          return u ? /* @__PURE__ */ React.createElement(Avatar, { key: uid2, user: u, size: 6 }) : null;
        }))));
      };
      return /* @__PURE__ */ React.createElement("div", { className: "space-y-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-bold text-slate-700 mb-3" }, "Overdue Tasks ", /* @__PURE__ */ React.createElement("span", { className: "text-red-500 font-normal" }, "(", overdue.length, ")")), !overdue.length ? /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl py-8 text-center text-slate-400 text-sm" }, "\u2713 No overdue tasks") : /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Task"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Project"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Due"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Days Over"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Assigned"))), /* @__PURE__ */ React.createElement("tbody", null, overdue.map(mkRow))))), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-bold text-slate-700 mb-3" }, "Blocked Tasks ", /* @__PURE__ */ React.createElement("span", { className: "text-amber-500 font-normal" }, "(", blocked.length, ")")), !blocked.length ? /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl py-8 text-center text-slate-400 text-sm" }, "\u2713 No blocked tasks") : /* @__PURE__ */ React.createElement("div", { className: "grid gap-2" }, blocked.map((t) => {
        const proj = projects.find((p) => p.id === t.projectId);
        return /* @__PURE__ */ React.createElement("div", { key: t.id, className: "bg-white border border-amber-200 rounded-xl px-4 py-3 flex items-center gap-3" }, /* @__PURE__ */ React.createElement("span", { className: "text-amber-500 text-lg" }, "\u{1F6A7}"), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "text-sm font-semibold text-slate-800 truncate" }, t.title), /* @__PURE__ */ React.createElement("div", { className: "text-xs text-slate-400 flex items-center gap-1 mt-0.5" }, /* @__PURE__ */ React.createElement("div", { className: "w-2 h-2 rounded-full", style: { background: (proj == null ? void 0 : proj.color) || "#94a3b8" } }), (proj == null ? void 0 : proj.name) || "\u2014")), /* @__PURE__ */ React.createElement("div", { className: "flex -space-x-1" }, (t.assigneeIds || []).slice(0, 3).map((uid2) => {
          const u = users.find((x) => x.id === uid2);
          return u ? /* @__PURE__ */ React.createElement(Avatar, { key: uid2, user: u, size: 6 }) : null;
        })));
      }))));
    }
    function CapacityForecastReport() {
      const staff = users.filter((u) => !u.isClient);
      const today2 = /* @__PURE__ */ new Date();
      const weeks = Array.from({ length: 6 }, (_, i) => {
        const d = new Date(today2);
        d.setDate(d.getDate() + i * 7 - (d.getDay() === 0 ? 6 : d.getDay() - 1));
        return d.toISOString().slice(0, 10);
      });
      const openByUserWeek = (uid2, ws) => {
        const we = addDays(ws, 6);
        return tasks.filter((t) => (t.assigneeIds || []).includes(uid2) && t.status !== "Completed" && t.dueDate && t.dueDate >= ws && t.dueDate <= we).length;
      };
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 text-sm text-slate-500" }, "Open tasks due per person in each of the next 6 weeks. High counts may indicate overcommitment."), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Resource"), weeks.map((w) => /* @__PURE__ */ React.createElement("th", { key: w, className: "px-3 py-3 text-center", style: { minWidth: 80 } }, fmtShort(w))))), /* @__PURE__ */ React.createElement("tbody", null, staff.map((u, i) => /* @__PURE__ */ React.createElement("tr", { key: u.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement(Avatar, { user: u, size: 6 }), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-medium text-slate-800" }, u.name))), weeks.map((w) => {
        const n = openByUserWeek(u.id, w);
        return /* @__PURE__ */ React.createElement("td", { key: w, className: "px-3 py-3 text-center" }, /* @__PURE__ */ React.createElement("span", { className: `text-sm font-bold font-mono ${n >= 5 ? "text-red-600" : n >= 3 ? "text-amber-600" : n > 0 ? "text-green-600" : "text-slate-300"}` }, n > 0 ? n : "\u2014"));
      })))))), /* @__PURE__ */ React.createElement("div", { className: "mt-3 flex gap-6 text-xs" }, [["text-green-600", "1\u20132 (OK)"], ["text-amber-600", "3\u20134 (Busy)"], ["text-red-600", "5+ (Overloaded)"]].map(([c, l]) => /* @__PURE__ */ React.createElement("span", { key: l, className: `${c} font-semibold` }, l))));
    }
    function TeamVelocityReport() {
      const maxH = weeklyTrend.length ? Math.max(...weeklyTrend.map(([, h]) => h)) : 1;
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 text-sm text-slate-500" }, "Total hours logged per week across all projects (last 12 weeks). Helps identify trends in team throughput."), !weeklyTrend.length ? /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl py-16 text-center text-slate-400" }, /* @__PURE__ */ React.createElement("div", { className: "text-3xl mb-2" }, "\u26A1"), /* @__PURE__ */ React.createElement("div", null, "No time entries yet \u2014 log hours to see velocity")) : /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-end gap-1.5", style: { height: 180 } }, weeklyTrend.map(([ws, h], i) => {
        const barH = maxH > 0 ? Math.max(4, Math.round(h / maxH * 160)) : 4;
        return /* @__PURE__ */ React.createElement("div", { key: ws, className: "flex-1 flex flex-col items-center gap-1 group", title: `${ws}: ${fmtHrs(h)}` }, /* @__PURE__ */ React.createElement("span", { className: "text-xs font-mono text-slate-500 opacity-0 group-hover:opacity-100" }, fmtHrs(h)), /* @__PURE__ */ React.createElement("div", { className: "w-full rounded-t-md bg-teal-500 hover:bg-teal-600 docebo-teal-bg transition-all", style: { height: barH } }), /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-400 whitespace-nowrap", style: { fontSize: "9px" } }, fmtShort(ws)));
      })), /* @__PURE__ */ React.createElement("div", { className: "mt-4 flex justify-between text-xs text-slate-500" }, /* @__PURE__ */ React.createElement("span", null, "Total: ", fmtHrs(weeklyTrend.reduce((s, [, h]) => s + h, 0))), /* @__PURE__ */ React.createElement("span", null, "Avg/week: ", fmtHrs(weeklyTrend.reduce((s, [, h]) => s + h, 0) / Math.max(1, weeklyTrend.length))), /* @__PURE__ */ React.createElement("span", null, "Peak: ", fmtHrs(maxH)))));
    }
    function BudgetVsActualReport() {
      const rows = projects.filter((p) => p.status !== "Archived").map((p) => {
        const ptasks = tasks.filter((t) => t.projectId === p.id);
        const est = ptasks.reduce((s, t) => s + (t.estimatedHours || 0), 0);
        const logged = projectLoggedHours[p.id] || 0;
        const pct = est > 0 ? Math.round(logged / est * 100) : null;
        return { p, est, logged, pct };
      }).filter((r) => r.est > 0 || r.logged > 0).sort((a, b) => {
        var _a, _b;
        return ((_a = b.pct) != null ? _a : 0) - ((_b = a.pct) != null ? _b : 0);
      });
      return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "mb-4 text-sm text-slate-500" }, "Estimated hours (budget) vs. actual logged hours per project. Helps identify projects burning faster than planned."), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm" }, /* @__PURE__ */ React.createElement("table", { className: "w-full border-collapse" }, /* @__PURE__ */ React.createElement("thead", null, /* @__PURE__ */ React.createElement("tr", { className: "text-white text-xs uppercase tracking-wide", style: { background: "var(--dcb-navy)" } }, /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left" }, "Project"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Budget (Est. Hrs)"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Logged (Actual)"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-right" }, "Remaining"), /* @__PURE__ */ React.createElement("th", { className: "px-4 py-3 text-left w-52" }, "Budget Burn"))), /* @__PURE__ */ React.createElement("tbody", null, rows.map(({ p, est, logged, pct }, i) => {
        const over = pct !== null && pct > 100;
        const remain = est - logged;
        const barCls = over ? "bg-red-500" : pct >= 85 ? "bg-amber-500" : pct >= 50 ? "bg-blue-500" : "bg-green-500";
        return /* @__PURE__ */ React.createElement("tr", { key: p.id, className: `border-b border-slate-100 hover:bg-slate-50/50 ${i % 2 ? "bg-slate-50/20" : ""} ${over ? "bg-red-50/20" : ""}` }, /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "w-3 h-3 rounded-full flex-shrink-0", style: { background: p.color } }), /* @__PURE__ */ React.createElement("span", { className: "text-sm font-semibold text-slate-800" }, p.name))), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono" }, est > 0 ? est + "h" : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3 text-right text-sm font-mono font-semibold text-teal-700" }, logged > 0 ? fmtHrs(logged) : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: `px-4 py-3 text-right text-sm font-mono font-bold ${over ? "text-red-600" : remain > 0 ? "text-green-700" : "text-slate-400"}` }, est > 0 ? over ? `+${Math.abs(remain).toFixed(1)}h over` : remain > 0 ? remain.toFixed(1) + "h" : "0h" : "\u2014"), /* @__PURE__ */ React.createElement("td", { className: "px-4 py-3" }, pct !== null ? /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2" }, /* @__PURE__ */ React.createElement("div", { className: "flex-1 bg-slate-100 rounded-full h-2.5" }, /* @__PURE__ */ React.createElement("div", { className: `h-2.5 rounded-full ${barCls}`, style: { width: `${Math.min(100, pct)}%` } })), /* @__PURE__ */ React.createElement("span", { className: `text-xs font-bold font-mono w-12 ${over ? "text-red-600" : "text-slate-700"}` }, pct, "%", over ? " \u26A0" : "")) : /* @__PURE__ */ React.createElement("span", { className: "text-xs text-slate-300" }, "No estimates")));
      })))), /* @__PURE__ */ React.createElement("div", { className: "mt-3 text-xs text-slate-400" }, "Budget Burn % = Logged Hours \xF7 Estimated Hours \xD7 100. Over 100% means the project has exceeded its hour budget."));
    }
    const CONTENT = {
      utilization: /* @__PURE__ */ React.createElement(ResourceUtilizationReport, null),
      completion: /* @__PURE__ */ React.createElement(CompletionReport, null),
      pshours: /* @__PURE__ */ React.createElement(PSHoursBurnReport, null),
      stale: /* @__PURE__ */ React.createElement(StaleProjectsReport, null),
      health: /* @__PURE__ */ React.createElement(HealthSummaryReport, null),
      milestone: /* @__PURE__ */ React.createElement(UpcomingMilestonesReport, null),
      risk: /* @__PURE__ */ React.createElement(AtRiskTasksReport, null),
      capacity: /* @__PURE__ */ React.createElement(CapacityForecastReport, null),
      velocity: /* @__PURE__ */ React.createElement(TeamVelocityReport, null),
      budget: /* @__PURE__ */ React.createElement(BudgetVsActualReport, null)
    };
    const required = REPORTS.filter((r) => r.cat === "Required");
    const suggested = REPORTS.filter((r) => r.cat === "Suggested");
    const active = REPORTS.find((r) => r.id === activeReport);
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "mb-5" }, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Reports"), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-0.5" }, "Project analytics for planning, finance, and delivery oversight")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-6" }, /* @__PURE__ */ React.createElement("div", { className: "w-56 flex-shrink-0 space-y-3" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-bold text-slate-400 uppercase tracking-wider px-2 mb-1" }, "Required"), /* @__PURE__ */ React.createElement("div", { className: "space-y-0.5" }, required.map((r) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: r.id,
        onClick: () => setActiveReport(r.id),
        className: `w-full flex items-center gap-2.5 px-3 py-2 rounded-xl text-left transition-all ${activeReport === r.id ? "text-white shadow-sm" : "text-slate-600 hover:bg-slate-100"}`,
        style: { background: activeReport === r.id ? "var(--dcb-purple)" : "transparent", boxShadow: activeReport === r.id ? "0 2px 10px rgba(136,61,230,0.3)" : "none" }
      },
      /* @__PURE__ */ React.createElement("span", { className: "flex-shrink-0" }, r.icon),
      /* @__PURE__ */ React.createElement("span", { className: `text-sm font-semibold leading-tight ${activeReport === r.id ? "text-white" : "text-slate-800"}` }, r.label)
    )))), /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-bold text-slate-400 uppercase tracking-wider px-2 mb-1" }, "Suggested"), /* @__PURE__ */ React.createElement("div", { className: "space-y-0.5" }, suggested.map((r) => /* @__PURE__ */ React.createElement(
      "button",
      {
        key: r.id,
        onClick: () => setActiveReport(r.id),
        className: `w-full flex items-start gap-2.5 px-3 py-2 rounded-xl text-left transition-all ${activeReport === r.id ? "text-white shadow-sm" : "text-slate-600 hover:bg-slate-100"}`,
        style: { background: activeReport === r.id ? "var(--dcb-purple)" : "transparent", boxShadow: activeReport === r.id ? "0 2px 10px rgba(136,61,230,0.3)" : "none" }
      },
      /* @__PURE__ */ React.createElement("span", { className: "flex-shrink-0 mt-0.5" }, r.icon),
      /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: `text-sm font-semibold leading-tight ${activeReport === r.id ? "text-white" : "text-slate-800"}` }, r.label), r.desc && /* @__PURE__ */ React.createElement("div", { className: `text-xs mt-0.5 leading-tight ${activeReport === r.id ? "text-teal-200" : "text-slate-400"}` }, r.desc))
    ))))), /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3 mb-4" }, /* @__PURE__ */ React.createElement("h2", { className: "text-lg font-bold text-slate-900" }, active == null ? void 0 : active.icon, " ", active == null ? void 0 : active.label), (active == null ? void 0 : active.cat) === "Suggested" && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-2 py-0.5 rounded-full bg-teal-100 text-teal-600 font-semibold" }, "Suggested")), CONTENT[activeReport])));
  }
  function DataManagementTab({ onExport, onImport }) {
    const [importStatus, setImportStatus] = useState(null);
    const [importMsg, setImportMsg] = useState("");
    const [storageSize, setStorageSize] = useState(null);
    useEffect(() => {
      try {
        const raw = localStorage.getItem("pm-tool-v5") || "";
        const kb = (new Blob([raw]).size / 1024).toFixed(1);
        setStorageSize(kb);
      } catch (e) {
        setStorageSize("?");
      }
    }, []);
    const handleImportWithFeedback = () => {
      const inp = document.createElement("input");
      inp.type = "file";
      inp.accept = ".json";
      inp.onchange = (e) => {
        const f = e.target.files[0];
        if (!f) return;
        const reader = new FileReader();
        reader.onload = (ev) => {
          try {
            const d = JSON.parse(ev.target.result);
            const keys = ["users", "projects", "tasks", "templates", "timeEntries", "weeklyRows", "submittedWeeks", "approvedWeeks", "holidays", "healthReports"];
            const found = keys.filter((k) => d[k]);
            if (!found.length) throw new Error("File does not appear to be a valid PM Tool backup");
            onImport();
            setImportStatus("success");
            setImportMsg(`Imported: ${found.join(", ")}`);
          } catch (err) {
            setImportStatus("error");
            setImportMsg(err.message);
          }
        };
        reader.readAsText(f);
      };
      inp.click();
    };
    const now = (/* @__PURE__ */ new Date()).toLocaleDateString("en-CA");
    return /* @__PURE__ */ React.createElement("div", { className: "max-w-2xl space-y-6" }, /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-3 mb-1" }, /* @__PURE__ */ React.createElement("span", { className: "text-xl" }, "\u{1F4BE}"), /* @__PURE__ */ React.createElement("h3", { className: "font-bold text-slate-800" }, "Local Storage"), storageSize && /* @__PURE__ */ React.createElement("span", { className: "ml-auto text-xs px-2.5 py-1 rounded-full bg-teal-50 docebo-teal-tint text-teal-600 font-mono font-semibold" }, storageSize, " KB used")), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-1 mb-4" }, "All data is automatically saved in your browser's local storage after every change. Use the buttons below to download a backup or restore from a previous backup."), /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 text-xs text-slate-400 bg-slate-50 rounded-xl px-3 py-2" }, /* @__PURE__ */ React.createElement("span", { className: "text-green-500 font-bold" }, "\u25CF"), "Auto-save is active \u2014 changes are saved within 1 second of any edit")), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-start justify-between gap-4" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 mb-1" }, /* @__PURE__ */ React.createElement("span", { className: "text-lg" }, "\u2B07"), /* @__PURE__ */ React.createElement("h3", { className: "font-bold text-slate-800" }, "Download Backup")), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500" }, "Save all data \u2014 projects, tasks, resources, time entries, health reports \u2014 as a single ", /* @__PURE__ */ React.createElement("code", { className: "bg-slate-100 px-1 rounded font-mono text-xs" }, ".json"), " file. Use this to transfer data between browsers or keep an offline backup."), /* @__PURE__ */ React.createElement("p", { className: "text-xs text-slate-400 mt-2" }, "File will be named: ", /* @__PURE__ */ React.createElement("code", { className: "font-mono bg-slate-50 px-1 rounded" }, "pm-backup-", now, ".json"))), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: onExport,
        className: "flex-shrink-0 flex items-center gap-2 px-5 py-2.5 bg-teal-600 docebo-teal-bg text-white text-sm font-semibold rounded-xl hover:bg-teal-700 transition-all shadow-sm whitespace-nowrap"
      },
      "\u2B07 Download .json"
    ))), /* @__PURE__ */ React.createElement("div", { className: "bg-white border border-slate-200 rounded-2xl p-5 shadow-sm" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-start justify-between gap-4" }, /* @__PURE__ */ React.createElement("div", { className: "flex-1 min-w-0" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center gap-2 mb-1" }, /* @__PURE__ */ React.createElement("span", { className: "text-lg" }, "\u2B06"), /* @__PURE__ */ React.createElement("h3", { className: "font-bold text-slate-800" }, "Upload & Restore")), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500" }, "Select a previously downloaded ", /* @__PURE__ */ React.createElement("code", { className: "bg-slate-100 px-1 rounded font-mono text-xs" }, ".json"), " backup file to restore all data. ", /* @__PURE__ */ React.createElement("strong", { className: "text-amber-700" }, "This will overwrite your current data.")), importStatus === "success" && /* @__PURE__ */ React.createElement("div", { className: "mt-3 flex items-start gap-2 px-3 py-2.5 bg-green-50 border border-green-200 rounded-xl text-xs text-green-800" }, /* @__PURE__ */ React.createElement("span", { className: "font-bold flex-shrink-0" }, "\u2713"), /* @__PURE__ */ React.createElement("span", null, /* @__PURE__ */ React.createElement("strong", null, "Import successful."), " ", importMsg, ". Reload the page to see all changes.")), importStatus === "error" && /* @__PURE__ */ React.createElement("div", { className: "mt-3 flex items-start gap-2 px-3 py-2.5 bg-red-50 border border-red-200 rounded-xl text-xs text-red-800" }, /* @__PURE__ */ React.createElement("span", { className: "font-bold flex-shrink-0" }, "\u2717"), /* @__PURE__ */ React.createElement("span", null, /* @__PURE__ */ React.createElement("strong", null, "Import failed:"), " ", importMsg))), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => {
          setImportStatus(null);
          onImport();
        },
        className: "flex-shrink-0 flex items-center gap-2 px-5 py-2.5 bg-white border-2 border-slate-300 text-slate-700 text-sm font-semibold rounded-xl hover:border-teal-500 hover:text-teal-600 transition-all whitespace-nowrap"
      },
      "\u2B06 Upload .json"
    ))), /* @__PURE__ */ React.createElement("div", { className: "bg-amber-50 border border-amber-200 rounded-2xl p-4" }, /* @__PURE__ */ React.createElement("div", { className: "text-xs font-semibold text-amber-800 mb-2" }, "\u{1F4A1} Best practices"), /* @__PURE__ */ React.createElement("ul", { className: "text-xs text-amber-700 space-y-1 list-disc list-inside" }, /* @__PURE__ */ React.createElement("li", null, "Download a backup before making large bulk changes"), /* @__PURE__ */ React.createElement("li", null, "Keep backups in a shared folder (e.g. SharePoint) so the team can restore from the same snapshot"), /* @__PURE__ */ React.createElement("li", null, "Uploading a backup on a new browser will give you an identical copy of the tool"), /* @__PURE__ */ React.createElement("li", null, "The ", /* @__PURE__ */ React.createElement("code", { className: "bg-amber-100 px-1 rounded font-mono" }, "\u2193"), " / ", /* @__PURE__ */ React.createElement("code", { className: "bg-amber-100 px-1 rounded font-mono" }, "\u2191"), " buttons in the bottom-left sidebar do the same thing"))));
  }
  function AdminView({ users, setUsers, projects, setProjects, onEditUser, submittedWeeks, approvedWeeks, setApprovedWeeks, weeklyRows, timeEntries, holidays, setHolidays, sheetsUrl, setSheetsUrl, currentUser, onExport, onImport }) {
    var _a;
    const isSuperAdmin = !!(currentUser == null ? void 0 : currentUser.isSuperAdmin);
    const isManager = !!(currentUser == null ? void 0 : currentUser.isManager) || isSuperAdmin;
    const tabs = useMemo(() => [
      { id: "assignments", label: "Project Assignments" },
      { id: "roles", label: "Roles & Managers" },
      { id: "holidays", label: "Holiday Management" },
      ...isManager ? [{ id: "approvals", label: "Timesheet Approvals" }] : [],
      ...isSuperAdmin ? [{ id: "data", label: "Data Management" }] : [],
      ...isSuperAdmin ? [{ id: "integration", label: "Integration Settings" }] : []
    ], [isManager, isSuperAdmin]);
    const [sub, setSub] = useState("assignments");
    const valid = tabs.find((t) => t.id === sub) ? sub : ((_a = tabs[0]) == null ? void 0 : _a.id) || "assignments";
    return /* @__PURE__ */ React.createElement("div", { className: "p-6" }, /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-between mb-6" }, /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-900" }, "Administration"), /* @__PURE__ */ React.createElement("p", { className: "text-sm text-slate-500 mt-0.5" }, "Assignments, roles, approvals & settings")), isSuperAdmin && /* @__PURE__ */ React.createElement("span", { className: "text-xs px-3 py-1 rounded-full bg-purple-100 text-purple-700 font-semibold" }, "Super Admin")), /* @__PURE__ */ React.createElement("div", { className: "flex gap-1 p-1 bg-slate-100 rounded-xl mb-6 flex-wrap" }, tabs.map((t) => /* @__PURE__ */ React.createElement("button", { key: t.id, onClick: () => setSub(t.id), className: `px-4 py-2 rounded-lg text-sm font-semibold transition-all ${valid === t.id ? "bg-white text-slate-900 shadow-sm" : "text-slate-500 hover:text-slate-700"}` }, t.label))), valid === "assignments" && /* @__PURE__ */ React.createElement(ProjectAssignmentsTab, { users, projects, setProjects }), valid === "roles" && /* @__PURE__ */ React.createElement(RolesManagersTab, { users, setUsers, onEditUser }), valid === "approvals" && /* @__PURE__ */ React.createElement(TimesheetApprovalsTab, { users, currentUser, submittedWeeks, approvedWeeks, setApprovedWeeks, weeklyRows, timeEntries, projects, isSuperAdmin }), valid === "holidays" && /* @__PURE__ */ React.createElement(HolidayManagementTab, { holidays, setHolidays }), valid === "data" && /* @__PURE__ */ React.createElement(DataManagementTab, { onExport, onImport }), valid === "integration" && /* @__PURE__ */ React.createElement(IntegrationSettingsTab, { sheetsUrl, onSaveUrl: (url) => {
      setSheetsUrl(url);
    } }));
  }
  function App() {
    var _a;
    const [loaded, setLoaded] = useState(false);
    const [users, setUsers] = useState(SEED_USERS);
    const [projects, setProjects] = useState(SEED_PROJECTS);
    const [tasks, setTasks] = useState(SEED_TASKS);
    const [templates, setTemplates] = useState(SEED_TEMPLATES);
    const [timeEntries, setTimeEntries] = useState(SEED_TIME_ENTRIES);
    const [weeklyRows, setWeeklyRows] = useState(SEED_WEEKLY_ROWS);
    const [submittedWeeks, setSubmittedWeeks] = useState({});
    const [approvedWeeks, setApprovedWeeks] = useState({});
    const [holidays, setHolidays] = useState(SEED_HOLIDAYS);
    const [healthReports, setHealthReports] = useState(SEED_HEALTH_REPORTS);
    const [sheetsUrl, setSheetsUrl] = useState("");
    const [currentUserId, setCurrentUserId] = useState("u_johndoe");
    const [nav, setNav] = useState({ view: "dashboard", projectId: null });
    const [modal, setModal] = useState(null);
    const [toast, setToast] = useState(null);
    const [saveStatus, setSaveStatus] = useState("saved");
    const currentUser = useMemo(() => users.find((u) => u.id === currentUserId) || users[0], [users, currentUserId]);
    useEffect(() => {
      loadData().then((saved) => {
        if (saved) {
          if (saved.users) setUsers(saved.users);
          if (saved.projects) setProjects(saved.projects);
          if (saved.tasks) setTasks(saved.tasks);
          if (saved.templates) setTemplates(saved.templates);
          if (saved.timeEntries && typeof saved.timeEntries === "object") setTimeEntries(saved.timeEntries);
          if (saved.weeklyRows && typeof saved.weeklyRows === "object") setWeeklyRows(saved.weeklyRows);
          if (saved.submittedWeeks && typeof saved.submittedWeeks === "object") setSubmittedWeeks(saved.submittedWeeks);
          if (saved.approvedWeeks && typeof saved.approvedWeeks === "object") setApprovedWeeks(saved.approvedWeeks);
          if (Array.isArray(saved.holidays)) setHolidays(saved.holidays);
          if (saved.healthReports && typeof saved.healthReports === "object") setHealthReports(saved.healthReports);
          if (saved.currentUserId) setCurrentUserId(saved.currentUserId);
          if (saved.sheetsUrl) {
            setSheetsUrl(saved.sheetsUrl || "");
          }
        }
        setLoaded(true);
      });
    }, []);
    const saveRef = useRef();
    useEffect(() => {
      if (!loaded) return;
      setSaveStatus("unsaved");
      clearTimeout(saveRef.current);
      saveRef.current = setTimeout(async () => {
        setSaveStatus("saving");
        await saveData({ users, projects, tasks, templates, timeEntries, weeklyRows, submittedWeeks, approvedWeeks, holidays, healthReports, currentUserId, sheetsUrl });
        setSaveStatus("saved");
      }, 800);
    }, [users, projects, tasks, templates, timeEntries, weeklyRows, submittedWeeks, approvedWeeks, holidays, healthReports, currentUserId, loaded]);
    const showToast = (msg) => setToast(msg);
    useEffect(() => {
      const h = (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === "s") {
          e.preventDefault();
          handleManualSave();
        }
      };
      window.addEventListener("keydown", h);
      return () => window.removeEventListener("keydown", h);
    }, [users, projects, tasks, templates, timeEntries, weeklyRows, submittedWeeks, approvedWeeks, holidays, healthReports]);
    const handleManualSave = async () => {
      setSaveStatus("saving");
      await saveData({ users, projects, tasks, templates, timeEntries, weeklyRows, submittedWeeks, approvedWeeks, holidays, healthReports, currentUserId, sheetsUrl });
      setSaveStatus("saved");
      showToast("\u2713 Saved to local storage");
    };
    const handleExport = () => {
      const d = { users, projects, tasks, templates, timeEntries, weeklyRows, submittedWeeks, approvedWeeks, holidays, healthReports };
      const blob = new Blob([JSON.stringify(d, null, 2)], { type: "application/json" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = `pm-backup-${(/* @__PURE__ */ new Date()).toLocaleDateString("en-CA")}.json`;
      a.click();
    };
    const handleImport = () => {
      const inp = document.createElement("input");
      inp.type = "file";
      inp.accept = ".json";
      inp.onchange = (e) => {
        const f = e.target.files[0];
        if (!f) return;
        const r = new FileReader();
        r.onload = (ev) => {
          try {
            const d = JSON.parse(ev.target.result);
            if (d.users) setUsers(d.users);
            if (d.projects) setProjects(d.projects);
            if (d.tasks) setTasks(d.tasks);
            if (d.templates) setTemplates(d.templates);
            if (d.timeEntries) setTimeEntries(d.timeEntries);
            if (d.weeklyRows) setWeeklyRows(d.weeklyRows);
            if (d.submittedWeeks) setSubmittedWeeks(d.submittedWeeks);
            if (d.approvedWeeks) setApprovedWeeks(d.approvedWeeks);
            if (d.holidays) setHolidays(d.holidays);
            if (d.healthReports) setHealthReports(d.healthReports);
            showToast("\u2713 Data imported");
          } catch (e2) {
            showToast("\u2717 Invalid file");
          }
        };
        r.readAsText(f);
      };
      inp.click();
    };
    const isMember = (p) => (currentUser == null ? void 0 : currentUser.isSuperAdmin) || (p.resourceIds || []).includes(currentUser == null ? void 0 : currentUser.id) || p.pmId === (currentUser == null ? void 0 : currentUser.id);
    const openProjectModal = (proj = null) => setModal({ type: "project", data: proj });
    const openTaskModal = (t) => {
      if (typeof t === "string") setModal({ type: "task", data: { projectId: t, id: "", title: "", type: "task", status: "Not Started", startDate: "", dueDate: "", assigneeIds: [], priority: "normal", percentDone: 0, estimatedHours: 0, parentId: null, notes: "" } });
      else setModal({ type: "task", data: t });
    };
    const handleSaveProject = (form, templateId) => {
      const isNew = !projects.find((p) => p.id === form.id);
      setProjects((ps) => isNew ? [...ps, form] : ps.map((p) => p.id === form.id ? form : p));
      if (isNew && templateId) {
        const tmpl = templates.find((t) => t.id === templateId);
        if (tmpl) setTasks((ts) => [...ts, ...(tmpl.taskTemplates || []).map((tt) => ({ id: "t_" + uid2(), projectId: form.id, title: tt.title, type: tt.type, status: "Not Started", startDate: addDays(form.startDate, tt.offsetDays), dueDate: addDays(form.startDate, tt.offsetDays + tt.durationDays), assigneeIds: [form.pmId].filter(Boolean), priority: tt.priority, percentDone: 0, estimatedHours: tt.estimatedHours, parentId: null, notes: "" }))]);
      }
      setModal(null);
      showToast(isNew ? "Project created" : "Project saved");
    };
    const handleSaveTask = (form) => {
      const isNew = !tasks.find((t) => t.id === form.id);
      setTasks((ts) => isNew ? [...ts, form] : ts.map((t) => t.id === form.id ? form : t));
      setModal(null);
      showToast(isNew ? "Task created" : "Task saved");
    };
    const handleSaveTemplate = (form) => {
      const isNew = !templates.find((t) => t.id === form.id);
      setTemplates((ts) => isNew ? [...ts, form] : ts.map((t) => t.id === form.id ? form : t));
      setModal(null);
      showToast("Template saved");
    };
    const handleSaveUser = (form) => {
      const isNew = !users.find((u) => u.id === form.id);
      setUsers((us) => isNew ? [...us, form] : us.map((u) => u.id === form.id ? __spreadValues(__spreadValues({}, u), form) : u));
      setModal(null);
      showToast(isNew ? "Resource added" : "User saved");
    };
    const handleDeleteUser = (id) => {
      setUsers((us) => us.filter((u) => u.id !== id));
      setProjects((ps) => ps.map((p) => __spreadProps(__spreadValues({}, p), { resourceIds: (p.resourceIds || []).filter((r) => r !== id) })));
      setModal(null);
      showToast("Resource deleted");
    };
    const handleDeleteTask = (id) => {
      setTasks((ts) => ts.filter((t) => t.id !== id));
      setModal(null);
    };
    const setNavSafe = (navObj) => {
      const sa = !!(currentUser == null ? void 0 : currentUser.isSuperAdmin);
      const mgr = !!(currentUser == null ? void 0 : currentUser.isManager);
      const cli = !!(currentUser == null ? void 0 : currentUser.isClient);
      const CBLK = ["time", "resources", "templates", "health", "admin", "reports"];
      const MONLY = [];
      if (cli && CBLK.includes(navObj.view)) return;
      if (!sa && !mgr && MONLY.includes(navObj.view)) return;
      setNav(navObj);
    };
    const currentProject = projects.find((p) => p.id === nav.projectId) || nav.view === "projects" && projects[0];
    function uid2() {
      return "x" + Math.random().toString(36).slice(2, 9);
    }
    const saveBarEl = /* @__PURE__ */ React.createElement(SaveBar, { status: saveStatus, onSave: handleManualSave, onExport: handleExport, onImport: handleImport });
    if (!loaded) return /* @__PURE__ */ React.createElement("div", { className: "h-screen flex items-center justify-center bg-slate-100" }, /* @__PURE__ */ React.createElement("div", { className: "text-center" }, /* @__PURE__ */ React.createElement("div", { className: "text-4xl mb-3" }, "\u27F3"), /* @__PURE__ */ React.createElement("div", { className: "text-slate-500 font-medium" }, "Loading\u2026")));
    if (users.length === 0 || !currentUser) return /* @__PURE__ */ React.createElement("div", { className: "h-screen flex items-center justify-center bg-slate-100" }, /* @__PURE__ */ React.createElement("div", { className: "text-center max-w-sm px-6" }, /* @__PURE__ */ React.createElement("div", { className: "text-6xl mb-5" }, "\uD83D\uDEE0\uFE0F"), /* @__PURE__ */ React.createElement("h1", { className: "text-2xl font-bold text-slate-800 mb-2" }, "Welcome to the PM Tool"), /* @__PURE__ */ React.createElement("p", { className: "text-slate-500 mb-6 text-sm leading-relaxed" }, "No users exist yet. Add your first user to get started."), /* @__PURE__ */ React.createElement("button", { onClick: () => setModal({ type: "user", data: null }), className: "px-6 py-3 rounded-xl text-white font-semibold text-sm shadow-md hover:opacity-90 transition", style: { background: "#7c3aed" } }, "+ Add First User"), modal && modal.type === "user" && /* @__PURE__ */ React.createElement(UserModal, { user: modal.data, users, onSave: handleSaveUser, onClose: () => setModal(null) })));
    return /* @__PURE__ */ React.createElement("div", { className: "h-screen flex overflow-hidden", style: { background: "var(--dcb-bg)", "--tw-bg-opacity": 1 } }, /* @__PURE__ */ React.createElement(
      Sidebar,
      {
        view: nav.view,
        onNav: setNavSafe,
        users,
        currentUser,
        onChangeUser: (id) => {
          var _a2;
          setCurrentUserId(id);
          showToast(`Switched to ${(_a2 = users.find((u) => u.id === id)) == null ? void 0 : _a2.name}`);
        },
        projects,
        saveBar: saveBarEl
      }
    ), /* @__PURE__ */ React.createElement("main", { className: "flex-1 overflow-y-auto min-w-0" }, nav.view === "dashboard" && /* @__PURE__ */ React.createElement(DashboardView, { projects, tasks, users, timeEntries, currentUser, onNav: setNavSafe }), nav.view === "projects" && !currentProject && /* @__PURE__ */ React.createElement(ProjectsView, { projects, tasks, users, isMember, onNew: () => openProjectModal(), onEdit: openProjectModal, onSelect: (p) => setNavSafe({ view: "projects", projectId: p.id }) }), nav.view === "projects" && currentProject && /* @__PURE__ */ React.createElement(ProjectDetailView, { project: currentProject, tasks, setTasks, users, allProjects: projects, isMember: isMember(currentProject), onBack: () => setNavSafe({ view: "projects" }), onEditProject: isMember(currentProject) ? openProjectModal : null, onNewTask: openTaskModal, onEditTask: isMember(currentProject) ? openTaskModal : null }), nav.view === "time" && /* @__PURE__ */ React.createElement(TimeEntryView, { currentUser, users, projects, tasks, timeEntries, setTimeEntries, weeklyRows, setWeeklyRows, submittedWeeks, setSubmittedWeeks, approvedWeeks, holidays }), nav.view === "resources" && /* @__PURE__ */ React.createElement(ResourcesView, { users, projects, tasks, onEdit: (u) => setModal({ type: "user", data: u }), onAddUser: () => setModal({ type: "user", data: null }), onDelete: handleDeleteUser }), nav.view === "templates" && /* @__PURE__ */ React.createElement(TemplatesView, { templates, onNew: () => setModal({ type: "template", data: null }), onEdit: (t) => setModal({ type: "template", data: t }), onDelete: (id) => setTemplates((ts) => ts.filter((t) => t.id !== id)), onApply: (tmpl) => showToast(`Template "${tmpl.name}" \u2014 create a project to apply it`) }), nav.view === "health" && /* @__PURE__ */ React.createElement(HealthView, { projects, currentUser, healthReports, setHealthReports }), nav.view === "admin" && /* @__PURE__ */ React.createElement(AdminView, { users, setUsers, projects, setProjects, onEditUser: (u) => setModal({ type: "user", data: u }), submittedWeeks, approvedWeeks, setApprovedWeeks, weeklyRows, timeEntries, holidays, setHolidays, sheetsUrl, setSheetsUrl: (url) => {
      setSheetsUrl(url);
    }, currentUser, onExport: handleExport, onImport: handleImport }), nav.view === "reports" && /* @__PURE__ */ React.createElement(ReportsView, { projects, tasks, users, timeEntries, weeklyRows, healthReports })), (modal == null ? void 0 : modal.type) === "project" && /* @__PURE__ */ React.createElement(ProjectModal, { project: modal.data, projects, users, templates, onSave: handleSaveProject, onClose: () => setModal(null) }), (modal == null ? void 0 : modal.type) === "task" && /* @__PURE__ */ React.createElement(TaskModal, { task: modal.data, projectId: (_a = modal.data) == null ? void 0 : _a.projectId, allTasks: tasks, projects, tasks, users, onSave: handleSaveTask, onDelete: handleDeleteTask, onClose: () => setModal(null) }), (modal == null ? void 0 : modal.type) === "template" && /* @__PURE__ */ React.createElement(TemplateModal, { template: modal.data, onSave: handleSaveTemplate, onClose: () => setModal(null) }), (modal == null ? void 0 : modal.type) === "user" && /* @__PURE__ */ React.createElement(UserModal, { user: modal.data, users, onSave: handleSaveUser, onDelete: handleDeleteUser, onClose: () => setModal(null) }), toast && /* @__PURE__ */ React.createElement(Toast, { message: toast, onDone: () => setToast(null) }));
  }
  ReactDOM.createRoot(document.getElementById("root")).render(/* @__PURE__ */ React.createElement(App, null));
})();

</script>